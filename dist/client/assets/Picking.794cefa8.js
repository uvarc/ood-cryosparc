import{S as bt,h as _t,s as ht,Q as _,R as h,T as v,p as u,U as f,k as T,ac as ce,L as H,u as Tl,X as Gs,f as Ks,af as Cl,a6 as x,I as M,a7 as E,J as S,a2 as i,K as fe,ae as se,l as Ze,t as K,m as Xe,o as R,C as ge,D as ye,E as ke,H as we,y as Jl,z as Hl,A as ql,B as Gl,ah as Nl,ai as Vl,ak as jl,ad as wt,j as Ft,P as Ae,a9 as jt,ao as Nt,av as qt,ap as Al,a3 as Kl,aa as Gt,ar as $l,aQ as Ql,as as Wl}from"./vendor.3ae73048.js";import{d5 as Qs,av as Ws,d6 as Ys,b4 as Yl,b5 as Zs,ab as Ml,a8 as Xs,d7 as er,d8 as tr,aK as Sl,b$ as Zl,b as lr,ce as Rl,d9 as Xl,c7 as Kt,da as sr,db as rr,dc as Qt,dd as ar,de as or,df as Wt,dg as nr,dh as Xt,di as ir,dj as ur,dk as es,dl as ts,dm as ls,dn as ss,dp as cr,dq as dr,dr as rs,ds as fr,dt as as,a3 as mr,s as pr,du as br,b6 as _r,ad as hr,dv as os,p as vr,dw as gr,dx as ns,dy as yr,dz as kr,a6 as is,a5 as us,dA as wr,U as xr,dB as Er,V as Pr,dC as cs,dD as ds,dE as Dr,dF as Ir,dG as Tr,b3 as Cr,t as Nr,dH as Vr,dI as Ar,dJ as Mr,dK as Sr,dL as Yt,dM as Fr,dN as jr,dO as Zt,dP as $r,dQ as el,dR as Ur,dS as Lr,dT as Br,dU as Or,dV as Rr,cJ as fs,a1 as zr,au as Jr,cI as Ul}from"./index.9987ff70.js";import{L as Hr}from"./LoadingTab.dd8d8437.js";import{E as qr}from"./EmptyStateTab.2080cc87.js";import{I as ll}from"./Icon.61279884.js";import{C as Gr,a as Kr}from"./CursorPlus.a3135a9d.js";import{T as ms,R as Qr,S as Wr,I as Yr,a as Zr,F as Xr,as as ea,at as ta,b as la,D as sa,E as ra}from"./Authenticated.43a5e742.js";import{aS as aa,l as Re,aB as He,aW as ps}from"./index.146c2037.js";import{P as bs,I as Fl}from"./InlineHint.13c7cdd2.js";import{n as Ll,w as Bl}from"./wNumb.f094d5b4.js";import{l as _s,_ as hs}from"./lodash.7e9ccf5d.js";import"./types.8cb6216c.js";import{t as Vt}from"./Spinner.012207c4.js";import{L as zl}from"./Loading.92fe8374.js";import{af as oa}from"./router.1b465492.js";import{J as na}from"./JobError.42ea2650.js";import{S as ia,a as ua}from"./SortDescending.fe42c534.js";import{I as vs}from"./index.11580965.js";import"./jobs.d50d1674.js";import"./helpers.7177ca38.js";import"./index.2e3bb17a.js";import"./auth.ae36c178.js";import"./createNew.a4a688d1.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./Logout.c3964a48.js";import"./cleanupData.f259a128.js";import"./Exclamation.f44359c6.js";import"./TagCount.d4471cb8.js";import"./ChevronUp.0ab7bee0.js";import"./Tag.2b4e7c42.js";import"./Workflow.261abe6c.js";import"./Database.55c9be70.js";import"./Search.fa01495d.js";import"./LightningBolt.e8bda490.js";import"./SidebarLeftOpen.3b7701dd.js";import"./DotsCircleHorizontal.2485dec6.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";function ca(s){let e;return{c(){e=_("div"),this.h()},l(t){e=h(t,"DIV",{id:!0}),v(e).forEach(u),this.h()},h(){f(e,"id","exposure-table")},m(t,l){T(t,e,l),s[4](e)},p:ce,i:ce,o:ce,d(t){t&&u(e),s[4](null)}}}function da(s,e,t){let l;H(s,Qs,p=>t(3,l=p));let r=!1,a,o;const d=p=>{var c;return typeof p=="number"&&p>0&&(c=`${(p/1e4).toFixed(3)}`)!=null?c:"-"};Tl(()=>{ms.registerModule([Qr,Wr,Yr,Zr,Xr,ea,ta,la,sa,ra]),t(2,a=new ms(o,{data:l,layout:"fitDataFill",reactiveData:!0,movableColumns:!0,selectable:1,height:"100%",index:"idx",columns:[{title:"ID",field:"uid",frozen:!0},{title:"Total Manual Picks",field:"attributes.total_manual_picks",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Total Blob Picks",field:"attributes.total_blob_picks",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Median Blob Pick Score",field:"attributes.blob_pick_score_median",formatter:p=>{var c;return(c=p.getValue().toFixed(3))!=null?c:"-"}},{title:"Total Template Picks",field:"attributes.total_template_picks",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Median Template Pick Score",field:"attributes.template_pick_score_median",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Total Extracted Particles",field:"attributes.total_extracted_particles",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Total Extracted Particles (Manual)",field:"attributes.total_extracted_particles_manual",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Timestamp",field:"found_at",formatter:p=>{var c;return(c=Ks(p.getValue(),"P HH:mm:ss"))!=null?c:"-"},sorter:(p,c)=>p-c},{title:"Total Motion (pix)",field:"attributes.total_motion_dist",formatter:p=>{var c;return(c=p.getValue().toFixed(2))!=null?c:"-"}},{title:"Max In-frame Motion",field:"attributes.max_intra_frame_motion",formatter:p=>{var c;return(c=p.getValue().toFixed(3))!=null?c:"-"}},{title:"Defocus Avg. (\u03BCm)",field:"attributes.average_defocus",formatter:p=>d(p.getValue())},{title:"Defocus Range (A)",field:"attributes.defocus_range",formatter:p=>{var c;return(c=p.getValue().toFixed(0))!=null?c:"-"}},{title:"Astigmatism Angle (deg)",field:"attributes.astigmatism_angle",formatter:p=>{var c;return(c=p.getValue().toFixed(1))!=null?c:"-"}},{title:"Astigmatism",field:"attributes.astigmatism",formatter:p=>{var c;return(c=p.getValue().toFixed(2))!=null?c:"-"}},{title:"Phase Shift (deg)",field:"attributes.phase_shift",formatter:p=>{var c;return(c=p.getValue().toFixed(1))!=null?c:"-"}},{title:"CTF Fit (A)",field:"attributes.ctf_fit_to_A",formatter:p=>{var c;return(c=p.getValue().toFixed(3))!=null?c:"-"}},{title:"Relative Ice Thickness",field:"attributes.ice_thickness_rel",formatter:p=>{var c;return(c=p.getValue().toFixed(3))!=null?c:"-"}},{title:"Sample Tilt (deg)",field:"attributes.df_tilt_angle",formatter:p=>{var c;return(c=p.getValue().toFixed(1))!=null?c:"-"}},{title:"Stage",field:"stage"},{title:"Threshold Reject",field:"threshold_reject"},{title:"Manual Reject",field:"manual_reject"}]})),a.on("tableBuilt",()=>{t(1,r=!0)}),a.on("rowClick",(p,c)=>Ws(c.getData().uid)),aa&&(window._table=a),Ys.set(a)}),Gs(()=>{a==null||a.destroy(),window._table&&delete window._table});function m(p){Cl[p?"unshift":"push"](()=>{o=p,t(0,o)})}return s.$$.update=()=>{s.$$.dirty&14&&r&&Array.isArray(l)&&(a==null||a.replaceData(l))},[o,r,a,l,m]}class fa extends bt{constructor(e){super();_t(this,e,da,ca,ht,{})}}function ma(s){let e,t,l,r,a,o,d,n;return r=new ll({props:{src:Gr,size:4,modifier:"inline"}}),o=new ll({props:{src:Kr,size:4,modifier:"inline"}}),{c(){e=_("div"),t=_("p"),l=x("No manual picks. Use the "),ge(r.$$.fragment),a=x(" and "),ge(o.$$.fragment),d=x(" actions in the exposure viewer to add or remove manual picks."),this.h()},l(m){e=h(m,"DIV",{class:!0});var p=v(e);t=h(p,"P",{class:!0});var c=v(t);l=E(c,"No manual picks. Use the "),ye(r.$$.fragment,c),a=E(c," and "),ye(o.$$.fragment,c),d=E(c," actions in the exposure viewer to add or remove manual picks."),c.forEach(u),p.forEach(u),this.h()},h(){f(t,"class","text-sm leading-5 text-gray-500 italic"),f(e,"class","px-4 py-2")},m(m,p){T(m,e,p),i(e,t),i(t,l),ke(r,t,null),i(t,a),ke(o,t,null),i(t,d),n=!0},p:ce,i(m){n||(R(r.$$.fragment,m),R(o.$$.fragment,m),n=!0)},o(m){K(r.$$.fragment,m),K(o.$$.fragment,m),n=!1},d(m){m&&u(e),we(r),we(o)}}}function pa(s){let e,t;return e=new fa({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p:ce,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function ba(s){let e,t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,C,G,Z,L;const le=[pa,ma],B=[];function V($,Q){return $[1]?0:1}return P=V(s),D=B[P]=le[P](s),{c(){e=_("div"),t=_("div"),l=_("p"),r=x("Manual Picks"),a=M(),o=_("div"),d=_("span"),n=x("Total: "),m=x(s[0]),p=M(),c=_("span"),g=x("# of Exposures: "),y=x(s[2]),b=M(),w=_("div"),D.c(),N=M(),U=_("div"),F=_("span"),z=_("button"),j=x("Start Manual Extraction"),this.h()},l($){e=h($,"DIV",{class:!0});var Q=v(e);t=h(Q,"DIV",{class:!0});var X=v(t);l=h(X,"P",{class:!0});var ee=v(l);r=E(ee,"Manual Picks"),ee.forEach(u),a=S(X),o=h(X,"DIV",{class:!0});var ue=v(o);d=h(ue,"SPAN",{class:!0});var A=v(d);n=E(A,"Total: "),m=E(A,s[0]),A.forEach(u),p=S(ue),c=h(ue,"SPAN",{class:!0});var O=v(c);g=E(O,"# of Exposures: "),y=E(O,s[2]),O.forEach(u),ue.forEach(u),X.forEach(u),b=S(Q),w=h(Q,"DIV",{class:!0});var J=v(w);D.l(J),J.forEach(u),N=S(Q),U=h(Q,"DIV",{class:!0});var oe=v(U);F=h(oe,"SPAN",{class:!0});var re=v(F);z=h(re,"BUTTON",{type:!0,class:!0});var de=v(z);j=E(de,"Start Manual Extraction"),de.forEach(u),re.forEach(u),oe.forEach(u),Q.forEach(u),this.h()},h(){f(l,"class","text-sm leading-5 font-medium text-gray-900"),f(d,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 bg-blue-100 text-blue-800"),f(c,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 bg-gray-200 text-gray-800"),f(o,"class","inline-flex items-center space-x-2"),f(t,"class","w-full flex-shrink-0 flex justify-between items-center mb-2 pl-3 pr-2 py-2 bg-gray-50 border-b border-gray-200"),f(w,"class","flex-grow overflow-auto"),f(z,"type","button"),f(z,"class",q=""+((s[3]||!s[1]?"opacity-50 cursor-not-allowed":"active:bg-green-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded text-white bg-green-500 hover:bg-green-550 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150")),z.disabled=C=s[3]||!s[1],f(F,"class","inline-flex rounded shadow-sm"),f(U,"class","flex flex-shrink-0 border-t border-gray-200 p-2.5"),f(e,"class","w-full h-full flex flex-col")},m($,Q){T($,e,Q),i(e,t),i(t,l),i(l,r),i(t,a),i(t,o),i(o,d),i(d,n),i(d,m),i(o,p),i(o,c),i(c,g),i(c,y),i(e,b),i(e,w),B[P].m(w,null),i(e,N),i(e,U),i(U,F),i(F,z),i(z,j),G=!0,Z||(L=fe(z,"click",s[5]),Z=!0)},p($,[Q]){(!G||Q&1)&&se(m,$[0]),(!G||Q&4)&&se(y,$[2]);let X=P;P=V($),P===X?B[P].p($,Q):(Ze(),K(B[X],1,1,()=>{B[X]=null}),Xe(),D=B[P],D?D.p($,Q):(D=B[P]=le[P]($),D.c()),R(D,1),D.m(w,null)),(!G||Q&10&&q!==(q=""+(($[3]||!$[1]?"opacity-50 cursor-not-allowed":"active:bg-green-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded text-white bg-green-500 hover:bg-green-550 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150")))&&f(z,"class",q),(!G||Q&10&&C!==(C=$[3]||!$[1]))&&(z.disabled=C)},i($){G||(R(D),G=!0)},o($){K(D),G=!1},d($){$&&u(e),B[P].d(),Z=!1,L()}}}function _a(s,e,t){let l,r,a,o;H(s,Yl,m=>t(0,r=m)),H(s,Zs,m=>t(2,a=m)),H(s,Ml,m=>t(3,o=m));let d=r;Tl(()=>{Xs()});const n=()=>l&&tr();return s.$$.update=()=>{s.$$.dirty&1&&t(1,l=r>0),s.$$.dirty&17&&d!==r&&(t(4,d=r),er())},[r,l,a,o,d,n]}class ha extends bt{constructor(e){super();_t(this,e,_a,ba,ht,{})}}const va=s=>({}),gs=s=>({}),ga=s=>({}),ys=s=>({});function ya(s){let e;return{c(){e=x("Header")},l(t){e=E(t,"Header")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function ka(s){let e;return{c(){e=Nl("path"),this.h()},l(t){e=Vl(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),v(e).forEach(u),this.h()},h(){f(e,"fill-rule","evenodd"),f(e,"clip-rule","evenodd"),f(e,"d","M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z"),f(e,"fill","currentColor")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function wa(s){let e;return{c(){e=Nl("path"),this.h()},l(t){e=Vl(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),v(e).forEach(u),this.h()},h(){f(e,"fill-rule","evenodd"),f(e,"clip-rule","evenodd"),f(e,"d","M14.7071 12.7071C14.3166 13.0976 13.6834 13.0976 13.2929 12.7071L10 9.41421L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L9.29289 7.29289C9.68342 6.90237 10.3166 6.90237 10.7071 7.29289L14.7071 11.2929C15.0976 11.6834 15.0976 12.3166 14.7071 12.7071Z"),f(e,"fill","currentColor")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function ks(s){let e,t,l;const r=s[3].content,a=Jl(r,s,s[2],gs),o=a||xa();return{c(){e=_("div"),o&&o.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var n=v(e);o&&o.l(n),n.forEach(u),this.h()},h(){f(e,"class",t="bg-white "+s[1]+" svelte-8pe196")},m(d,n){T(d,e,n),o&&o.m(e,null),l=!0},p(d,n){a&&a.p&&(!l||n&4)&&Hl(a,r,d,d[2],l?Gl(r,d[2],n,va):ql(d[2]),gs),(!l||n&2&&t!==(t="bg-white "+d[1]+" svelte-8pe196"))&&f(e,"class",t)},i(d){l||(R(o,d),l=!0)},o(d){K(o,d),l=!1},d(d){d&&u(e),o&&o.d(d)}}}function xa(s){let e;return{c(){e=x("content")},l(t){e=E(t,"content")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function Ea(s){let e,t,l,r,a,o,d,n,m,p;const c=s[3].header,g=Jl(c,s,s[2],ys),y=g||ya();function b(N,U){return N[0]?wa:ka}let w=b(s),P=w(s),D=s[0]&&ks(s);return{c(){e=_("div"),t=_("span"),l=_("button"),y&&y.c(),r=M(),a=Nl("svg"),P.c(),d=M(),D&&D.c(),this.h()},l(N){e=h(N,"DIV",{class:!0});var U=v(e);t=h(U,"SPAN",{class:!0});var F=v(t);l=h(F,"BUTTON",{type:!0,class:!0});var z=v(l);y&&y.l(z),r=S(z),a=Vl(z,"svg",{class:!0,stroke:!0,fill:!0,viewBox:!0});var j=v(a);P.l(j),j.forEach(u),z.forEach(u),F.forEach(u),d=S(U),D&&D.l(U),U.forEach(u),this.h()},h(){f(a,"class","h-5 w-5 text-gray-500 group-hover:text-gray-500 group-focus:text-gray-600 transition ease-in-out duration-150"),f(a,"stroke","none"),f(a,"fill","currentColor"),f(a,"viewBox","0 0 20 20"),f(l,"type","button"),f(l,"class",o="header "+(s[0]?"bg-gray-100":"bg-white")+" border-b border-gray-200 flex w-full items-center justify-between px-2.5 py-1.5 text-sm leading-4 font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-200 focus:outline-none transition ease-in-out duration-150"),f(t,"class","flex w-full sticky section-header svelte-8pe196"),f(e,"class","section")},m(N,U){T(N,e,U),i(e,t),i(t,l),y&&y.m(l,null),i(l,r),i(l,a),P.m(a,null),i(e,d),D&&D.m(e,null),n=!0,m||(p=fe(t,"click",s[4]),m=!0)},p(N,[U]){g&&g.p&&(!n||U&4)&&Hl(g,c,N,N[2],n?Gl(c,N[2],U,ga):ql(N[2]),ys),w!==(w=b(N))&&(P.d(1),P=w(N),P&&(P.c(),P.m(a,null))),(!n||U&1&&o!==(o="header "+(N[0]?"bg-gray-100":"bg-white")+" border-b border-gray-200 flex w-full items-center justify-between px-2.5 py-1.5 text-sm leading-4 font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-200 focus:outline-none transition ease-in-out duration-150"))&&f(l,"class",o),N[0]?D?(D.p(N,U),U&1&&R(D,1)):(D=ks(N),D.c(),R(D,1),D.m(e,null)):D&&(Ze(),K(D,1,1,()=>{D=null}),Xe())},i(N){n||(R(y,N),R(D),n=!0)},o(N){K(y,N),K(D),n=!1},d(N){N&&u(e),y&&y.d(N),P.d(),D&&D.d(),m=!1,p()}}}function Pa(s,e,t){let{$$slots:l={},$$scope:r}=e,{expanded:a=!0}=e,{containerModifier:o=""}=e;const d=()=>{t(0,a=!a)};return s.$$set=n=>{"expanded"in n&&t(0,a=n.expanded),"containerModifier"in n&&t(1,o=n.containerModifier),"$$scope"in n&&t(2,r=n.$$scope)},[a,o,r,l,d]}class sl extends bt{constructor(e){super();_t(this,e,Pa,Ea,ht,{expanded:0,containerModifier:1})}}function ws(s,e,t){const l=s.slice();return l[10]=e[t],l}function xs(s){let e,t,l=s[4],r=[];for(let o=0;o<l.length;o+=1)r[o]=Es(ws(s,l,o));const a=o=>K(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var d=v(e);for(let n=0;n<r.length;n+=1)r[n].l(d);d.forEach(u),this.h()},h(){f(e,"class","mt-2 grid grid-cols-4 gap-y-1 gap-x-4 px-2.5")},m(o,d){T(o,e,d);for(let n=0;n<r.length;n+=1)r[n].m(e,null);t=!0},p(o,d){if(d&16){l=o[4];let n;for(n=0;n<l.length;n+=1){const m=ws(o,l,n);r[n]?(r[n].p(m,d),R(r[n],1)):(r[n]=Es(m),r[n].c(),R(r[n],1),r[n].m(e,null))}for(Ze(),n=l.length;n<r.length;n+=1)a(n);Xe()}},i(o){if(!t){for(let d=0;d<l.length;d+=1)R(r[d]);t=!0}},o(o){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)K(r[d]);t=!1},d(o){o&&u(e),jl(r,o)}}}function Es(s){let e,t;return e=new bs({props:{sectionName:Ps,title:s[10].title,name:s[10].name,description:s[10].desc,isAdvanced:s[10].advanced===!0,isDefault:s[10].is_default===!0,baseValue:s[10].base_value,value:s[10].value,type:s[10].type}}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p(l,r){const a={};r&16&&(a.title=l[10].title),r&16&&(a.name=l[10].name),r&16&&(a.description=l[10].desc),r&16&&(a.isAdvanced=l[10].advanced===!0),r&16&&(a.isDefault=l[10].is_default===!0),r&16&&(a.baseValue=l[10].base_value),r&16&&(a.value=l[10].value),r&16&&(a.type=l[10].type),e.$set(a)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Da(s){let e=Array.isArray(s[4]),t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j=e&&xs(s);return{c(){j&&j.c(),t=M(),l=_("div"),r=_("div"),a=_("span"),o=_("button"),d=x("Test Adjustments"),m=M(),p=_("span"),c=_("button"),g=x("Activate for All"),b=M(),w=_("span"),P=_("button"),D=x("Activate for Future"),this.h()},l(q){j&&j.l(q),t=S(q),l=h(q,"DIV",{class:!0});var C=v(l);r=h(C,"DIV",{class:!0});var G=v(r);a=h(G,"SPAN",{class:!0});var Z=v(a);o=h(Z,"BUTTON",{type:!0,class:!0});var L=v(o);d=E(L,"Test Adjustments"),L.forEach(u),Z.forEach(u),m=S(G),p=h(G,"SPAN",{class:!0});var le=v(p);c=h(le,"BUTTON",{type:!0,class:!0});var B=v(c);g=E(B,"Activate for All"),B.forEach(u),le.forEach(u),b=S(G),w=h(G,"SPAN",{class:!0});var V=v(w);P=h(V,"BUTTON",{type:!0,class:!0});var $=v(P);D=E($,"Activate for Future"),$.forEach(u),V.forEach(u),G.forEach(u),C.forEach(u),this.h()},h(){f(o,"type","button"),f(o,"class",n=""+((s[3]?"opacity-50 cursor-not-allowed":"active:text-gray-800 active:bg-gray-50")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")),o.disabled=s[3],f(a,"class","inline-flex rounded-md shadow-sm"),f(c,"type","button"),f(c,"class",y=""+((s[3]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),c.disabled=s[3],f(p,"class","inline-flex rounded-md shadow-sm"),f(P,"type","button"),f(P,"class",N=""+((s[3]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),P.disabled=s[3],f(w,"class","inline-flex rounded-md shadow-sm"),f(r,"class","flex space-x-2"),f(l,"class","mt-2 w-full flex items-center justify-end px-2.5 py-2.5 bg-white border-t border-b border-gray-200")},m(q,C){j&&j.m(q,C),T(q,t,C),T(q,l,C),i(l,r),i(r,a),i(a,o),i(o,d),i(r,m),i(r,p),i(p,c),i(c,g),i(r,b),i(r,w),i(w,P),i(P,D),U=!0,F||(z=[fe(o,"click",s[7]),fe(c,"click",s[8]),fe(P,"click",s[9])],F=!0)},p(q,[C]){C&16&&(e=Array.isArray(q[4])),e?j?(j.p(q,C),C&16&&R(j,1)):(j=xs(q),j.c(),R(j,1),j.m(t.parentNode,t)):j&&(Ze(),K(j,1,1,()=>{j=null}),Xe()),(!U||C&8&&n!==(n=""+((q[3]?"opacity-50 cursor-not-allowed":"active:text-gray-800 active:bg-gray-50")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(o,"class",n),(!U||C&8)&&(o.disabled=q[3]),(!U||C&8&&y!==(y=""+((q[3]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(c,"class",y),(!U||C&8)&&(c.disabled=q[3]),(!U||C&8&&N!==(N=""+((q[3]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(P,"class",N),(!U||C&8)&&(P.disabled=q[3])},i(q){U||(R(j),U=!0)},o(q){K(j),U=!1},d(q){j&&j.d(q),q&&u(t),q&&u(l),F=!1,wt(z)}}}const Ps="blob_pick",tl="blob";function Ia(s,e,t){let l,r,a,o,d,n,m;H(s,Sl,y=>t(1,a=y)),H(s,Ml,y=>t(2,o=y)),H(s,Zl,y=>t(6,d=y)),H(s,lr,y=>t(4,n=y)),H(s,Rl,y=>t(5,m=y));const p=()=>{var y;return!o&&(l||a!==tl)&&Xl({blob_pick:(y=m==null?void 0:m.blob_pick)!=null?y:{}},tl)},c=()=>!o&&(l||a!==tl)&&Kt(!0,tl),g=()=>!o&&(l||a!==tl)&&Kt(!1,tl);return s.$$.update=()=>{s.$$.dirty&64&&t(0,l=d.filter(y=>y.section===Ps).length!==0),s.$$.dirty&7&&t(3,r=o||!l&&a===tl)},[l,a,o,r,n,m,d,p,c,g]}class Ta extends bt{constructor(e){super();_t(this,e,Ia,Da,ht,{})}}function Ca(s){let e,t,l;return{c(){e=_("div"),t=_("p"),l=x("There are no blob picks to filter or extract."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);t=h(a,"P",{class:!0});var o=v(t);l=E(o,"There are no blob picks to filter or extract."),o.forEach(u),a.forEach(u),this.h()},h(){f(t,"class","text-sm leading-5 text-gray-500 italic"),f(e,"class","p-2.5")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,i:ce,o:ce,d(r){r&&u(e)}}}function Na(s){var ol,nl,il,ul,cl,dl,fl,ml,pl,bl,_l,hl;let e,t,l,r,a,o,d,n,m=((nl=(ol=s[15])==null?void 0:ol.toFixed(3))!=null?nl:"-")+"",p,c,g,y,b,w,P,D,N=((ul=(il=s[12])==null?void 0:il.toFixed(3))!=null?ul:"-")+"",U,F,z,j,q,C,G,Z,L=((dl=(cl=s[14])==null?void 0:cl.toFixed(3))!=null?dl:"-")+"",le,B,V,$,Q,X,ee,ue,A,O,J,oe,re,de,Ce=((fl=s[9])!=null?fl:"-")+"",Ne,Ie,be,Me,ze,je,Je,xe,qe,ot,Te,k,te,Y,Ee,Ge=((ml=s[6])!=null?ml:"-")+"",Oe,rt,$e,Se,et,Ke,tt,Ue,xt,at,me,Pe,pe,vt,gt,lt,yt,Qe,Ve,Fe,ft,De,At,Mt,_e=s[5]&&Ds(s);function Rt(I,W){return I[3]&&I[2]?Ma:I[4]?Va:Aa}let kt=Rt(s),Le=kt(s),he=s[4]&&Is(s);function zt(I,W){if(I[23])return Fa;if(I[22])return Sa}let st=zt(s),ve=st&&st(s),ae=typeof((pl=s[21])==null?void 0:pl.estimatedFilteredRemote)=="number"&&Ts(s),ne=s[23]&&typeof((bl=s[21])==null?void 0:bl.estimatedFilteredLocal)=="number"&&((_l=s[21])==null?void 0:_l.estimatedFilteredLocal)!==((hl=s[21])==null?void 0:hl.estimatedFilteredRemote)&&Cs(s);function Jt(I,W){return I[20]===rl?$a:ja}let mt=Jt(s),Be=mt(s);const St=[La,Ua],We=[];function Ht(I,W){return!I[25]&&I[26]?0:1}return Ve=Ht(s),Fe=We[Ve]=St[Ve](s),{c(){e=_("div"),t=_("div"),l=_("div"),r=_("div"),a=_("dt"),o=x("Minimum"),d=M(),n=_("dd"),p=x(m),c=M(),g=_("div"),y=_("dt"),b=x("NCC Score"),P=M(),D=_("dd"),U=x(N),F=M(),_e&&_e.c(),z=M(),j=_("div"),q=_("dt"),C=x("Maximum"),G=M(),Z=_("dd"),le=x(L),B=M(),V=_("div"),$=_("div"),Q=M(),X=_("div"),ee=_("input"),ue=M(),A=_("div"),O=_("div"),J=_("dt"),oe=x("Minimum"),re=M(),de=_("dd"),Ne=x(Ce),Ie=M(),be=_("div"),Me=_("dt"),ze=x("Power Score"),Je=M(),xe=_("dd"),Le.c(),qe=M(),he&&he.c(),ot=M(),Te=_("div"),k=_("dt"),te=x("Maximum"),Y=M(),Ee=_("dd"),Oe=x(Ge),rt=M(),$e=_("div"),Se=_("div"),et=M(),Ke=_("div"),tt=_("div"),Ue=_("input"),xt=M(),at=_("div"),me=_("input"),Pe=M(),pe=_("div"),ve&&ve.c(),vt=M(),ae&&ae.c(),gt=M(),ne&&ne.c(),lt=M(),Be.c(),yt=M(),Qe=_("div"),Fe.c(),this.h()},l(I){e=h(I,"DIV",{class:!0});var W=v(e);t=h(W,"DIV",{class:!0});var ie=v(t);l=h(ie,"DIV",{class:!0});var Ye=v(l);r=h(Ye,"DIV",{});var nt=v(r);a=h(nt,"DT",{class:!0});var Et=v(a);o=E(Et,"Minimum"),Et.forEach(u),d=S(nt),n=h(nt,"DD",{class:!0});var Pt=v(n);p=E(Pt,m),Pt.forEach(u),nt.forEach(u),c=S(Ye),g=h(Ye,"DIV",{class:!0});var it=v(g);y=h(it,"DT",{class:!0});var Dt=v(y);b=E(Dt,"NCC Score"),Dt.forEach(u),P=S(it),D=h(it,"DD",{class:!0});var ut=v(D);U=E(ut,N),F=S(ut),_e&&_e.l(ut),ut.forEach(u),it.forEach(u),z=S(Ye),j=h(Ye,"DIV",{class:!0});var ct=v(j);q=h(ct,"DT",{class:!0});var It=v(q);C=E(It,"Maximum"),It.forEach(u),G=S(ct),Z=h(ct,"DD",{class:!0});var Tt=v(Z);le=E(Tt,L),Tt.forEach(u),ct.forEach(u),Ye.forEach(u),B=S(ie),V=h(ie,"DIV",{class:!0});var dt=v(V);$=h(dt,"DIV",{class:!0}),v($).forEach(u),Q=S(dt),X=h(dt,"DIV",{class:!0});var Ct=v(X);ee=h(Ct,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0}),Ct.forEach(u),dt.forEach(u),ue=S(ie),A=h(ie,"DIV",{class:!0});var pt=v(A);O=h(pt,"DIV",{});var $t=v(O);J=h($t,"DT",{class:!0});var vl=v(J);oe=E(vl,"Minimum"),vl.forEach(u),re=S($t),de=h($t,"DD",{class:!0});var gl=v(de);Ne=E(gl,Ce),gl.forEach(u),$t.forEach(u),Ie=S(pt),be=h(pt,"DIV",{class:!0});var Ut=v(be);Me=h(Ut,"DT",{class:!0});var yl=v(Me);ze=E(yl,"Power Score"),yl.forEach(u),Je=S(Ut),xe=h(Ut,"DD",{class:!0});var Lt=v(xe);Le.l(Lt),qe=S(Lt),he&&he.l(Lt),Lt.forEach(u),Ut.forEach(u),ot=S(pt),Te=h(pt,"DIV",{class:!0});var Bt=v(Te);k=h(Bt,"DT",{class:!0});var kl=v(k);te=E(kl,"Maximum"),kl.forEach(u),Y=S(Bt),Ee=h(Bt,"DD",{class:!0});var wl=v(Ee);Oe=E(wl,Ge),wl.forEach(u),Bt.forEach(u),pt.forEach(u),rt=S(ie),$e=h(ie,"DIV",{class:!0});var xl=v($e);Se=h(xl,"DIV",{class:!0}),v(Se).forEach(u),xl.forEach(u),et=S(ie),Ke=h(ie,"DIV",{class:!0});var Ot=v(Ke);tt=h(Ot,"DIV",{class:!0});var El=v(tt);Ue=h(El,"INPUT",{class:!0,type:!0,placeholder:!0}),El.forEach(u),xt=S(Ot),at=h(Ot,"DIV",{class:!0});var Pl=v(at);me=h(Pl,"INPUT",{class:!0,type:!0,placeholder:!0}),Pl.forEach(u),Ot.forEach(u),Pe=S(ie),pe=h(ie,"DIV",{class:!0});var Dl=v(pe);ve&&ve.l(Dl),Dl.forEach(u),vt=S(ie),ae&&ae.l(ie),gt=S(ie),ne&&ne.l(ie),lt=S(ie),Be.l(ie),ie.forEach(u),yt=S(W),Qe=h(W,"DIV",{class:!0});var Il=v(Qe);Fe.l(Il),Il.forEach(u),W.forEach(u),this.h()},h(){f(a,"class","text-xs leading-4 font-medium text-gray-500"),f(n,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(y,"class",w="text-xs leading-4 font-medium "+(s[5]?"text-orange-600":"text-green-700")),f(D,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(g,"class","text-center"),f(q,"class","text-xs leading-4 font-medium text-gray-500"),f(Z,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(j,"class","text-right"),f(l,"class","flex justify-between items-center"),f($,"class","picking-slider svelte-pm2qpa"),jt($,"unsavedChanges",s[5]),f(ee,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(ee,"type","number"),f(ee,"step","0.01"),f(ee,"placeholder","NCC Score"),ee.value=s[13],f(X,"class","relative rounded-md shadow-sm"),f(V,"class","mt-2 flex items-center space-x-2"),f(J,"class","text-xs leading-4 font-medium text-gray-500"),f(de,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(Me,"class",je="text-xs leading-4 font-medium "+(s[4]?"text-orange-600":"text-green-700")),f(xe,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(be,"class","text-center"),f(k,"class","text-xs leading-4 font-medium text-gray-500"),f(Ee,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(Te,"class","text-right"),f(A,"class","mt-4 flex justify-between items-center"),f(Se,"class","picking-slider svelte-pm2qpa"),jt(Se,"unsavedChanges",s[4]),f($e,"class","mt-2 flex items-center"),f(Ue,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(Ue,"type","number"),f(Ue,"placeholder","Power Score Min"),Ue.value=s[11],f(tt,"class","relative rounded-md shadow-sm"),f(me,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(me,"type","number"),f(me,"placeholder","Power Score Max"),me.value=s[8],f(at,"class","relative rounded-md shadow-sm"),f(Ke,"class","mt-4 flex justify-between items-center"),f(pe,"class","mt-4 flex justify-end items-center space-x-2"),f(t,"class","pt-3"),f(Qe,"class",ft="histogram flex justify-center "+(s[25]?"items-center":"items-start")+" pt-1 border-l border-gray-200 svelte-pm2qpa"),f(e,"class","grid grid-cols-2 gap-x-4 px-2.5 pb-2")},m(I,W){T(I,e,W),i(e,t),i(t,l),i(l,r),i(r,a),i(a,o),i(r,d),i(r,n),i(n,p),i(l,c),i(l,g),i(g,y),i(y,b),i(g,P),i(g,D),i(D,U),i(D,F),_e&&_e.m(D,null),i(l,z),i(l,j),i(j,q),i(q,C),i(j,G),i(j,Z),i(Z,le),i(t,B),i(t,V),i(V,$),s[41]($),i(V,Q),i(V,X),i(X,ee),i(t,ue),i(t,A),i(A,O),i(O,J),i(J,oe),i(O,re),i(O,de),i(de,Ne),i(A,Ie),i(A,be),i(be,Me),i(Me,ze),i(be,Je),i(be,xe),Le.m(xe,null),i(xe,qe),he&&he.m(xe,null),i(A,ot),i(A,Te),i(Te,k),i(k,te),i(Te,Y),i(Te,Ee),i(Ee,Oe),i(t,rt),i(t,$e),i($e,Se),s[42](Se),i(t,et),i(t,Ke),i(Ke,tt),i(tt,Ue),i(Ke,xt),i(Ke,at),i(at,me),i(t,Pe),i(t,pe),ve&&ve.m(pe,null),i(t,vt),ae&&ae.m(t,null),i(t,gt),ne&&ne.m(t,null),i(t,lt),Be.m(t,null),i(e,yt),i(e,Qe),We[Ve].m(Qe,null),De=!0,At||(Mt=[fe(ee,"blur",s[27]),fe(ee,"keydown",s[27]),fe(Ue,"blur",s[28]),fe(Ue,"keydown",s[28]),fe(me,"blur",s[29]),fe(me,"keydown",s[29])],At=!0)},p(I,W){var Ye,nt,Et,Pt,it,Dt,ut,ct,It,Tt,dt,Ct;(!De||W[0]&32768)&&m!==(m=((nt=(Ye=I[15])==null?void 0:Ye.toFixed(3))!=null?nt:"-")+"")&&se(p,m),(!De||W[0]&32&&w!==(w="text-xs leading-4 font-medium "+(I[5]?"text-orange-600":"text-green-700")))&&f(y,"class",w),(!De||W[0]&4096)&&N!==(N=((Pt=(Et=I[12])==null?void 0:Et.toFixed(3))!=null?Pt:"-")+"")&&se(U,N),I[5]?_e?_e.p(I,W):(_e=Ds(I),_e.c(),_e.m(D,null)):_e&&(_e.d(1),_e=null),(!De||W[0]&16384)&&L!==(L=((Dt=(it=I[14])==null?void 0:it.toFixed(3))!=null?Dt:"-")+"")&&se(le,L),W[0]&32&&jt($,"unsavedChanges",I[5]),(!De||W[0]&8192&&ee.value!==I[13])&&(ee.value=I[13]),(!De||W[0]&512)&&Ce!==(Ce=((ut=I[9])!=null?ut:"-")+"")&&se(Ne,Ce),(!De||W[0]&16&&je!==(je="text-xs leading-4 font-medium "+(I[4]?"text-orange-600":"text-green-700")))&&f(Me,"class",je),kt===(kt=Rt(I))&&Le?Le.p(I,W):(Le.d(1),Le=kt(I),Le&&(Le.c(),Le.m(xe,qe))),I[4]?he?he.p(I,W):(he=Is(I),he.c(),he.m(xe,null)):he&&(he.d(1),he=null),(!De||W[0]&64)&&Ge!==(Ge=((ct=I[6])!=null?ct:"-")+"")&&se(Oe,Ge),W[0]&16&&jt(Se,"unsavedChanges",I[4]),(!De||W[0]&2048&&Ue.value!==I[11])&&(Ue.value=I[11]),(!De||W[0]&256&&me.value!==I[8])&&(me.value=I[8]),st===(st=zt(I))&&ve?ve.p(I,W):(ve&&ve.d(1),ve=st&&st(I),ve&&(ve.c(),ve.m(pe,null))),typeof((It=I[21])==null?void 0:It.estimatedFilteredRemote)=="number"?ae?(ae.p(I,W),W[0]&2097152&&R(ae,1)):(ae=Ts(I),ae.c(),R(ae,1),ae.m(t,gt)):ae&&(Ze(),K(ae,1,1,()=>{ae=null}),Xe()),I[23]&&typeof((Tt=I[21])==null?void 0:Tt.estimatedFilteredLocal)=="number"&&((dt=I[21])==null?void 0:dt.estimatedFilteredLocal)!==((Ct=I[21])==null?void 0:Ct.estimatedFilteredRemote)?ne?(ne.p(I,W),W[0]&10485760&&R(ne,1)):(ne=Cs(I),ne.c(),R(ne,1),ne.m(t,lt)):ne&&(Ze(),K(ne,1,1,()=>{ne=null}),Xe()),mt===(mt=Jt(I))&&Be?Be.p(I,W):(Be.d(1),Be=mt(I),Be&&(Be.c(),Be.m(t,null)));let ie=Ve;Ve=Ht(I),Ve===ie?We[Ve].p(I,W):(Ze(),K(We[ie],1,1,()=>{We[ie]=null}),Xe(),Fe=We[Ve],Fe?Fe.p(I,W):(Fe=We[Ve]=St[Ve](I),Fe.c()),R(Fe,1),Fe.m(Qe,null)),(!De||W[0]&33554432&&ft!==(ft="histogram flex justify-center "+(I[25]?"items-center":"items-start")+" pt-1 border-l border-gray-200 svelte-pm2qpa"))&&f(Qe,"class",ft)},i(I){De||(R(ae),R(ne),R(Fe),De=!0)},o(I){K(ae),K(ne),K(Fe),De=!1},d(I){I&&u(e),_e&&_e.d(),s[41](null),Le.d(),he&&he.d(),s[42](null),ve&&ve.d(),ae&&ae.d(),ne&&ne.d(),Be.d(),We[Ve].d(),At=!1,wt(Mt)}}}function Ds(s){var a,o;let e,t,l=((o=(a=s[13])==null?void 0:a.toFixed(3))!=null?o:"-")+"",r;return{c(){e=x(`\u2192
              `),t=_("span"),r=x(l),this.h()},l(d){e=E(d,`\u2192
              `),t=h(d,"SPAN",{class:!0});var n=v(t);r=E(n,l),n.forEach(u),this.h()},h(){f(t,"class","font-bold")},m(d,n){T(d,e,n),T(d,t,n),i(t,r)},p(d,n){var m,p;n[0]&8192&&l!==(l=((p=(m=d[13])==null?void 0:m.toFixed(3))!=null?p:"-")+"")&&se(r,l)},d(d){d&&u(e),d&&u(t)}}}function Va(s){let e;return{c(){e=x("Not Set")},l(t){e=E(t,"Not Set")},m(t,l){T(t,e,l)},p:ce,d(t){t&&u(e)}}}function Aa(s){var o,d;let e=((o=s[9])!=null?o:"-")+"",t,l,r=((d=s[6])!=null?d:"-")+"",a;return{c(){t=x(e),l=x("\u2013"),a=x(r)},l(n){t=E(n,e),l=E(n,"\u2013"),a=E(n,r)},m(n,m){T(n,t,m),T(n,l,m),T(n,a,m)},p(n,m){var p,c;m[0]&512&&e!==(e=((p=n[9])!=null?p:"-")+"")&&se(t,e),m[0]&64&&r!==(r=((c=n[6])!=null?c:"-")+"")&&se(a,r)},d(n){n&&u(t),n&&u(l),n&&u(a)}}}function Ma(s){var o,d;let e=((o=s[10])!=null?o:"-")+"",t,l,r=((d=s[7])!=null?d:"-")+"",a;return{c(){t=x(e),l=x("\u2013"),a=x(r)},l(n){t=E(n,e),l=E(n,"\u2013"),a=E(n,r)},m(n,m){T(n,t,m),T(n,l,m),T(n,a,m)},p(n,m){var p,c;m[0]&1024&&e!==(e=((p=n[10])!=null?p:"-")+"")&&se(t,e),m[0]&128&&r!==(r=((c=n[7])!=null?c:"-")+"")&&se(a,r)},d(n){n&&u(t),n&&u(l),n&&u(a)}}}function Is(s){var n,m;let e,t,l=((n=s[11])!=null?n:"-")+"",r,a,o=((m=s[8])!=null?m:"-")+"",d;return{c(){e=x(`\u2192
              `),t=_("span"),r=x(l),a=x("\u2013"),d=x(o),this.h()},l(p){e=E(p,`\u2192
              `),t=h(p,"SPAN",{class:!0});var c=v(t);r=E(c,l),a=E(c,"\u2013"),d=E(c,o),c.forEach(u),this.h()},h(){f(t,"class","font-bold")},m(p,c){T(p,e,c),T(p,t,c),i(t,r),i(t,a),i(t,d)},p(p,c){var g,y;c[0]&2048&&l!==(l=((g=p[11])!=null?g:"-")+"")&&se(r,l),c[0]&256&&o!==(o=((y=p[8])!=null?y:"-")+"")&&se(d,o)},d(p){p&&u(e),p&&u(t)}}}function Sa(s){let e,t,l,r,a,o,d,n,m,p,c,g,y;return{c(){e=_("span"),t=_("button"),l=x("Extract for All"),o=M(),d=_("span"),n=_("button"),m=x("Extract for Future"),this.h()},l(b){e=h(b,"SPAN",{class:!0});var w=v(e);t=h(w,"BUTTON",{type:!0,class:!0});var P=v(t);l=E(P,"Extract for All"),P.forEach(u),w.forEach(u),o=S(b),d=h(b,"SPAN",{class:!0});var D=v(d);n=h(D,"BUTTON",{type:!0,class:!0});var N=v(n);m=E(N,"Extract for Future"),N.forEach(u),D.forEach(u),this.h()},h(){f(t,"type","button"),f(t,"class",r=""+((s[24]||s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),t.disabled=a=s[24]||s[23],f(e,"class","inline-flex rounded-md shadow-sm"),f(n,"type","button"),f(n,"class",p=""+((s[24]||s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),n.disabled=c=s[24]||s[23],f(d,"class","inline-flex rounded-md shadow-sm")},m(b,w){T(b,e,w),i(e,t),i(t,l),T(b,o,w),T(b,d,w),i(d,n),i(n,m),g||(y=[fe(t,"click",s[45]),fe(n,"click",s[46])],g=!0)},p(b,w){w[0]&25165824&&r!==(r=""+((b[24]||b[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(t,"class",r),w[0]&25165824&&a!==(a=b[24]||b[23])&&(t.disabled=a),w[0]&25165824&&p!==(p=""+((b[24]||b[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(n,"class",p),w[0]&25165824&&c!==(c=b[24]||b[23])&&(n.disabled=c)},d(b){b&&u(e),b&&u(o),b&&u(d),g=!1,wt(y)}}}function Fa(s){let e,t,l,r,a,o,d,n,m,p,c,g;return{c(){e=_("span"),t=_("button"),l=x("Cancel"),a=M(),o=_("span"),d=_("button"),n=x("Confirm thresholds"),this.h()},l(y){e=h(y,"SPAN",{class:!0});var b=v(e);t=h(b,"BUTTON",{type:!0,class:!0});var w=v(t);l=E(w,"Cancel"),w.forEach(u),b.forEach(u),a=S(y),o=h(y,"SPAN",{class:!0});var P=v(o);d=h(P,"BUTTON",{type:!0,class:!0});var D=v(d);n=E(D,"Confirm thresholds"),D.forEach(u),P.forEach(u),this.h()},h(){f(t,"type","button"),f(t,"class",r=""+((s[23]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")),f(e,"class","inline-flex rounded-md shadow-sm"),f(d,"type","button"),f(d,"class",m=""+((s[24]||!s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),d.disabled=p=s[24]||!s[23],f(o,"class","inline-flex rounded-md shadow-sm")},m(y,b){T(y,e,b),i(e,t),i(t,l),T(y,a,b),T(y,o,b),i(o,d),i(d,n),c||(g=[Nt(Vt.call(null,t,{content:"Revert changes to thresholds"})),fe(t,"click",s[43]),Nt(Vt.call(null,d,{content:"Confirm changes to thresholds"})),fe(d,"click",s[44])],c=!0)},p(y,b){b[0]&8388608&&r!==(r=""+((y[23]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(t,"class",r),b[0]&25165824&&m!==(m=""+((y[24]||!y[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(d,"class",m),b[0]&25165824&&p!==(p=y[24]||!y[23])&&(d.disabled=p)},d(y){y&&u(e),y&&u(a),y&&u(o),c=!1,wt(g)}}}function Ts(s){var n,m,p;let e,t,l=He((n=s[21])==null?void 0:n.estimatedFilteredRemote)+"",r,a,o,d;return o=new Fl({props:{modifier:"ml-0.5",text:`Total candidate picks: ${He((m=s[21])==null?void 0:m.totalPicks)} (filtering ${(((p=s[21])==null?void 0:p.fracRemote)*100).toFixed(2)}%)`}}),{c(){e=_("div"),t=x("Based on current thresholds, approximately "),r=x(l),a=x(` blob picks remain.
          `),ge(o.$$.fragment),this.h()},l(c){e=h(c,"DIV",{class:!0});var g=v(e);t=E(g,"Based on current thresholds, approximately "),r=E(g,l),a=E(g,` blob picks remain.
          `),ye(o.$$.fragment,g),g.forEach(u),this.h()},h(){f(e,"class","mt-4 text-gray-500 text-sm leading-5")},m(c,g){T(c,e,g),i(e,t),i(e,r),i(e,a),ke(o,e,null),d=!0},p(c,g){var b,w,P;(!d||g[0]&2097152)&&l!==(l=He((b=c[21])==null?void 0:b.estimatedFilteredRemote)+"")&&se(r,l);const y={};g[0]&2097152&&(y.text=`Total candidate picks: ${He((w=c[21])==null?void 0:w.totalPicks)} (filtering ${(((P=c[21])==null?void 0:P.fracRemote)*100).toFixed(2)}%)`),o.$set(y)},i(c){d||(R(o.$$.fragment,c),d=!0)},o(c){K(o.$$.fragment,c),d=!1},d(c){c&&u(e),we(o)}}}function Cs(s){var n,m,p;let e,t,l=He((n=s[21])==null?void 0:n.estimatedFilteredLocal)+"",r,a,o,d;return o=new Fl({props:{modifier:"ml-0.5",text:`Total candidate picks: ${He((m=s[21])==null?void 0:m.totalPicks)} (filtering ${(((p=s[21])==null?void 0:p.fracLocal)*100).toFixed(2)}%)`}}),{c(){e=_("div"),t=x("If new thresholds are applied, approximately "),r=x(l),a=x(` blob picks will remain.
          `),ge(o.$$.fragment),this.h()},l(c){e=h(c,"DIV",{class:!0});var g=v(e);t=E(g,"If new thresholds are applied, approximately "),r=E(g,l),a=E(g,` blob picks will remain.
          `),ye(o.$$.fragment,g),g.forEach(u),this.h()},h(){f(e,"class","mt-2 text-orange-700 text-sm leading-5")},m(c,g){T(c,e,g),i(e,t),i(e,r),i(e,a),ke(o,e,null),d=!0},p(c,g){var b,w,P;(!d||g[0]&2097152)&&l!==(l=He((b=c[21])==null?void 0:b.estimatedFilteredLocal)+"")&&se(r,l);const y={};g[0]&2097152&&(y.text=`Total candidate picks: ${He((w=c[21])==null?void 0:w.totalPicks)} (filtering ${(((P=c[21])==null?void 0:P.fracLocal)*100).toFixed(2)}%)`),o.$set(y)},i(c){d||(R(o.$$.fragment,c),d=!0)},o(c){K(o.$$.fragment,c),d=!1},d(c){c&&u(e),we(o)}}}function ja(s){let e,t,l,r;return{c(){e=_("div"),t=x("Session is configured to extract particles from "),l=x(s[20]),r=x(" picks. Choosing to extract will activate the blob picker with the above thresholds."),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);t=E(o,"Session is configured to extract particles from "),l=E(o,s[20]),r=E(o," picks. Choosing to extract will activate the blob picker with the above thresholds."),o.forEach(u),this.h()},h(){f(e,"class","mt-2 text-blue-700 text-sm leading-5")},m(a,o){T(a,e,o),i(e,t),i(e,l),i(e,r)},p(a,o){o[0]&1048576&&se(l,a[20])},d(a){a&&u(e)}}}function $a(s){var d;let e,t,l=((d=s[19])!=null?d:"(not set)")+"",r,a,o=typeof s[18]=="number"&&typeof s[17]=="number"&&Ns(s);return{c(){e=_("div"),t=x("Session is configured to extract particles from blob picks with NCC score \u2265 "),r=x(l),a=M(),o&&o.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var m=v(e);t=E(m,"Session is configured to extract particles from blob picks with NCC score \u2265 "),r=E(m,l),a=S(m),o&&o.l(m),m.forEach(u),this.h()},h(){f(e,"class","mt-2 text-gray-500 text-sm leading-5")},m(n,m){T(n,e,m),i(e,t),i(e,r),i(e,a),o&&o.m(e,null)},p(n,m){var p;m[0]&524288&&l!==(l=((p=n[19])!=null?p:"(not set)")+"")&&se(r,l),typeof n[18]=="number"&&typeof n[17]=="number"?o?o.p(n,m):(o=Ns(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(n){n&&u(e),o&&o.d()}}}function Ns(s){let e,t,l,r;return{c(){e=x("and "),t=x(s[18]),l=x(" \u2265 power score \u2266 "),r=x(s[17])},l(a){e=E(a,"and "),t=E(a,s[18]),l=E(a," \u2265 power score \u2266 "),r=E(a,s[17])},m(a,o){T(a,e,o),T(a,t,o),T(a,l,o),T(a,r,o)},p(a,o){o[0]&262144&&se(t,a[18]),o[0]&131072&&se(r,a[17])},d(a){a&&u(e),a&&u(t),a&&u(l),a&&u(r)}}}function Ua(s){let e,t;return e=new zl({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p:ce,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function La(s){let e,t;return{c(){e=_("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0}),this.h()},h(){qt(e.src,t=s[26])||f(e,"src",t),f(e,"alt","Blob picking histogram: NCC score vs. power score")},m(l,r){T(l,e,r)},p(l,r){r[0]&67108864&&!qt(e.src,t=l[26])&&f(e,"src",t)},i:ce,o:ce,d(l){l&&u(e)}}}function Ba(s){let e,t,l,r;const a=[Na,Ca],o=[];function d(n,m){return n[16]>0?0:1}return e=d(s),t=o[e]=a[e](s),{c(){t.c(),l=Ft()},l(n){t.l(n),l=Ft()},m(n,m){o[e].m(n,m),T(n,l,m),r=!0},p(n,m){let p=e;e=d(n),e===p?o[e].p(n,m):(Ze(),K(o[p],1,1,()=>{o[p]=null}),Xe(),t=o[e],t?t.p(n,m):(t=o[e]=a[e](n),t.c()),R(t,1),t.m(l.parentNode,l))},i(n){r||(R(t),r=!0)},o(n){K(t),r=!1},d(n){o[e].d(n),n&&u(l)}}}const rl="blob";function Oa(s,e,t){let l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,C,G,Z;H(s,sr,k=>t(6,m=k)),H(s,rr,k=>t(7,p=k)),H(s,Qt,k=>t(8,c=k)),H(s,ar,k=>t(9,g=k)),H(s,or,k=>t(10,y=k)),H(s,Wt,k=>t(11,b=k)),H(s,nr,k=>t(12,w=k)),H(s,Xt,k=>t(13,P=k)),H(s,ir,k=>t(14,D=k)),H(s,ur,k=>t(15,N=k)),H(s,es,k=>t(16,U=k)),H(s,ts,k=>t(17,F=k)),H(s,ls,k=>t(18,z=k)),H(s,ss,k=>t(19,j=k)),H(s,Sl,k=>t(20,q=k)),H(s,Ml,k=>t(24,C=k)),H(s,cr,k=>t(25,G=k)),H(s,dr,k=>t(26,Z=k));let L=!1,le=!0,B,V,$=w,Q=g,X=m,ee=y,ue=p,A={};const O=_s.exports.throttle(async()=>{const k=await rs(rl);typeof k=="object"&&t(21,A=k)},1500),J=async()=>{await as(P,b,c,rl)},oe=async()=>{var k,te;Ae(Xt,P=w,P),(k=B==null?void 0:B.noUiSlider)==null||k.set(w),Ae(Wt,b=l?y:g,b),Ae(Qt,c=r?p:m,c),(te=V==null?void 0:V.noUiSlider)==null||te.updateOptions({range:{min:g,max:m},start:[b,c]})},re=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=P;return}const Y=parseFloat(parseFloat(k.target.value).toFixed(3));Y!==Xt&&Y>=N&&Y<=D?(Ae(Xt,P=Y,P),(te=B==null?void 0:B.noUiSlider)==null||te.set(P)):Re("NCC input invalid",Y),k.currentTarget.value=P}},de=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=b;return}const Y=parseInt(k.target.value);Y!==Wt&&Y>=g&&Y<=m?(Ae(Wt,b=Y,b),(te=V==null?void 0:V.noUiSlider)==null||te.set([b,c])):Re("Power min input invalid",Y),k.currentTarget.value=b}},Ce=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=c;return}const Y=parseInt(k.target.value);Y!==Qt&&Y>=g&&Y<=m?(Ae(Qt,c=Y,c),(te=V==null?void 0:V.noUiSlider)==null||te.set([b,c])):Re("Power max input invalid",Y),k.currentTarget.value=c}},Ne=()=>{oe(),O()},Ie=()=>{J(),O()},be=()=>{Re("BlobFilterExtract handleExtractAll"),Kt(!0,rl),O()},Me=()=>{Re("BlobFilterExtract handleExtractFuture"),Kt(!1,rl),O()},ze=()=>{Re("BlobFilterExtract createSliders"),Ll.create(B,{start:[w],range:{min:N,max:D},tooltips:!0,connect:"lower",format:Bl({decimals:3})}),B.noUiSlider.on("update",(Y,Ee)=>{Xt.set(parseFloat(parseFloat(Y[Ee]).toFixed(3)))});const k=l?y:g,te=r?p:m;Ll.create(V,{start:[k,te],range:{min:g,max:m},behaviour:"drag",tooltips:!0,connect:!0,format:Bl({decimals:0})}),V.noUiSlider.on("update",(Y,Ee)=>{Ee===0?Wt.set(parseInt(Y[Ee])):Qt.set(parseInt(Y[Ee]))})};Tl(()=>(t(34,L=!0),Re("BlobFilterExtract onMount",{totalBlobPicks:U,blobNccMin:N,blobNccMax:D,blobNccValue:w}),P===null&&Ae(Xt,P=w,P),b===null&&Ae(Wt,b=l?y:g,b),c===null&&Ae(Qt,c=r?p:m,c),()=>{var k,te;(k=B==null?void 0:B.noUiSlider)==null||k.destroy(),(te=V==null?void 0:V.noUiSlider)==null||te.destroy()}));function je(k){Cl[k?"unshift":"push"](()=>{B=k,t(0,B)})}function Je(k){Cl[k?"unshift":"push"](()=>{V=k,t(1,V)})}const xe=()=>d&&Ne(),qe=()=>!C&&d&&Ie(),ot=()=>!C&&!d&&be(),Te=()=>!C&&!d&&Me();return s.$$.update=()=>{var k,te,Y,Ee,Ge,Oe,rt;if(s.$$.dirty[0]&1024&&t(3,l=typeof y=="number"&&!isNaN(y)),s.$$.dirty[0]&128&&t(2,r=typeof p=="number"&&!isNaN(p)),s.$$.dirty[0]&53249|s.$$.dirty[1]&32&&$!==w&&(Re("Remote update of blob NCC value",$,w),t(36,$=w),Ae(Xt,P=w,P),(k=B==null?void 0:B.noUiSlider)==null||k.updateOptions({range:{min:N,max:D}}),(te=B==null?void 0:B.noUiSlider)==null||te.set(w)),s.$$.dirty[0]&12288&&t(5,a=P!==w),s.$$.dirty[0]&2894|s.$$.dirty[1]&192&&(Q!==g||X!==m)){Re("Remote update of blob power min/max",Q,g,X,m);const $e=Q,Se=X;t(37,Q=g),t(38,X=m),!l&&$e===b&&Ae(Wt,b=g,b),!r&&Se===c&&Ae(Qt,c=m,c),Re("Remote update of blob power min/max -> local updates",b,c),(Y=V==null?void 0:V.noUiSlider)==null||Y.updateOptions({range:{min:g,max:m},start:[b,c]})}s.$$.dirty[0]&1730|s.$$.dirty[1]&256&&ee!==y&&(Re("Remote update of blob power min value",ee,y),t(39,ee=y),Ae(Wt,b=y,b),(Ee=V==null?void 0:V.noUiSlider)==null||Ee.updateOptions({range:{min:g,max:m}}),(Ge=V==null?void 0:V.noUiSlider)==null||Ge.set([y,p])),s.$$.dirty[0]&1730|s.$$.dirty[1]&512&&ue!==p&&(Re("Remote update of blob power max value",ue,p),t(40,ue=p),Ae(Qt,c=p,c),(Oe=V==null?void 0:V.noUiSlider)==null||Oe.updateOptions({range:{min:g,max:m}}),(rt=V==null?void 0:V.noUiSlider)==null||rt.set([y,p])),s.$$.dirty[0]&4044&&t(4,o=!(!l&&b===g&&!r&&c===m)&&(b!==y||c!==p)),s.$$.dirty[0]&48&&t(23,d=a||o),s.$$.dirty[0]&1971328&&t(22,n=q!==rl||w!==j||y!==z||p!==F),s.$$.dirty[0]&10496&&typeof P=="number"&&typeof b=="number"&&typeof c=="number"&&O(),s.$$.dirty[0]&65536&&U>0&&fr(),s.$$.dirty[0]&119296|s.$$.dirty[1]&24&&le&&L&&U>0&&typeof N=="number"&&typeof D=="number"&&typeof w=="number"&&typeof g=="number"&&(t(35,le=!1),ze())},[B,V,r,l,o,a,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,A,n,d,C,G,Z,re,de,Ce,Ne,Ie,be,Me,L,le,$,Q,X,ee,ue,je,Je,xe,qe,ot,Te]}class Ra extends bt{constructor(e){super();_t(this,e,Oa,Ba,ht,{},null,[-1,-1])}}function za(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Adjust Blob Picker"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Adjust Blob Picker"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function Ja(s){let e,t,l;return t=new Ta({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function Ha(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Filter and Extract Blob Picks"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Filter and Extract Blob Picks"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function qa(s){let e,t,l;return t=new Ra({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function Ga(s){let e,t,l,r;return e=new sl({props:{$$slots:{content:[Ja],header:[za]},$$scope:{ctx:s}}}),l=new sl({props:{$$slots:{content:[qa],header:[Ha]},$$scope:{ctx:s}}}),{c(){ge(e.$$.fragment),t=M(),ge(l.$$.fragment)},l(a){ye(e.$$.fragment,a),t=S(a),ye(l.$$.fragment,a)},m(a,o){ke(e,a,o),T(a,t,o),ke(l,a,o),r=!0},p(a,[o]){const d={};o&1&&(d.$$scope={dirty:o,ctx:a}),e.$set(d);const n={};o&1&&(n.$$scope={dirty:o,ctx:a}),l.$set(n)},i(a){r||(R(e.$$.fragment,a),R(l.$$.fragment,a),r=!0)},o(a){K(e.$$.fragment,a),K(l.$$.fragment,a),r=!1},d(a){we(e,a),a&&u(t),we(l,a)}}}class Ka extends bt{constructor(e){super();_t(this,e,null,Ga,ht,{})}}function Vs(s){let e,t,l,r,a,o,d,n,m;return{c(){e=_("span"),t=x("OR"),l=M(),r=_("span"),a=_("button"),o=x("Load from Streaming 2D Classification"),this.h()},l(p){e=h(p,"SPAN",{class:!0});var c=v(e);t=E(c,"OR"),c.forEach(u),l=S(p),r=h(p,"SPAN",{class:!0});var g=v(r);a=h(g,"BUTTON",{type:!0,class:!0});var y=v(a);o=E(y,"Load from Streaming 2D Classification"),y.forEach(u),g.forEach(u),this.h()},h(){f(e,"class","text-xs leading-4 text-gray-400 font-semibold"),f(a,"type","button"),f(a,"class","inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue active:bg-blue-700 transition ease-in-out duration-150"),f(r,"class","inline-flex rounded-md shadow-sm")},m(p,c){var g;T(p,e,c),i(e,t),T(p,l,c),T(p,r,c),i(r,a),i(a,o),n||(m=[Nt(d=Vt.call(null,a,{content:`Load from ${(g=s[12])!=null?g:"?"}`})),fe(a,"click",s[15])],n=!0)},p(p,c){var g;d&&Al(d.update)&&c&4096&&d.update.call(null,{content:`Load from ${(g=p[12])!=null?g:"?"}`})},d(p){p&&u(e),p&&u(l),p&&u(r),n=!1,wt(m)}}}function Qa(s){let e,t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,C,G,Z,L,le,B,V,$,Q,X,ee,ue,A,O,J,oe,re,de,Ce,Ne,Ie,be,Me,ze,je,Je,xe,qe,ot,Te,k,te,Y,Ee,Ge,Oe,rt,$e,Se,et,Ke,tt,Ue,xt,at,me=s[9]&&Vs(s);return{c(){e=_("div"),t=_("div"),l=_("div"),r=x("2D Classification from Latest Exposures"),a=M(),o=_("div"),d=_("div"),n=_("span"),m=x("Classes"),p=M(),c=_("input"),g=M(),y=_("div"),b=_("span"),w=x("Exposures"),P=M(),D=_("input"),N=M(),U=_("div"),F=_("span"),z=x("Classify"),j=M(),q=_("div"),C=_("select"),G=_("option"),Z=x("Manual picks"),le=_("option"),B=x("Blob picks"),$=_("option"),Q=x("Template picks"),ue=M(),A=_("div"),O=_("span"),J=_("button"),oe=x("Generate Templates"),Ne=M(),Ie=_("div"),be=_("div"),Me=x("Load Existing Templates"),ze=M(),je=_("div"),Je=_("div"),xe=_("span"),qe=x("Project ID"),ot=M(),Te=_("input"),k=M(),te=_("div"),Y=_("span"),Ee=x("Job ID"),Ge=M(),Oe=_("input"),rt=M(),$e=_("div"),Se=_("span"),et=_("button"),Ke=x("Load"),Ue=M(),me&&me.c(),this.h()},l(Pe){e=h(Pe,"DIV",{class:!0});var pe=v(e);t=h(pe,"DIV",{class:!0});var vt=v(t);l=h(vt,"DIV",{class:!0});var gt=v(l);r=E(gt,"2D Classification from Latest Exposures"),gt.forEach(u),a=S(vt),o=h(vt,"DIV",{class:!0});var lt=v(o);d=h(lt,"DIV",{class:!0});var yt=v(d);n=h(yt,"SPAN",{class:!0});var Qe=v(n);m=E(Qe,"Classes"),Qe.forEach(u),p=S(yt),c=h(yt,"INPUT",{class:!0,placeholder:!0,type:!0}),yt.forEach(u),g=S(lt),y=h(lt,"DIV",{class:!0});var Ve=v(y);b=h(Ve,"SPAN",{class:!0});var Fe=v(b);w=E(Fe,"Exposures"),Fe.forEach(u),P=S(Ve),D=h(Ve,"INPUT",{class:!0,placeholder:!0}),Ve.forEach(u),N=S(lt),U=h(lt,"DIV",{class:!0});var ft=v(U);F=h(ft,"SPAN",{class:!0});var De=v(F);z=E(De,"Classify"),De.forEach(u),j=S(ft),q=h(ft,"DIV",{});var At=v(q);C=h(At,"SELECT",{class:!0});var Mt=v(C);G=h(Mt,"OPTION",{});var _e=v(G);Z=E(_e,"Manual picks"),_e.forEach(u),le=h(Mt,"OPTION",{});var Rt=v(le);B=E(Rt,"Blob picks"),Rt.forEach(u),$=h(Mt,"OPTION",{});var kt=v($);Q=E(kt,"Template picks"),kt.forEach(u),Mt.forEach(u),At.forEach(u),ft.forEach(u),ue=S(lt),A=h(lt,"DIV",{class:!0});var Le=v(A);O=h(Le,"SPAN",{class:!0});var he=v(O);J=h(he,"BUTTON",{type:!0,class:!0});var zt=v(J);oe=E(zt,"Generate Templates"),zt.forEach(u),he.forEach(u),Le.forEach(u),lt.forEach(u),vt.forEach(u),Ne=S(pe),Ie=h(pe,"DIV",{class:!0});var st=v(Ie);be=h(st,"DIV",{class:!0});var ve=v(be);Me=E(ve,"Load Existing Templates"),ve.forEach(u),ze=S(st),je=h(st,"DIV",{class:!0});var ae=v(je);Je=h(ae,"DIV",{class:!0});var ne=v(Je);xe=h(ne,"SPAN",{class:!0});var Jt=v(xe);qe=E(Jt,"Project ID"),Jt.forEach(u),ot=S(ne),Te=h(ne,"INPUT",{class:!0,placeholder:!0}),ne.forEach(u),k=S(ae),te=h(ae,"DIV",{class:!0});var mt=v(te);Y=h(mt,"SPAN",{class:!0});var Be=v(Y);Ee=E(Be,"Job ID"),Be.forEach(u),Ge=S(mt),Oe=h(mt,"INPUT",{class:!0,placeholder:!0}),mt.forEach(u),rt=S(ae),$e=h(ae,"DIV",{class:!0});var St=v($e);Se=h(St,"SPAN",{class:!0});var We=v(Se);et=h(We,"BUTTON",{type:!0,class:!0});var Ht=v(et);Ke=E(Ht,"Load"),Ht.forEach(u),We.forEach(u),Ue=S(St),me&&me.l(St),St.forEach(u),ae.forEach(u),st.forEach(u),pe.forEach(u),this.h()},h(){f(l,"class","text-sm leading-5 font-medium text-gray-900"),f(n,"class","w-24 inline-flex items-center px-2.5 rounded-tl-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm leading-5"),f(c,"class","block w-40 px-2 py-1 border-gray-300 rounded-none rounded-tr-md transition duration-150 ease-in-out text-sm leading-5 focus:z-10"),f(c,"placeholder","20"),f(c,"type","number"),f(d,"class","-mt-px flex w-64 rounded-t-md shadow-sm"),f(b,"class","w-24 inline-flex items-center px-2.5 border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm leading-5"),f(D,"class","block w-40 rounded-none border border-gray-300 transition duration-150 ease-in-out text-sm leading-5 px-2 py-1 focus:z-10"),f(D,"placeholder","50"),f(y,"class","-mt-px flex w-64 shadow-sm"),f(F,"class","w-24 inline-flex items-center px-2.5 rounded-bl-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm leading-5"),G.__value="manual",G.value=G.__value,G.disabled=L=!s[8],le.__value="blob",le.value=le.__value,le.disabled=V=!s[7],$.__value="template",$.value=$.__value,$.disabled=X=!s[6],f(C,"class","relative block w-40 px-2.5 py-1 rounded-none rounded-br-md border border-gray-300 bg-transparent focus:z-10 transition ease-in-out duration-150 text-sm leading-5"),C.disabled=ee=!s[5],s[2]===void 0&&Kl(()=>s[22].call(C)),f(U,"class","-mt-px flex w-64 rounded-b-md shadow-sm"),f(J,"type","button"),f(J,"class",re=""+((s[11]?"active:bg-green-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-green-500 hover:bg-green-550 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mb-2 xxl:mb-0")),J.disabled=de=!s[11],f(O,"class","inline-flex rounded-md shadow-sm"),f(A,"class","mt-2"),f(o,"class","mt-2 flex flex-col"),f(t,"class","block flex-grow"),f(be,"class","text-sm leading-5 font-medium text-gray-900"),f(xe,"class","w-24 inline-flex items-center px-2.5 rounded-tl-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm leading-5"),f(Te,"class","block w-32 rounded-none rounded-tr-md border border-gray-300 transition duration-150 ease-in-out text-sm leading-5 px-2 py-1 focus:z-10"),f(Te,"placeholder","P1"),f(Je,"class","-mt-px flex w-56 rounded-t-md shadow-sm"),f(Y,"class","w-24 inline-flex items-center px-2.5 rounded-bl-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm leading-5"),f(Oe,"class","block w-32 rounded-none rounded-br-md border border-gray-300 transition duration-150 ease-in-out text-sm leading-5 px-2 py-1 focus:z-10"),f(Oe,"placeholder","J1"),f(te,"class","-mt-px flex w-56 rounded-b-md shadow-sm"),f(et,"type","button"),f(et,"class",tt=""+((s[10]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),f(Se,"class","inline-flex rounded-md shadow-sm"),f($e,"class","mt-2 inline-flex items-center space-x-2"),f(je,"class","mt-2 flex flex-col"),f(Ie,"class","block flex-grow"),f(e,"class","w-full flex flex-wrap px-4 pt-2 pb-3")},m(Pe,pe){T(Pe,e,pe),i(e,t),i(t,l),i(l,r),i(t,a),i(t,o),i(o,d),i(d,n),i(n,m),i(d,p),i(d,c),Gt(c,s[0]),i(o,g),i(o,y),i(y,b),i(b,w),i(y,P),i(y,D),Gt(D,s[1]),i(o,N),i(o,U),i(U,F),i(F,z),i(U,j),i(U,q),i(q,C),i(C,G),i(G,Z),i(C,le),i(le,B),i(C,$),i($,Q),$l(C,s[2]),i(o,ue),i(o,A),i(A,O),i(O,J),i(J,oe),i(e,Ne),i(e,Ie),i(Ie,be),i(be,Me),i(Ie,ze),i(Ie,je),i(je,Je),i(Je,xe),i(xe,qe),i(Je,ot),i(Je,Te),Gt(Te,s[4]),i(je,k),i(je,te),i(te,Y),i(Y,Ee),i(te,Ge),i(te,Oe),Gt(Oe,s[3]),i(je,rt),i(je,$e),i($e,Se),i(Se,et),i(et,Ke),i($e,Ue),me&&me.m($e,null),xt||(at=[fe(c,"input",s[20]),fe(D,"input",s[21]),fe(C,"change",s[22]),Nt(Ce=Vt.call(null,J,{content:s[11]?`Start a 2D classification to classify ${s[2]} picks`:"Session must have picks to classify into templates"})),fe(J,"click",s[13]),fe(Te,"input",s[23]),fe(Oe,"input",s[24]),Nt(Vt.call(null,et,{content:"Load a job that contains templates"})),fe(et,"click",s[14])],xt=!0)},p(Pe,[pe]){pe&1&&Ql(c.value)!==Pe[0]&&Gt(c,Pe[0]),pe&2&&D.value!==Pe[1]&&Gt(D,Pe[1]),pe&256&&L!==(L=!Pe[8])&&(G.disabled=L),pe&128&&V!==(V=!Pe[7])&&(le.disabled=V),pe&64&&X!==(X=!Pe[6])&&($.disabled=X),pe&32&&ee!==(ee=!Pe[5])&&(C.disabled=ee),pe&4&&$l(C,Pe[2]),pe&2048&&re!==(re=""+((Pe[11]?"active:bg-green-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-green-500 hover:bg-green-550 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mb-2 xxl:mb-0"))&&f(J,"class",re),pe&2048&&de!==(de=!Pe[11])&&(J.disabled=de),Ce&&Al(Ce.update)&&pe&2052&&Ce.update.call(null,{content:Pe[11]?`Start a 2D classification to classify ${Pe[2]} picks`:"Session must have picks to classify into templates"}),pe&16&&Te.value!==Pe[4]&&Gt(Te,Pe[4]),pe&8&&Oe.value!==Pe[3]&&Gt(Oe,Pe[3]),pe&1024&&tt!==(tt=""+((Pe[10]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(et,"class",tt),Pe[9]?me?me.p(Pe,pe):(me=Vs(Pe),me.c(),me.m($e,null)):me&&(me.d(1),me=null)},i:ce,o:ce,d(Pe){Pe&&u(e),me&&me.d(),xt=!1,wt(at)}}}function Wa(s,e,t){let l,r,a,o,d,n,m,p,c,g,y,b,w,P,D;H(s,mr,$=>t(12,n=$)),H(s,pr,$=>t(26,m=$)),H(s,br,$=>t(16,p=$)),H(s,_r,$=>t(17,c=$)),H(s,hr,$=>t(18,g=$)),H(s,Rl,$=>t(19,y=$)),H(s,os,$=>t(6,b=$)),H(s,es,$=>t(7,w=$)),H(s,Yl,$=>t(8,P=$)),H(s,vr,$=>t(27,D=$));let N=20,U=50,F=b>0?"template":w>0?"blob":"manual",z="",j=D;const q=async()=>{!a||await gr(parseInt(N),parseInt(U),F,m,typeof r=="number"?r:null)},C=async()=>{!o||await ns(j,z)},G=async()=>{!d||await ns(j,n)};function Z(){N=Ql(this.value),t(0,N)}function L(){U=this.value,t(1,U)}function le(){F=Wl(this),t(2,F)}function B(){j=this.value,t(4,j)}function V(){z=this.value,t(3,z)}return s.$$.update=()=>{var $;s.$$.dirty&448&&t(5,l=P>0||w>0||b>0),s.$$.dirty&524288&&(r=($=y==null?void 0:y.template_pick)==null?void 0:$.diameter),s.$$.dirty&262183&&t(11,a=!g&&l&&parseInt(N)>0&&parseInt(U)>0&&["manual","blob","template"].includes(F)),s.$$.dirty&24&&t(10,o=z.match(/^J[0-9]+$/i)&&j.match(/^P[0-9]+$/i)),s.$$.dirty&196608&&t(9,d=c&&p)},[N,U,F,z,j,l,b,w,P,d,o,a,n,q,C,G,p,c,g,y,Z,L,le,B,V]}class Ya extends bt{constructor(e){super();_t(this,e,Wa,Qa,ht,{})}}function As(s,e,t){const l=s.slice();return l[17]=e[t],l}function Ms(s,e,t){const l=s.slice();return l[20]=e[t],l}function Ss(s){let e,t=s[8][s[20]]+"",l,r;return{c(){e=_("option"),l=x(t),this.h()},l(a){e=h(a,"OPTION",{});var o=v(e);l=E(o,t),o.forEach(u),this.h()},h(){e.__value=r=s[7][s[20]],e.value=e.__value},m(a,o){T(a,e,o),i(e,l)},p:ce,d(a){a&&u(e)}}}function Fs(s){let e,t=s[5],l=[];for(let r=0;r<t.length;r+=1)l[r]=$s(As(s,t,r));return{c(){e=_("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);for(let o=0;o<l.length;o+=1)l[o].l(a);a.forEach(u),this.h()},h(){f(e,"class","template-grid svelte-c96dez")},m(r,a){T(r,e,a);for(let o=0;o<l.length;o+=1)l[o].m(e,null)},p(r,a){if(a&32){t=r[5];let o;for(o=0;o<t.length;o+=1){const d=As(r,t,o);l[o]?l[o].p(d,a):(l[o]=$s(d),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&u(e),jl(l,r)}}}function js(s){let e,t;return{c(){e=Nl("svg"),t=Nl("path"),this.h()},l(l){e=Vl(l,"svg",{class:!0,fill:!0,viewBox:!0});var r=v(e);t=Vl(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),r.forEach(u),this.h()},h(){f(t,"fill-rule","evenodd"),f(t,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),f(t,"clip-rule","evenodd"),f(e,"class","w=4 h-4 text-blue-600"),f(e,"fill","currentColor"),f(e,"viewBox","0 0 20 20")},m(l,r){T(l,e,r),i(e,t)},d(l){l&&u(e)}}}function $s(s){let e,t,l,r,a=He(s[17].num_particles_total)+"",o,d,n,m,p,c,g=s[17].res_A.toFixed(2)+"",y,b,w,P,D=s[17].class_ess.toFixed(2)+"",N,U,F,z,j,q,C,G,Z,L,le=s[17].class_idx+"",B,V,$,Q,X=s[17].selected&&js();function ee(){return s[15](s[17])}return{c(){e=_("div"),t=_("div"),l=_("div"),r=_("span"),o=x(a),d=x(" Particles"),n=M(),X&&X.c(),m=M(),p=_("div"),c=_("span"),y=x(g),b=x(" \xC5"),w=M(),P=_("span"),N=x(D),U=x(" ECA"),F=M(),z=_("div"),j=_("img"),G=M(),Z=_("span"),L=x("Class "),B=x(le),V=M(),this.h()},l(ue){e=h(ue,"DIV",{class:!0});var A=v(e);t=h(A,"DIV",{class:!0});var O=v(t);l=h(O,"DIV",{class:!0});var J=v(l);r=h(J,"SPAN",{class:!0});var oe=v(r);o=E(oe,a),d=E(oe," Particles"),oe.forEach(u),n=S(J),X&&X.l(J),J.forEach(u),m=S(O),p=h(O,"DIV",{class:!0});var re=v(p);c=h(re,"SPAN",{});var de=v(c);y=E(de,g),b=E(de," \xC5"),de.forEach(u),w=S(re),P=h(re,"SPAN",{});var Ce=v(P);N=E(Ce,D),U=E(Ce," ECA"),Ce.forEach(u),re.forEach(u),O.forEach(u),F=S(A),z=h(A,"DIV",{class:!0});var Ne=v(z);j=h(Ne,"IMG",{src:!0,class:!0,alt:!0}),G=S(Ne),Z=h(Ne,"SPAN",{class:!0});var Ie=v(Z);L=E(Ie,"Class "),B=E(Ie,le),Ie.forEach(u),Ne.forEach(u),V=S(A),A.forEach(u),this.h()},h(){f(r,"class","truncate"),f(l,"class","row"),f(p,"class","row"),f(t,"class","header"),qt(j.src,q="/api/files/"+s[17].fileid)||f(j,"src",q),f(j,"class","img"),f(j,"alt",C="Class "+s[17].class_idx),f(Z,"class","idx"),f(z,"class","image"),f(e,"class","template-card"),jt(e,"selected",s[17].selected)},m(ue,A){T(ue,e,A),i(e,t),i(t,l),i(l,r),i(r,o),i(r,d),i(l,n),X&&X.m(l,null),i(t,m),i(t,p),i(p,c),i(c,y),i(c,b),i(p,w),i(p,P),i(P,N),i(P,U),i(e,F),i(e,z),i(z,j),i(z,G),i(z,Z),i(Z,L),i(Z,B),i(e,V),$||(Q=fe(e,"click",ee),$=!0)},p(ue,A){s=ue,A&32&&a!==(a=He(s[17].num_particles_total)+"")&&se(o,a),s[17].selected?X||(X=js(),X.c(),X.m(l,null)):X&&(X.d(1),X=null),A&32&&g!==(g=s[17].res_A.toFixed(2)+"")&&se(y,g),A&32&&D!==(D=s[17].class_ess.toFixed(2)+"")&&se(N,D),A&32&&!qt(j.src,q="/api/files/"+s[17].fileid)&&f(j,"src",q),A&32&&C!==(C="Class "+s[17].class_idx)&&f(j,"alt",C),A&32&&le!==(le=s[17].class_idx+"")&&se(B,le),A&32&&jt(e,"selected",s[17].selected)},d(ue){ue&&u(e),X&&X.d(),$=!1,Q()}}}function Za(s){let e,t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z=He(s[4])+"",j,q,C,G=He(s[3])+"",Z,L,le,B,V,$=Array.isArray(s[0]),Q,X,ee,ue=Object.keys(s[7]),A=[];for(let J=0;J<ue.length;J+=1)A[J]=Ss(Ms(s,ue,J));d=new ll({props:{src:ia}}),c=new ll({props:{src:ua}});let O=$&&Fs(s);return{c(){e=_("div"),t=_("div"),l=_("span"),r=_("select");for(let J=0;J<A.length;J+=1)A[J].c();a=M(),o=_("button"),ge(d.$$.fragment),m=M(),p=_("button"),ge(c.$$.fragment),y=M(),b=_("span"),w=_("button"),P=x("Invert Selection"),D=M(),N=_("span"),U=x("Selected: "),F=_("span"),j=x(z),q=x(" of "),C=_("span"),Z=x(G),L=M(),le=x(s[6]),B=M(),V=_("div"),O&&O.c(),this.h()},l(J){e=h(J,"DIV",{class:!0});var oe=v(e);t=h(oe,"DIV",{class:!0});var re=v(t);l=h(re,"SPAN",{class:!0});var de=v(l);r=h(de,"SELECT",{class:!0});var Ce=v(r);for(let qe=0;qe<A.length;qe+=1)A[qe].l(Ce);Ce.forEach(u),a=S(de),o=h(de,"BUTTON",{type:!0,class:!0});var Ne=v(o);ye(d.$$.fragment,Ne),Ne.forEach(u),m=S(de),p=h(de,"BUTTON",{type:!0,class:!0});var Ie=v(p);ye(c.$$.fragment,Ie),Ie.forEach(u),de.forEach(u),y=S(re),b=h(re,"SPAN",{class:!0});var be=v(b);w=h(be,"BUTTON",{type:!0,class:!0});var Me=v(w);P=E(Me,"Invert Selection"),Me.forEach(u),be.forEach(u),D=S(re),N=h(re,"SPAN",{class:!0});var ze=v(N);U=E(ze,"Selected: "),F=h(ze,"SPAN",{class:!0});var je=v(F);j=E(je,z),je.forEach(u),q=E(ze," of "),C=h(ze,"SPAN",{class:!0});var Je=v(C);Z=E(Je,G),Je.forEach(u),L=S(ze),le=E(ze,s[6]),ze.forEach(u),re.forEach(u),B=S(oe),V=h(oe,"DIV",{class:!0});var xe=v(V);O&&O.l(xe),xe.forEach(u),oe.forEach(u),this.h()},h(){f(r,"class","block w-full pl-2 pr-6 py-1 rounded-r-none rounded-l-md border border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 hover:text-gray-500 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150"),s[1]===void 0&&Kl(()=>s[11].call(r)),f(o,"type","button"),f(o,"class",n="-ml-px relative inline-flex items-center px-1.5 py-0 border text-xs leading-4 font-medium focus:z-10 focus:outline-none transition ease-in-out duration-150 "+(s[2]===!0?s[9].active:s[9].default)+" svelte-c96dez"),f(p,"type","button"),f(p,"class",g="-ml-px relative inline-flex items-center px-1.5 py-0 rounded-r border text-xs leading-4 font-medium focus:z-10 focus:outline-none transition ease-in-out duration-150 "+(s[2]===!1?s[9].active:s[9].default)+" svelte-c96dez"),f(l,"class","relative z-0 inline-flex shadow-sm rounded"),f(w,"type","button"),f(w,"class","-ml-px relative inline-flex items-center px-2.5 py-1 rounded border border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 hover:text-gray-500 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150"),f(b,"class","relative z-0 inline-flex shadow-sm rounded"),f(F,"class","text-blue-600 font-medium"),f(C,"class","text-gray-700 font-medium"),f(N,"class","text-xs text-gray-600"),f(t,"class","flex-shrink-0 w-full p-2 pt-0 flex items-center space-x-2 border-b border-gray-200"),f(V,"class","flex-grow overflow-auto"),f(e,"class","flex flex-col w-full h-full")},m(J,oe){T(J,e,oe),i(e,t),i(t,l),i(l,r);for(let re=0;re<A.length;re+=1)A[re].m(r,null);$l(r,s[1]),i(l,a),i(l,o),ke(d,o,null),i(l,m),i(l,p),ke(c,p,null),i(t,y),i(t,b),i(b,w),i(w,P),i(t,D),i(t,N),i(N,U),i(N,F),i(F,j),i(N,q),i(N,C),i(C,Z),i(N,L),i(N,le),i(e,B),i(e,V),O&&O.m(V,null),Q=!0,X||(ee=[fe(r,"change",s[11]),fe(o,"click",s[12]),fe(p,"click",s[13]),fe(w,"click",s[14])],X=!0)},p(J,[oe]){if(oe&384){ue=Object.keys(J[7]);let re;for(re=0;re<ue.length;re+=1){const de=Ms(J,ue,re);A[re]?A[re].p(de,oe):(A[re]=Ss(de),A[re].c(),A[re].m(r,null))}for(;re<A.length;re+=1)A[re].d(1);A.length=ue.length}oe&130&&$l(r,J[1]),(!Q||oe&4&&n!==(n="-ml-px relative inline-flex items-center px-1.5 py-0 border text-xs leading-4 font-medium focus:z-10 focus:outline-none transition ease-in-out duration-150 "+(J[2]===!0?J[9].active:J[9].default)+" svelte-c96dez"))&&f(o,"class",n),(!Q||oe&4&&g!==(g="-ml-px relative inline-flex items-center px-1.5 py-0 rounded-r border text-xs leading-4 font-medium focus:z-10 focus:outline-none transition ease-in-out duration-150 "+(J[2]===!1?J[9].active:J[9].default)+" svelte-c96dez"))&&f(p,"class",g),(!Q||oe&16)&&z!==(z=He(J[4])+"")&&se(j,z),(!Q||oe&8)&&G!==(G=He(J[3])+"")&&se(Z,G),(!Q||oe&64)&&se(le,J[6]),oe&1&&($=Array.isArray(J[0])),$?O?O.p(J,oe):(O=Fs(J),O.c(),O.m(V,null)):O&&(O.d(1),O=null)},i(J){Q||(R(d.$$.fragment,J),R(c.$$.fragment,J),Q=!0)},o(J){K(d.$$.fragment,J),K(c.$$.fragment,J),Q=!1},d(J){J&&u(e),jl(A,J),we(d),we(c),O&&O.d(),X=!1,wt(ee)}}}function Xa(s,e,t){let l,r,a,o,d,{classInfo:n=[]}=e;const m={numParticles:"num_particles_total",classEss:"class_ess",resolution:"res_A",classIdx:"class_idx"},p={numParticles:"# of particles",classEss:"ESS",resolution:"Resolution",classIdx:"Class Index"},c={default:"border-gray-300 bg-white text-gray-600 hover:text-gray-500 focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700",active:"border-blue-400 bg-blue-100 text-blue-600 hover:text-blue-500 focus:border-blue-500 focus:shadow-outline-blue active:bg-blue-100 active:text-blue-700"};let g=m.numParticles,y=!1;const b=(F,z,j)=>j?hs.chain(F).sortBy(m.classIdx).sortBy(z).value():hs.chain(F).sortBy(m.classIdx).sortBy(z).reverse().value();function w(){g=Wl(this),t(1,g),t(7,m)}const P=()=>{t(2,y=!0)},D=()=>{t(2,y=!1)},N=()=>yr(),U=F=>kr(F.class_idx);return s.$$set=F=>{"classInfo"in F&&t(0,n=F.classInfo)},s.$$.update=()=>{s.$$.dirty&1&&t(3,l=n.map(F=>{var z;return(z=F==null?void 0:F.num_particles_total)!=null?z:0}).reduce((F,z)=>F+z,0)),s.$$.dirty&1&&t(4,r=n.map(F=>{var z;return(F==null?void 0:F.selected)&&(z=F==null?void 0:F.num_particles_total)!=null?z:0}).reduce((F,z)=>F+z,0)),s.$$.dirty&24&&t(10,a=(r/l*100).toFixed(2)),s.$$.dirty&1024&&t(6,o=typeof a=="number"&&!isNaN(a)?`(${a}%)`:""),s.$$.dirty&7&&t(5,d=b(n,g,y))},[n,g,y,l,r,d,o,m,p,c,a,w,P,D,N,U]}class eo extends bt{constructor(e){super();_t(this,e,Xa,Za,ht,{classInfo:0})}}function to(s){let e,t,l;return{c(){e=_("div"),t=_("p"),l=x("Please generate or load existing templates in order to select them for use by the template picker."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);t=h(a,"P",{class:!0});var o=v(t);l=E(o,"Please generate or load existing templates in order to select them for use by the template picker."),o.forEach(u),a.forEach(u),this.h()},h(){f(t,"class","text-sm leading-5 text-gray-500 italic"),f(e,"class","px-4 py-2")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,i:ce,o:ce,d(r){r&&u(e)}}}function lo(s){let e,t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D;function N(C,G){var Z,L;if(C[2]==="queued"&&((Z=C[3])==null?void 0:Z.queue_message))return ro;if((L=C[4])==null?void 0:L.message)return so}let U=N(s),F=U&&U(s);const z=[io,no,oo,ao],j=[];function q(C,G){return C[5]?0:C[2]==="failed"?1:C[6]?3:2}return g=q(s),y=j[g]=z[g](s),{c(){e=_("div"),t=_("span"),l=_("button"),r=x(s[0]),a=M(),o=x(s[1]),d=M(),n=_("span"),p=M(),F&&F.c(),c=M(),y.c(),b=Ft(),this.h()},l(C){e=h(C,"DIV",{class:!0});var G=v(e);t=h(G,"SPAN",{class:!0});var Z=v(t);l=h(Z,"BUTTON",{type:!0,class:!0});var L=v(l);r=E(L,s[0]),a=S(L),o=E(L,s[1]),d=S(L),n=h(L,"SPAN",{class:!0}),v(n).forEach(u),L.forEach(u),Z.forEach(u),p=S(G),F&&F.l(G),G.forEach(u),c=S(C),y.l(C),b=Ft(),this.h()},h(){f(n,"class",m="ml-1 inline-block w-2 h-2 rounded-full "+ps(s[2])+" svelte-zw6gvd"),f(l,"type","button"),f(l,"class","inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150"),f(t,"class","inline-flex rounded-md shadow-sm"),f(e,"class","flex items-center space-x-2 px-2 py-2")},m(C,G){T(C,e,G),i(e,t),i(t,l),i(l,r),i(l,a),i(l,o),i(l,d),i(l,n),i(e,p),F&&F.m(e,null),T(C,c,G),j[g].m(C,G),T(C,b,G),w=!0,P||(D=[Nt(Vt.call(null,l,{content:"View job"})),fe(l,"click",s[8])],P=!0)},p(C,G){(!w||G&1)&&se(r,C[0]),(!w||G&2)&&se(o,C[1]),(!w||G&4&&m!==(m="ml-1 inline-block w-2 h-2 rounded-full "+ps(C[2])+" svelte-zw6gvd"))&&f(n,"class",m),U===(U=N(C))&&F?F.p(C,G):(F&&F.d(1),F=U&&U(C),F&&(F.c(),F.m(e,null)));let Z=g;g=q(C),g===Z?j[g].p(C,G):(Ze(),K(j[Z],1,1,()=>{j[Z]=null}),Xe(),y=j[g],y?y.p(C,G):(y=j[g]=z[g](C),y.c()),R(y,1),y.m(b.parentNode,b))},i(C){w||(R(y),w=!0)},o(C){K(y),w=!1},d(C){C&&u(e),F&&F.d(),C&&u(c),j[g].d(C),C&&u(b),P=!1,wt(D)}}}function so(s){var r;let e,t=((r=s[4])==null?void 0:r.message)+"",l;return{c(){e=_("p"),l=x(t),this.h()},l(a){e=h(a,"P",{class:!0});var o=v(e);l=E(o,t),o.forEach(u),this.h()},h(){f(e,"class","text-xs leading-4 text-gray-500")},m(a,o){T(a,e,o),i(e,l)},p(a,o){var d;o&16&&t!==(t=((d=a[4])==null?void 0:d.message)+"")&&se(l,t)},d(a){a&&u(e)}}}function ro(s){var r;let e,t=((r=s[3])==null?void 0:r.queue_message)+"",l;return{c(){e=_("p"),l=x(t),this.h()},l(a){e=h(a,"P",{class:!0});var o=v(e);l=E(o,t),o.forEach(u),this.h()},h(){f(e,"class","text-xs leading-4 text-gray-500")},m(a,o){T(a,e,o),i(e,l)},p(a,o){var d;o&8&&t!==(t=((d=a[3])==null?void 0:d.queue_message)+"")&&se(l,t)},d(a){a&&u(e)}}}function ao(s){let e,t;return e=new eo({props:{classInfo:s[7]}}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p(l,r){const a={};r&128&&(a.classInfo=l[7]),e.$set(a)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function oo(s){let e;function t(a,o){var d,n;return((n=(d=a[4])==null?void 0:d.classes_fileid)==null?void 0:n.length)?co:uo}let l=t(s),r=l(s);return{c(){e=_("div"),r.c(),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);r.l(o),o.forEach(u),this.h()},h(){f(e,"class","flex justify-center items-center")},m(a,o){T(a,e,o),r.m(e,null)},p(a,o){l===(l=t(a))&&r?r.p(a,o):(r.d(1),r=l(a),r&&(r.c(),r.m(e,null)))},i:ce,o:ce,d(a){a&&u(e),r.d()}}}function no(s){let e,t;return e=new na({props:{projectUid:s[0],jobUid:s[1]}}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p(l,r){const a={};r&1&&(a.projectUid=l[0]),r&2&&(a.jobUid=l[1]),e.$set(a)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function io(s){let e,t,l;return t=new zl({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"class","flex justify-center py-2")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function uo(s){let e,t,l;return{c(){e=_("div"),t=_("p"),l=x("Loading..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);t=h(a,"P",{class:!0});var o=v(t);l=E(o,"Loading..."),o.forEach(u),a.forEach(u),this.h()},h(){f(t,"class","text-xs leading-4 text-gray-500 italic"),f(e,"class","h-16 mt-6")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function co(s){let e,t,l;return{c(){e=_("img"),this.h()},l(r){e=h(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var r,a,o,d;f(e,"class","progress-img svelte-zw6gvd"),qt(e.src,t="/api/files/"+((a=(r=s[4])==null?void 0:r.classes_fileid)==null?void 0:a[0]))||f(e,"src",t),f(e,"alt",l=(d=(o=s[4])==null?void 0:o.message)!=null?d:"2D classification")},m(r,a){T(r,e,a)},p(r,a){var o,d,n,m;a&16&&!qt(e.src,t="/api/files/"+((d=(o=r[4])==null?void 0:o.classes_fileid)==null?void 0:d[0]))&&f(e,"src",t),a&16&&l!==(l=(m=(n=r[4])==null?void 0:n.message)!=null?m:"2D classification")&&f(e,"alt",l)},d(r){r&&u(e)}}}function fo(s){let e,t,l,r;const a=[lo,to],o=[];function d(n,m){return typeof n[0]=="string"&&typeof n[1]=="string"?0:1}return e=d(s),t=o[e]=a[e](s),{c(){t.c(),l=Ft()},l(n){t.l(n),l=Ft()},m(n,m){o[e].m(n,m),T(n,l,m),r=!0},p(n,[m]){let p=e;e=d(n),e===p?o[e].p(n,m):(Ze(),K(o[p],1,1,()=>{o[p]=null}),Xe(),t=o[e],t?t.p(n,m):(t=o[e]=a[e](n),t.c()),R(t,1),t.m(l.parentNode,l))},i(n){r||(R(t),r=!0)},o(n){K(t),r=!1},d(n){o[e].d(n),n&&u(l)}}}function mo(s,e,t){let l,r,a,o,d,n,m,p;return H(s,is,g=>t(0,l=g)),H(s,us,g=>t(1,r=g)),H(s,wr,g=>t(2,a=g)),H(s,xr,g=>t(3,o=g)),H(s,Er,g=>t(4,d=g)),H(s,Pr,g=>t(5,n=g)),H(s,cs,g=>t(6,m=g)),H(s,ds,g=>t(7,p=g)),[l,r,a,o,d,n,m,p,()=>oa(l,r)]}class po extends bt{constructor(e){super();_t(this,e,mo,fo,ht,{})}}function Us(s,e,t){const l=s.slice();return l[24]=e[t],l}function Ls(s){let e,t,l=s[5],r=[];for(let o=0;o<l.length;o+=1)r[o]=Bs(Us(s,l,o));const a=o=>K(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var d=v(e);for(let n=0;n<r.length;n+=1)r[n].l(d);d.forEach(u),this.h()},h(){f(e,"class","grid grid-cols-4 gap-y-1 gap-x-4 px-4 pb-2")},m(o,d){T(o,e,d);for(let n=0;n<r.length;n+=1)r[n].m(e,null);t=!0},p(o,d){if(d&32){l=o[5];let n;for(n=0;n<l.length;n+=1){const m=Us(o,l,n);r[n]?(r[n].p(m,d),R(r[n],1)):(r[n]=Bs(m),r[n].c(),R(r[n],1),r[n].m(e,null))}for(Ze(),n=l.length;n<r.length;n+=1)a(n);Xe()}},i(o){if(!t){for(let d=0;d<l.length;d+=1)R(r[d]);t=!0}},o(o){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)K(r[d]);t=!1},d(o){o&&u(e),jl(r,o)}}}function Bs(s){let e,t;return e=new bs({props:{sectionName:Os,title:s[24].title,name:s[24].name,description:s[24].desc,isAdvanced:s[24].advanced===!0,isDefault:s[24].is_default===!0,baseValue:s[24].base_value,value:s[24].value,type:s[24].type}}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p(l,r){const a={};r&32&&(a.title=l[24].title),r&32&&(a.name=l[24].name),r&32&&(a.description=l[24].desc),r&32&&(a.isAdvanced=l[24].advanced===!0),r&32&&(a.isDefault=l[24].is_default===!0),r&32&&(a.baseValue=l[24].base_value),r&32&&(a.value=l[24].value),r&32&&(a.type=l[24].type),e.$set(a)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function bo(s){let e,t,l,r,a=(s[6]!=="1"?"es":"")+"",o,d,n,m,p,c,g,y;return e=new ll({props:{src:vs,modifier:"mr-1 text-blue-400"}}),g=new Fl({props:{modifier:"ml-1",text:`Class IDs: ${s[7].join(", ")}`}}),{c(){ge(e.$$.fragment),t=x(`
      Last activated `),l=x(s[6]),r=x(" class"),o=x(a),d=x(" from "),n=x(s[1]),m=M(),p=x(s[0]),c=M(),ge(g.$$.fragment)},l(b){ye(e.$$.fragment,b),t=E(b,`
      Last activated `),l=E(b,s[6]),r=E(b," class"),o=E(b,a),d=E(b," from "),n=E(b,s[1]),m=S(b),p=E(b,s[0]),c=S(b),ye(g.$$.fragment,b)},m(b,w){ke(e,b,w),T(b,t,w),T(b,l,w),T(b,r,w),T(b,o,w),T(b,d,w),T(b,n,w),T(b,m,w),T(b,p,w),T(b,c,w),ke(g,b,w),y=!0},p(b,w){(!y||w&64)&&se(l,b[6]),(!y||w&64)&&a!==(a=(b[6]!=="1"?"es":"")+"")&&se(o,a),(!y||w&2)&&se(n,b[1]),(!y||w&1)&&se(p,b[0]);const P={};w&128&&(P.text=`Class IDs: ${b[7].join(", ")}`),g.$set(P)},i(b){y||(R(e.$$.fragment,b),R(g.$$.fragment,b),y=!0)},o(b){K(e.$$.fragment,b),K(g.$$.fragment,b),y=!1},d(b){we(e,b),b&&u(t),b&&u(l),b&&u(r),b&&u(o),b&&u(d),b&&u(n),b&&u(m),b&&u(p),b&&u(c),we(g,b)}}}function _o(s){let e,t,l,r;return e=new ll({props:{src:vs,modifier:"mr-1 text-blue-400"}}),{c(){ge(e.$$.fragment),t=M(),l=x(s[3])},l(a){ye(e.$$.fragment,a),t=S(a),l=E(a,s[3])},m(a,o){ke(e,a,o),T(a,t,o),T(a,l,o),r=!0},p(a,o){(!r||o&8)&&se(l,a[3])},i(a){r||(R(e.$$.fragment,a),r=!0)},o(a){K(e.$$.fragment,a),r=!1},d(a){we(e,a),a&&u(t),a&&u(l)}}}function ho(s){let e=Array.isArray(s[5]),t,l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,C,G,Z,L,le,B,V,$,Q=e&&Ls(s);const X=[_o,bo],ee=[];function ue(A,O){return A[3]?0:A[1]&&A[0]?1:-1}return~(a=ue(s))&&(o=ee[a]=X[a](s)),{c(){Q&&Q.c(),t=M(),l=_("div"),r=_("span"),o&&o.c(),d=M(),n=_("div"),m=_("span"),p=_("button"),c=x("Test Adjustments"),w=M(),P=_("span"),D=_("button"),N=x("Activate for All"),j=M(),q=_("span"),C=_("button"),G=x("Activate for Future"),this.h()},l(A){Q&&Q.l(A),t=S(A),l=h(A,"DIV",{class:!0});var O=v(l);r=h(O,"SPAN",{class:!0});var J=v(r);o&&o.l(J),J.forEach(u),d=S(O),n=h(O,"DIV",{class:!0});var oe=v(n);m=h(oe,"SPAN",{class:!0});var re=v(m);p=h(re,"BUTTON",{type:!0,class:!0});var de=v(p);c=E(de,"Test Adjustments"),de.forEach(u),re.forEach(u),w=S(oe),P=h(oe,"SPAN",{class:!0});var Ce=v(P);D=h(Ce,"BUTTON",{type:!0,class:!0});var Ne=v(D);N=E(Ne,"Activate for All"),Ne.forEach(u),Ce.forEach(u),j=S(oe),q=h(oe,"SPAN",{class:!0});var Ie=v(q);C=h(Ie,"BUTTON",{type:!0,class:!0});var be=v(C);G=E(be,"Activate for Future"),be.forEach(u),Ie.forEach(u),oe.forEach(u),O.forEach(u),this.h()},h(){f(r,"class","inline-flex items-center text-xs leading-4 text-blue-700"),f(p,"type","button"),f(p,"class",g=""+((s[4]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")),p.disabled=y=!s[4],f(m,"class","inline-flex rounded-md shadow-sm"),f(D,"type","button"),f(D,"class",U=""+((s[4]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),D.disabled=F=!s[4],f(P,"class","inline-flex rounded-md shadow-sm"),f(C,"type","button"),f(C,"class",Z=""+((s[4]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),C.disabled=L=!s[4],f(q,"class","inline-flex rounded-md shadow-sm"),f(n,"class","flex space-x-2"),f(l,"class","w-full flex items-center justify-between flex-wrap pl-4 pr-2 py-2 bg-white border-t border-b border-gray-200")},m(A,O){Q&&Q.m(A,O),T(A,t,O),T(A,l,O),i(l,r),~a&&ee[a].m(r,null),i(l,d),i(l,n),i(n,m),i(m,p),i(p,c),i(n,w),i(n,P),i(P,D),i(D,N),i(n,j),i(n,q),i(q,C),i(C,G),B=!0,V||($=[fe(p,"click",s[21]),Nt(b=Vt.call(null,p,{content:s[3],hide:!s[3]})),fe(D,"click",s[22]),Nt(z=Vt.call(null,D,{content:s[3],hide:!s[3]})),fe(C,"click",s[23]),Nt(le=Vt.call(null,C,{content:s[3],hide:!s[3]}))],V=!0)},p(A,[O]){O&32&&(e=Array.isArray(A[5])),e?Q?(Q.p(A,O),O&32&&R(Q,1)):(Q=Ls(A),Q.c(),R(Q,1),Q.m(t.parentNode,t)):Q&&(Ze(),K(Q,1,1,()=>{Q=null}),Xe());let J=a;a=ue(A),a===J?~a&&ee[a].p(A,O):(o&&(Ze(),K(ee[J],1,1,()=>{ee[J]=null}),Xe()),~a?(o=ee[a],o?o.p(A,O):(o=ee[a]=X[a](A),o.c()),R(o,1),o.m(r,null)):o=null),(!B||O&16&&g!==(g=""+((A[4]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(p,"class",g),(!B||O&16&&y!==(y=!A[4]))&&(p.disabled=y),b&&Al(b.update)&&O&8&&b.update.call(null,{content:A[3],hide:!A[3]}),(!B||O&16&&U!==(U=""+((A[4]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(D,"class",U),(!B||O&16&&F!==(F=!A[4]))&&(D.disabled=F),z&&Al(z.update)&&O&8&&z.update.call(null,{content:A[3],hide:!A[3]}),(!B||O&16&&Z!==(Z=""+((A[4]?"active:bg-blue-700":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")))&&f(C,"class",Z),(!B||O&16&&L!==(L=!A[4]))&&(C.disabled=L),le&&Al(le.update)&&O&8&&le.update.call(null,{content:A[3],hide:!A[3]})},i(A){B||(R(Q),R(o),B=!0)},o(A){K(Q),K(o),B=!1},d(A){Q&&Q.d(A),A&&u(t),A&&u(l),~a&&ee[a].d(),V=!1,wt($)}}}const Os="template_pick",Ol="template";function vo(s,e,t){let l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q;H(s,Sl,L=>t(12,m=L)),H(s,Ml,L=>t(13,p=L)),H(s,ds,L=>t(14,c=L)),H(s,cs,L=>t(15,g=L)),H(s,us,L=>t(16,y=L)),H(s,Dr,L=>t(17,b=L)),H(s,Ir,L=>t(0,w=L)),H(s,Tr,L=>t(1,P=L)),H(s,is,L=>t(18,D=L)),H(s,Rl,L=>t(2,N=L)),H(s,Cr,L=>t(19,U=L)),H(s,Zl,L=>t(20,F=L)),H(s,Nr,L=>t(5,z=L)),H(s,Vr,L=>t(6,j=L)),H(s,Ar,L=>t(7,q=L));const C=()=>{var L;return d&&Xl({template_pick:(L=N==null?void 0:N.template_pick)!=null?L:{}},Ol)},G=()=>d&&Kt(!0,Ol),Z=()=>d&&Kt(!1,Ol);return s.$$.update=()=>{var L,le;s.$$.dirty&1048576&&t(11,l=F.filter(B=>B.section===Os).length!==0),s.$$.dirty&524292&&t(9,r=typeof U=="number"&&U>0||typeof((L=N==null?void 0:N.template_pick)==null?void 0:L.diameter)=="number"&&((le=N==null?void 0:N.template_pick)==null?void 0:le.diameter)>0),s.$$.dirty&458755&&t(10,a=D!==P||y!==w||!b),s.$$.dirty&114688&&t(8,o=y&&g&&(c==null?void 0:c.some(B=>B.selected===!0))),s.$$.dirty&16128&&t(4,d=!p&&(l||m!==Ol||a)&&r&&o),s.$$.dirty&768&&t(3,n=r?o?null:"Select at least one template":"Particle diameter must be set")},[w,P,N,n,d,z,j,q,o,r,a,l,m,p,c,g,y,b,D,U,F,C,G,Z]}class go extends bt{constructor(e){super();_t(this,e,vo,ho,ht,{})}}function yo(s){let e,t,l;return{c(){e=_("div"),t=_("p"),l=x("There are no template picks to filter or extract."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=v(e);t=h(a,"P",{class:!0});var o=v(t);l=E(o,"There are no template picks to filter or extract."),o.forEach(u),a.forEach(u),this.h()},h(){f(t,"class","text-sm leading-5 text-gray-500 italic"),f(e,"class","p-2.5")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,i:ce,o:ce,d(r){r&&u(e)}}}function ko(s){var ol,nl,il,ul,cl,dl,fl,ml,pl,bl,_l,hl;let e,t,l,r,a,o,d,n,m=((nl=(ol=s[15])==null?void 0:ol.toFixed(3))!=null?nl:"-")+"",p,c,g,y,b,w,P,D,N=((ul=(il=s[12])==null?void 0:il.toFixed(3))!=null?ul:"-")+"",U,F,z,j,q,C,G,Z,L=((dl=(cl=s[14])==null?void 0:cl.toFixed(3))!=null?dl:"-")+"",le,B,V,$,Q,X,ee,ue,A,O,J,oe,re,de,Ce=((fl=s[9])!=null?fl:"-")+"",Ne,Ie,be,Me,ze,je,Je,xe,qe,ot,Te,k,te,Y,Ee,Ge=((ml=s[6])!=null?ml:"-")+"",Oe,rt,$e,Se,et,Ke,tt,Ue,xt,at,me,Pe,pe,vt,gt,lt,yt,Qe,Ve,Fe,ft,De,At,Mt,_e=s[5]&&Rs(s);function Rt(I,W){return I[3]&&I[2]?Eo:I[4]?wo:xo}let kt=Rt(s),Le=kt(s),he=s[4]&&zs(s);function zt(I,W){if(I[23])return Do;if(I[22])return Po}let st=zt(s),ve=st&&st(s),ae=typeof((pl=s[21])==null?void 0:pl.estimatedFilteredRemote)=="number"&&Js(s),ne=s[23]&&typeof((bl=s[21])==null?void 0:bl.estimatedFilteredLocal)=="number"&&((_l=s[21])==null?void 0:_l.estimatedFilteredLocal)!==((hl=s[21])==null?void 0:hl.estimatedFilteredRemote)&&Hs(s);function Jt(I,W){return I[20]===al?To:Io}let mt=Jt(s),Be=mt(s);const St=[No,Co],We=[];function Ht(I,W){return!I[25]&&I[26]?0:1}return Ve=Ht(s),Fe=We[Ve]=St[Ve](s),{c(){e=_("div"),t=_("div"),l=_("div"),r=_("div"),a=_("dt"),o=x("Minimum"),d=M(),n=_("dd"),p=x(m),c=M(),g=_("div"),y=_("dt"),b=x("NCC Score"),P=M(),D=_("dd"),U=x(N),F=M(),_e&&_e.c(),z=M(),j=_("div"),q=_("dt"),C=x("Maximum"),G=M(),Z=_("dd"),le=x(L),B=M(),V=_("div"),$=_("div"),Q=M(),X=_("div"),ee=_("input"),ue=M(),A=_("div"),O=_("div"),J=_("dt"),oe=x("Minimum"),re=M(),de=_("dd"),Ne=x(Ce),Ie=M(),be=_("div"),Me=_("dt"),ze=x("Power Score"),Je=M(),xe=_("dd"),Le.c(),qe=M(),he&&he.c(),ot=M(),Te=_("div"),k=_("dt"),te=x("Maximum"),Y=M(),Ee=_("dd"),Oe=x(Ge),rt=M(),$e=_("div"),Se=_("div"),et=M(),Ke=_("div"),tt=_("div"),Ue=_("input"),xt=M(),at=_("div"),me=_("input"),Pe=M(),pe=_("div"),ve&&ve.c(),vt=M(),ae&&ae.c(),gt=M(),ne&&ne.c(),lt=M(),Be.c(),yt=M(),Qe=_("div"),Fe.c(),this.h()},l(I){e=h(I,"DIV",{class:!0});var W=v(e);t=h(W,"DIV",{class:!0});var ie=v(t);l=h(ie,"DIV",{class:!0});var Ye=v(l);r=h(Ye,"DIV",{});var nt=v(r);a=h(nt,"DT",{class:!0});var Et=v(a);o=E(Et,"Minimum"),Et.forEach(u),d=S(nt),n=h(nt,"DD",{class:!0});var Pt=v(n);p=E(Pt,m),Pt.forEach(u),nt.forEach(u),c=S(Ye),g=h(Ye,"DIV",{class:!0});var it=v(g);y=h(it,"DT",{class:!0});var Dt=v(y);b=E(Dt,"NCC Score"),Dt.forEach(u),P=S(it),D=h(it,"DD",{class:!0});var ut=v(D);U=E(ut,N),F=S(ut),_e&&_e.l(ut),ut.forEach(u),it.forEach(u),z=S(Ye),j=h(Ye,"DIV",{class:!0});var ct=v(j);q=h(ct,"DT",{class:!0});var It=v(q);C=E(It,"Maximum"),It.forEach(u),G=S(ct),Z=h(ct,"DD",{class:!0});var Tt=v(Z);le=E(Tt,L),Tt.forEach(u),ct.forEach(u),Ye.forEach(u),B=S(ie),V=h(ie,"DIV",{class:!0});var dt=v(V);$=h(dt,"DIV",{class:!0}),v($).forEach(u),Q=S(dt),X=h(dt,"DIV",{class:!0});var Ct=v(X);ee=h(Ct,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0}),Ct.forEach(u),dt.forEach(u),ue=S(ie),A=h(ie,"DIV",{class:!0});var pt=v(A);O=h(pt,"DIV",{});var $t=v(O);J=h($t,"DT",{class:!0});var vl=v(J);oe=E(vl,"Minimum"),vl.forEach(u),re=S($t),de=h($t,"DD",{class:!0});var gl=v(de);Ne=E(gl,Ce),gl.forEach(u),$t.forEach(u),Ie=S(pt),be=h(pt,"DIV",{class:!0});var Ut=v(be);Me=h(Ut,"DT",{class:!0});var yl=v(Me);ze=E(yl,"Power Score"),yl.forEach(u),Je=S(Ut),xe=h(Ut,"DD",{class:!0});var Lt=v(xe);Le.l(Lt),qe=S(Lt),he&&he.l(Lt),Lt.forEach(u),Ut.forEach(u),ot=S(pt),Te=h(pt,"DIV",{class:!0});var Bt=v(Te);k=h(Bt,"DT",{class:!0});var kl=v(k);te=E(kl,"Maximum"),kl.forEach(u),Y=S(Bt),Ee=h(Bt,"DD",{class:!0});var wl=v(Ee);Oe=E(wl,Ge),wl.forEach(u),Bt.forEach(u),pt.forEach(u),rt=S(ie),$e=h(ie,"DIV",{class:!0});var xl=v($e);Se=h(xl,"DIV",{class:!0}),v(Se).forEach(u),xl.forEach(u),et=S(ie),Ke=h(ie,"DIV",{class:!0});var Ot=v(Ke);tt=h(Ot,"DIV",{class:!0});var El=v(tt);Ue=h(El,"INPUT",{class:!0,type:!0,placeholder:!0}),El.forEach(u),xt=S(Ot),at=h(Ot,"DIV",{class:!0});var Pl=v(at);me=h(Pl,"INPUT",{class:!0,type:!0,placeholder:!0}),Pl.forEach(u),Ot.forEach(u),Pe=S(ie),pe=h(ie,"DIV",{class:!0});var Dl=v(pe);ve&&ve.l(Dl),Dl.forEach(u),vt=S(ie),ae&&ae.l(ie),gt=S(ie),ne&&ne.l(ie),lt=S(ie),Be.l(ie),ie.forEach(u),yt=S(W),Qe=h(W,"DIV",{class:!0});var Il=v(Qe);Fe.l(Il),Il.forEach(u),W.forEach(u),this.h()},h(){f(a,"class","text-xs leading-4 font-medium text-gray-500"),f(n,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(y,"class",w="text-xs leading-4 font-medium "+(s[5]?"text-orange-600":"text-green-700")),f(D,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(g,"class","text-center"),f(q,"class","text-xs leading-4 font-medium text-gray-500"),f(Z,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(j,"class","text-right"),f(l,"class","flex justify-between items-center"),f($,"class","picking-slider svelte-pm2qpa"),jt($,"unsavedChanges",s[5]),f(ee,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(ee,"type","number"),f(ee,"step","0.01"),f(ee,"placeholder","NCC Score"),ee.value=s[13],f(X,"class","relative rounded-md shadow-sm"),f(V,"class","mt-2 flex items-center space-x-2"),f(J,"class","text-xs leading-4 font-medium text-gray-500"),f(de,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(Me,"class",je="text-xs leading-4 font-medium "+(s[4]?"text-orange-600":"text-green-700")),f(xe,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(be,"class","text-center"),f(k,"class","text-xs leading-4 font-medium text-gray-500"),f(Ee,"class","text-sm leading-5 text-gray-900 tabular-nums"),f(Te,"class","text-right"),f(A,"class","mt-4 flex justify-between items-center"),f(Se,"class","picking-slider svelte-pm2qpa"),jt(Se,"unsavedChanges",s[4]),f($e,"class","mt-2 flex items-center"),f(Ue,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(Ue,"type","number"),f(Ue,"placeholder","Power Score Min"),Ue.value=s[11],f(tt,"class","relative rounded-md shadow-sm"),f(me,"class","block w-24 px-2.5 py-1.5 rounded-md border-gray-300 text-xs leading-4"),f(me,"type","number"),f(me,"placeholder","Power Score Max"),me.value=s[8],f(at,"class","relative rounded-md shadow-sm"),f(Ke,"class","mt-4 flex justify-between items-center"),f(pe,"class","mt-4 flex justify-end items-center space-x-2"),f(t,"class","pt-3"),f(Qe,"class",ft="histogram flex justify-center "+(s[25]?"items-center":"items-start")+" pt-1 border-l border-gray-200 svelte-pm2qpa"),f(e,"class","grid grid-cols-2 gap-x-4 px-2.5 pb-2")},m(I,W){T(I,e,W),i(e,t),i(t,l),i(l,r),i(r,a),i(a,o),i(r,d),i(r,n),i(n,p),i(l,c),i(l,g),i(g,y),i(y,b),i(g,P),i(g,D),i(D,U),i(D,F),_e&&_e.m(D,null),i(l,z),i(l,j),i(j,q),i(q,C),i(j,G),i(j,Z),i(Z,le),i(t,B),i(t,V),i(V,$),s[41]($),i(V,Q),i(V,X),i(X,ee),i(t,ue),i(t,A),i(A,O),i(O,J),i(J,oe),i(O,re),i(O,de),i(de,Ne),i(A,Ie),i(A,be),i(be,Me),i(Me,ze),i(be,Je),i(be,xe),Le.m(xe,null),i(xe,qe),he&&he.m(xe,null),i(A,ot),i(A,Te),i(Te,k),i(k,te),i(Te,Y),i(Te,Ee),i(Ee,Oe),i(t,rt),i(t,$e),i($e,Se),s[42](Se),i(t,et),i(t,Ke),i(Ke,tt),i(tt,Ue),i(Ke,xt),i(Ke,at),i(at,me),i(t,Pe),i(t,pe),ve&&ve.m(pe,null),i(t,vt),ae&&ae.m(t,null),i(t,gt),ne&&ne.m(t,null),i(t,lt),Be.m(t,null),i(e,yt),i(e,Qe),We[Ve].m(Qe,null),De=!0,At||(Mt=[fe(ee,"blur",s[27]),fe(ee,"keydown",s[27]),fe(Ue,"blur",s[28]),fe(Ue,"keydown",s[28]),fe(me,"blur",s[29]),fe(me,"keydown",s[29])],At=!0)},p(I,W){var Ye,nt,Et,Pt,it,Dt,ut,ct,It,Tt,dt,Ct;(!De||W[0]&32768)&&m!==(m=((nt=(Ye=I[15])==null?void 0:Ye.toFixed(3))!=null?nt:"-")+"")&&se(p,m),(!De||W[0]&32&&w!==(w="text-xs leading-4 font-medium "+(I[5]?"text-orange-600":"text-green-700")))&&f(y,"class",w),(!De||W[0]&4096)&&N!==(N=((Pt=(Et=I[12])==null?void 0:Et.toFixed(3))!=null?Pt:"-")+"")&&se(U,N),I[5]?_e?_e.p(I,W):(_e=Rs(I),_e.c(),_e.m(D,null)):_e&&(_e.d(1),_e=null),(!De||W[0]&16384)&&L!==(L=((Dt=(it=I[14])==null?void 0:it.toFixed(3))!=null?Dt:"-")+"")&&se(le,L),W[0]&32&&jt($,"unsavedChanges",I[5]),(!De||W[0]&8192&&ee.value!==I[13])&&(ee.value=I[13]),(!De||W[0]&512)&&Ce!==(Ce=((ut=I[9])!=null?ut:"-")+"")&&se(Ne,Ce),(!De||W[0]&16&&je!==(je="text-xs leading-4 font-medium "+(I[4]?"text-orange-600":"text-green-700")))&&f(Me,"class",je),kt===(kt=Rt(I))&&Le?Le.p(I,W):(Le.d(1),Le=kt(I),Le&&(Le.c(),Le.m(xe,qe))),I[4]?he?he.p(I,W):(he=zs(I),he.c(),he.m(xe,null)):he&&(he.d(1),he=null),(!De||W[0]&64)&&Ge!==(Ge=((ct=I[6])!=null?ct:"-")+"")&&se(Oe,Ge),W[0]&16&&jt(Se,"unsavedChanges",I[4]),(!De||W[0]&2048&&Ue.value!==I[11])&&(Ue.value=I[11]),(!De||W[0]&256&&me.value!==I[8])&&(me.value=I[8]),st===(st=zt(I))&&ve?ve.p(I,W):(ve&&ve.d(1),ve=st&&st(I),ve&&(ve.c(),ve.m(pe,null))),typeof((It=I[21])==null?void 0:It.estimatedFilteredRemote)=="number"?ae?(ae.p(I,W),W[0]&2097152&&R(ae,1)):(ae=Js(I),ae.c(),R(ae,1),ae.m(t,gt)):ae&&(Ze(),K(ae,1,1,()=>{ae=null}),Xe()),I[23]&&typeof((Tt=I[21])==null?void 0:Tt.estimatedFilteredLocal)=="number"&&((dt=I[21])==null?void 0:dt.estimatedFilteredLocal)!==((Ct=I[21])==null?void 0:Ct.estimatedFilteredRemote)?ne?(ne.p(I,W),W[0]&10485760&&R(ne,1)):(ne=Hs(I),ne.c(),R(ne,1),ne.m(t,lt)):ne&&(Ze(),K(ne,1,1,()=>{ne=null}),Xe()),mt===(mt=Jt(I))&&Be?Be.p(I,W):(Be.d(1),Be=mt(I),Be&&(Be.c(),Be.m(t,null)));let ie=Ve;Ve=Ht(I),Ve===ie?We[Ve].p(I,W):(Ze(),K(We[ie],1,1,()=>{We[ie]=null}),Xe(),Fe=We[Ve],Fe?Fe.p(I,W):(Fe=We[Ve]=St[Ve](I),Fe.c()),R(Fe,1),Fe.m(Qe,null)),(!De||W[0]&33554432&&ft!==(ft="histogram flex justify-center "+(I[25]?"items-center":"items-start")+" pt-1 border-l border-gray-200 svelte-pm2qpa"))&&f(Qe,"class",ft)},i(I){De||(R(ae),R(ne),R(Fe),De=!0)},o(I){K(ae),K(ne),K(Fe),De=!1},d(I){I&&u(e),_e&&_e.d(),s[41](null),Le.d(),he&&he.d(),s[42](null),ve&&ve.d(),ae&&ae.d(),ne&&ne.d(),Be.d(),We[Ve].d(),At=!1,wt(Mt)}}}function Rs(s){var a,o;let e,t,l=((o=(a=s[13])==null?void 0:a.toFixed(3))!=null?o:"-")+"",r;return{c(){e=x(`\u2192
            `),t=_("span"),r=x(l),this.h()},l(d){e=E(d,`\u2192
            `),t=h(d,"SPAN",{class:!0});var n=v(t);r=E(n,l),n.forEach(u),this.h()},h(){f(t,"class","font-bold")},m(d,n){T(d,e,n),T(d,t,n),i(t,r)},p(d,n){var m,p;n[0]&8192&&l!==(l=((p=(m=d[13])==null?void 0:m.toFixed(3))!=null?p:"-")+"")&&se(r,l)},d(d){d&&u(e),d&&u(t)}}}function wo(s){let e;return{c(){e=x("Not Set")},l(t){e=E(t,"Not Set")},m(t,l){T(t,e,l)},p:ce,d(t){t&&u(e)}}}function xo(s){var o,d;let e=((o=s[9])!=null?o:"-")+"",t,l,r=((d=s[6])!=null?d:"-")+"",a;return{c(){t=x(e),l=x("\u2013"),a=x(r)},l(n){t=E(n,e),l=E(n,"\u2013"),a=E(n,r)},m(n,m){T(n,t,m),T(n,l,m),T(n,a,m)},p(n,m){var p,c;m[0]&512&&e!==(e=((p=n[9])!=null?p:"-")+"")&&se(t,e),m[0]&64&&r!==(r=((c=n[6])!=null?c:"-")+"")&&se(a,r)},d(n){n&&u(t),n&&u(l),n&&u(a)}}}function Eo(s){var o,d;let e=((o=s[10])!=null?o:"-")+"",t,l,r=((d=s[7])!=null?d:"-")+"",a;return{c(){t=x(e),l=x("\u2013"),a=x(r)},l(n){t=E(n,e),l=E(n,"\u2013"),a=E(n,r)},m(n,m){T(n,t,m),T(n,l,m),T(n,a,m)},p(n,m){var p,c;m[0]&1024&&e!==(e=((p=n[10])!=null?p:"-")+"")&&se(t,e),m[0]&128&&r!==(r=((c=n[7])!=null?c:"-")+"")&&se(a,r)},d(n){n&&u(t),n&&u(l),n&&u(a)}}}function zs(s){var n,m;let e,t,l=((n=s[11])!=null?n:"-")+"",r,a,o=((m=s[8])!=null?m:"-")+"",d;return{c(){e=x(`\u2192
            `),t=_("span"),r=x(l),a=x("\u2013"),d=x(o),this.h()},l(p){e=E(p,`\u2192
            `),t=h(p,"SPAN",{class:!0});var c=v(t);r=E(c,l),a=E(c,"\u2013"),d=E(c,o),c.forEach(u),this.h()},h(){f(t,"class","font-bold")},m(p,c){T(p,e,c),T(p,t,c),i(t,r),i(t,a),i(t,d)},p(p,c){var g,y;c[0]&2048&&l!==(l=((g=p[11])!=null?g:"-")+"")&&se(r,l),c[0]&256&&o!==(o=((y=p[8])!=null?y:"-")+"")&&se(d,o)},d(p){p&&u(e),p&&u(t)}}}function Po(s){let e,t,l,r,a,o,d,n,m,p,c,g,y;return{c(){e=_("span"),t=_("button"),l=x("Extract for All"),o=M(),d=_("span"),n=_("button"),m=x("Extract for Future"),this.h()},l(b){e=h(b,"SPAN",{class:!0});var w=v(e);t=h(w,"BUTTON",{type:!0,class:!0});var P=v(t);l=E(P,"Extract for All"),P.forEach(u),w.forEach(u),o=S(b),d=h(b,"SPAN",{class:!0});var D=v(d);n=h(D,"BUTTON",{type:!0,class:!0});var N=v(n);m=E(N,"Extract for Future"),N.forEach(u),D.forEach(u),this.h()},h(){f(t,"type","button"),f(t,"class",r=""+((s[24]||s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),t.disabled=a=s[24]||s[23],f(e,"class","inline-flex rounded-md shadow-sm"),f(n,"type","button"),f(n,"class",p=""+((s[24]||s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),n.disabled=c=s[24]||s[23],f(d,"class","inline-flex rounded-md shadow-sm")},m(b,w){T(b,e,w),i(e,t),i(t,l),T(b,o,w),T(b,d,w),i(d,n),i(n,m),g||(y=[fe(t,"click",s[45]),fe(n,"click",s[46])],g=!0)},p(b,w){w[0]&25165824&&r!==(r=""+((b[24]||b[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(t,"class",r),w[0]&25165824&&a!==(a=b[24]||b[23])&&(t.disabled=a),w[0]&25165824&&p!==(p=""+((b[24]||b[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(n,"class",p),w[0]&25165824&&c!==(c=b[24]||b[23])&&(n.disabled=c)},d(b){b&&u(e),b&&u(o),b&&u(d),g=!1,wt(y)}}}function Do(s){let e,t,l,r,a,o,d,n,m,p,c,g;return{c(){e=_("span"),t=_("button"),l=x("Cancel"),a=M(),o=_("span"),d=_("button"),n=x("Confirm thresholds"),this.h()},l(y){e=h(y,"SPAN",{class:!0});var b=v(e);t=h(b,"BUTTON",{type:!0,class:!0});var w=v(t);l=E(w,"Cancel"),w.forEach(u),b.forEach(u),a=S(y),o=h(y,"SPAN",{class:!0});var P=v(o);d=h(P,"BUTTON",{type:!0,class:!0});var D=v(d);n=E(D,"Confirm thresholds"),D.forEach(u),P.forEach(u),this.h()},h(){f(t,"type","button"),f(t,"class",r=""+((s[23]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150")),f(e,"class","inline-flex rounded-md shadow-sm"),f(d,"type","button"),f(d,"class",m=""+((s[24]||!s[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150")),d.disabled=p=s[24]||!s[23],f(o,"class","inline-flex rounded-md shadow-sm")},m(y,b){T(y,e,b),i(e,t),i(t,l),T(y,a,b),T(y,o,b),i(o,d),i(d,n),c||(g=[fe(t,"click",s[43]),Nt(Vt.call(null,t,{content:"Revert changes to thresholds"})),fe(d,"click",s[44]),Nt(Vt.call(null,d,{content:"Confirm changes to thresholds"}))],c=!0)},p(y,b){b[0]&8388608&&r!==(r=""+((y[23]?"active:text-gray-800 active:bg-gray-50":"opacity-50 cursor-not-allowed")+" inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(t,"class",r),b[0]&25165824&&m!==(m=""+((y[24]||!y[23]?"opacity-50 cursor-not-allowed":"active:bg-blue-700")+" inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150"))&&f(d,"class",m),b[0]&25165824&&p!==(p=y[24]||!y[23])&&(d.disabled=p)},d(y){y&&u(e),y&&u(a),y&&u(o),c=!1,wt(g)}}}function Js(s){var n,m,p;let e,t,l=He((n=s[21])==null?void 0:n.estimatedFilteredRemote)+"",r,a,o,d;return o=new Fl({props:{modifier:"ml-0.5",text:`Total candidate picks: ${He((m=s[21])==null?void 0:m.totalPicks)} (filtering ${(((p=s[21])==null?void 0:p.fracRemote)*100).toFixed(2)}%)`}}),{c(){e=_("div"),t=x("Based on current thresholds, approximately "),r=x(l),a=x(` template picks remain.
        `),ge(o.$$.fragment),this.h()},l(c){e=h(c,"DIV",{class:!0});var g=v(e);t=E(g,"Based on current thresholds, approximately "),r=E(g,l),a=E(g,` template picks remain.
        `),ye(o.$$.fragment,g),g.forEach(u),this.h()},h(){f(e,"class","mt-4 text-gray-500 text-sm leading-5")},m(c,g){T(c,e,g),i(e,t),i(e,r),i(e,a),ke(o,e,null),d=!0},p(c,g){var b,w,P;(!d||g[0]&2097152)&&l!==(l=He((b=c[21])==null?void 0:b.estimatedFilteredRemote)+"")&&se(r,l);const y={};g[0]&2097152&&(y.text=`Total candidate picks: ${He((w=c[21])==null?void 0:w.totalPicks)} (filtering ${(((P=c[21])==null?void 0:P.fracRemote)*100).toFixed(2)}%)`),o.$set(y)},i(c){d||(R(o.$$.fragment,c),d=!0)},o(c){K(o.$$.fragment,c),d=!1},d(c){c&&u(e),we(o)}}}function Hs(s){var n,m,p;let e,t,l=He((n=s[21])==null?void 0:n.estimatedFilteredLocal)+"",r,a,o,d;return o=new Fl({props:{modifier:"ml-0.5",text:`Total candidate picks: ${He((m=s[21])==null?void 0:m.totalPicks)} (filtering ${(((p=s[21])==null?void 0:p.fracLocal)*100).toFixed(2)}%)`}}),{c(){e=_("div"),t=x("If new thresholds are applied, approximately "),r=x(l),a=x(` template picks will remain.
        `),ge(o.$$.fragment),this.h()},l(c){e=h(c,"DIV",{class:!0});var g=v(e);t=E(g,"If new thresholds are applied, approximately "),r=E(g,l),a=E(g,` template picks will remain.
        `),ye(o.$$.fragment,g),g.forEach(u),this.h()},h(){f(e,"class","mt-2 text-orange-700 text-sm leading-5")},m(c,g){T(c,e,g),i(e,t),i(e,r),i(e,a),ke(o,e,null),d=!0},p(c,g){var b,w,P;(!d||g[0]&2097152)&&l!==(l=He((b=c[21])==null?void 0:b.estimatedFilteredLocal)+"")&&se(r,l);const y={};g[0]&2097152&&(y.text=`Total candidate picks: ${He((w=c[21])==null?void 0:w.totalPicks)} (filtering ${(((P=c[21])==null?void 0:P.fracLocal)*100).toFixed(2)}%)`),o.$set(y)},i(c){d||(R(o.$$.fragment,c),d=!0)},o(c){K(o.$$.fragment,c),d=!1},d(c){c&&u(e),we(o)}}}function Io(s){let e,t,l,r;return{c(){e=_("div"),t=x("Session is configured to extract particles from "),l=x(s[20]),r=x(" picks. Choosing to extract will activate the template picker with the above thresholds."),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);t=E(o,"Session is configured to extract particles from "),l=E(o,s[20]),r=E(o," picks. Choosing to extract will activate the template picker with the above thresholds."),o.forEach(u),this.h()},h(){f(e,"class","mt-2 text-blue-700 text-sm leading-5")},m(a,o){T(a,e,o),i(e,t),i(e,l),i(e,r)},p(a,o){o[0]&1048576&&se(l,a[20])},d(a){a&&u(e)}}}function To(s){var d;let e,t,l=((d=s[19])!=null?d:"(not set)")+"",r,a,o=typeof s[18]=="number"&&typeof s[17]=="number"&&qs(s);return{c(){e=_("div"),t=x("Session is configured to extract particles from template picks with NCC score \u2265 "),r=x(l),a=M(),o&&o.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var m=v(e);t=E(m,"Session is configured to extract particles from template picks with NCC score \u2265 "),r=E(m,l),a=S(m),o&&o.l(m),m.forEach(u),this.h()},h(){f(e,"class","mt-2 text-gray-500 text-sm leading-5")},m(n,m){T(n,e,m),i(e,t),i(e,r),i(e,a),o&&o.m(e,null)},p(n,m){var p;m[0]&524288&&l!==(l=((p=n[19])!=null?p:"(not set)")+"")&&se(r,l),typeof n[18]=="number"&&typeof n[17]=="number"?o?o.p(n,m):(o=qs(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(n){n&&u(e),o&&o.d()}}}function qs(s){let e,t,l,r;return{c(){e=x("and "),t=x(s[18]),l=x(" \u2265 power score \u2266 "),r=x(s[17])},l(a){e=E(a,"and "),t=E(a,s[18]),l=E(a," \u2265 power score \u2266 "),r=E(a,s[17])},m(a,o){T(a,e,o),T(a,t,o),T(a,l,o),T(a,r,o)},p(a,o){o[0]&262144&&se(t,a[18]),o[0]&131072&&se(r,a[17])},d(a){a&&u(e),a&&u(t),a&&u(l),a&&u(r)}}}function Co(s){let e,t;return e=new zl({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p:ce,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function No(s){let e,t;return{c(){e=_("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0}),this.h()},h(){qt(e.src,t=s[26])||f(e,"src",t),f(e,"alt","Template picking histogram: NCC score vs. power score")},m(l,r){T(l,e,r)},p(l,r){r[0]&67108864&&!qt(e.src,t=l[26])&&f(e,"src",t)},i:ce,o:ce,d(l){l&&u(e)}}}function Vo(s){let e,t,l,r;const a=[ko,yo],o=[];function d(n,m){return n[16]>0?0:1}return e=d(s),t=o[e]=a[e](s),{c(){t.c(),l=Ft()},l(n){t.l(n),l=Ft()},m(n,m){o[e].m(n,m),T(n,l,m),r=!0},p(n,m){let p=e;e=d(n),e===p?o[e].p(n,m):(Ze(),K(o[p],1,1,()=>{o[p]=null}),Xe(),t=o[e],t?t.p(n,m):(t=o[e]=a[e](n),t.c()),R(t,1),t.m(l.parentNode,l))},i(n){r||(R(t),r=!0)},o(n){K(t),r=!1},d(n){o[e].d(n),n&&u(l)}}}const al="template";function Ao(s,e,t){let l,r,a,o,d,n,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,C,G,Z;H(s,Mr,k=>t(6,m=k)),H(s,Sr,k=>t(7,p=k)),H(s,Yt,k=>t(8,c=k)),H(s,Fr,k=>t(9,g=k)),H(s,jr,k=>t(10,y=k)),H(s,Zt,k=>t(11,b=k)),H(s,$r,k=>t(12,w=k)),H(s,el,k=>t(13,P=k)),H(s,Ur,k=>t(14,D=k)),H(s,Lr,k=>t(15,N=k)),H(s,os,k=>t(16,U=k)),H(s,ts,k=>t(17,F=k)),H(s,ls,k=>t(18,z=k)),H(s,ss,k=>t(19,j=k)),H(s,Sl,k=>t(20,q=k)),H(s,Ml,k=>t(24,C=k)),H(s,Br,k=>t(25,G=k)),H(s,Or,k=>t(26,Z=k));let L=!1,le=!0,B,V,$=w,Q=g,X=m,ee=y,ue=p,A={};const O=_s.exports.throttle(async()=>{const k=await rs(al);typeof k=="object"&&t(21,A=k)},1500),J=async()=>{await as(P,b,c,al)},oe=async()=>{var k,te;Ae(el,P=w,P),(k=B==null?void 0:B.noUiSlider)==null||k.set(w),Ae(Zt,b=l?y:g,b),Ae(Yt,c=r?p:m,c),(te=V==null?void 0:V.noUiSlider)==null||te.updateOptions({range:{min:g,max:m},start:[b,c]})},re=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=P;return}const Y=parseFloat(parseFloat(k.target.value).toFixed(3));Y!==el&&Y>=N&&Y<=D?(Ae(el,P=Y,P),(te=B==null?void 0:B.noUiSlider)==null||te.set(P)):Re("NCC input invalid",Y),k.currentTarget.value=P}},de=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=b;return}const Y=parseInt(k.target.value);Y!==Zt&&Y>=g&&Y<=m?(Ae(Zt,b=Y,b),(te=V==null?void 0:V.noUiSlider)==null||te.set([b,c])):Re("Power min input invalid",Y),k.currentTarget.value=b}},Ce=k=>{var te;if(k.type==="blur"||k.type==="keydown"&&k.keyCode===13){if(k.target.value.length===0){k.target.value=c;return}const Y=parseInt(k.target.value);Y!==Yt&&Y>=g&&Y<=m?(Ae(Yt,c=Y,c),(te=V==null?void 0:V.noUiSlider)==null||te.set([b,c])):Re("Power max input invalid",Y),k.currentTarget.value=c}},Ne=()=>{oe(),O()},Ie=()=>{J(),O()},be=()=>{Re("TemplateFilterExtract handleExtractAll"),Kt(!0,al),O()},Me=()=>{Re("TemplateFilterExtract handleExtractFuture"),Kt(!1,al),O()},ze=()=>{Re("TemplateFilterExtract createSliders"),Ll.create(B,{start:[w],range:{min:N,max:D},tooltips:!0,connect:"lower",format:Bl({decimals:3})}),B.noUiSlider.on("update",(Y,Ee)=>{el.set(parseFloat(parseFloat(Y[Ee]).toFixed(3)))});const k=l?y:g,te=r?p:m;Ll.create(V,{start:[k,te],range:{min:g,max:m},behaviour:"drag",tooltips:!0,connect:!0,format:Bl({decimals:0})}),V.noUiSlider.on("update",(Y,Ee)=>{Ee===0?Zt.set(parseInt(Y[Ee])):Yt.set(parseInt(Y[Ee]))})};Tl(()=>(t(34,L=!0),Re("onMount TemplateFilterExtract",{totalTemplatePicks:U,templateNccMin:N,templateNccMax:D,templateNccValue:w}),P===null&&Ae(el,P=w,P),b===null&&Ae(Zt,b=l?y:g,b),c===null&&Ae(Yt,c=r?p:m,c),()=>{var k,te;(k=B==null?void 0:B.noUiSlider)==null||k.destroy(),(te=V==null?void 0:V.noUiSlider)==null||te.destroy()}));function je(k){Cl[k?"unshift":"push"](()=>{B=k,t(0,B)})}function Je(k){Cl[k?"unshift":"push"](()=>{V=k,t(1,V)})}const xe=()=>d&&Ne(),qe=()=>!C&&d&&Ie(),ot=()=>!C&&!d&&be(),Te=()=>!C&&!d&&Me();return s.$$.update=()=>{var k,te,Y,Ee,Ge,Oe,rt;if(s.$$.dirty[0]&1024&&t(3,l=typeof y=="number"&&!isNaN(y)),s.$$.dirty[0]&128&&t(2,r=typeof p=="number"&&!isNaN(p)),s.$$.dirty[0]&53249|s.$$.dirty[1]&32&&$!==w&&(Re("Remote update of template NCC value",$,w),t(36,$=w),Ae(el,P=w,P),(k=B==null?void 0:B.noUiSlider)==null||k.updateOptions({range:{min:N,max:D}}),(te=B==null?void 0:B.noUiSlider)==null||te.set(w)),s.$$.dirty[0]&12288&&t(5,a=P!==w),s.$$.dirty[0]&2894|s.$$.dirty[1]&192&&(Q!==g||X!==m)){Re("Remote update of template power min/max",Q,g,X,m);const $e=Q,Se=X;t(37,Q=g),t(38,X=m),!l&&$e===b&&Ae(Zt,b=g,b),!r&&Se===c&&Ae(Yt,c=m,c),Re("Remote update of template power min/max -> local updates",b,c),(Y=V==null?void 0:V.noUiSlider)==null||Y.updateOptions({range:{min:g,max:m},start:[b,c]})}s.$$.dirty[0]&1730|s.$$.dirty[1]&256&&ee!==y&&(Re("Remote update of template power min value",ee,y),t(39,ee=y),Ae(Zt,b=y,b),(Ee=V==null?void 0:V.noUiSlider)==null||Ee.updateOptions({range:{min:g,max:m}}),(Ge=V==null?void 0:V.noUiSlider)==null||Ge.set([y,p])),s.$$.dirty[0]&1730|s.$$.dirty[1]&512&&ue!==p&&(Re("Remote update of template power max value",ue,p),t(40,ue=p),Ae(Yt,c=p,c),(Oe=V==null?void 0:V.noUiSlider)==null||Oe.updateOptions({range:{min:g,max:m}}),(rt=V==null?void 0:V.noUiSlider)==null||rt.set([y,p])),s.$$.dirty[0]&4044&&t(4,o=!(!l&&b===g&&!r&&c===m)&&(b!==y||c!==p)),s.$$.dirty[0]&48&&t(23,d=a||o),s.$$.dirty[0]&1971328&&t(22,n=q!==al||w!==j||y!==z||p!==F),s.$$.dirty[0]&10496&&typeof P=="number"&&typeof b=="number"&&typeof c=="number"&&(Re("get estimates"),O()),s.$$.dirty[0]&65536&&U>0&&Rr(),s.$$.dirty[0]&119296|s.$$.dirty[1]&24&&le&&L&&U>0&&typeof N=="number"&&typeof D=="number"&&typeof w=="number"&&typeof g=="number"&&(t(35,le=!1),ze())},[B,V,r,l,o,a,m,p,c,g,y,b,w,P,D,N,U,F,z,j,q,A,n,d,C,G,Z,re,de,Ce,Ne,Ie,be,Me,L,le,$,Q,X,ee,ue,je,Je,xe,qe,ot,Te]}class Mo extends bt{constructor(e){super();_t(this,e,Ao,Vo,ht,{},null,[-1,-1])}}function So(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Create or Load Templates"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Create or Load Templates"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function Fo(s){let e,t,l;return t=new Ya({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function jo(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Select Templates"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Select Templates"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function $o(s){let e,t,l;return t=new po({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function Uo(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Adjust Template Picker"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Adjust Template Picker"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function Lo(s){let e,t,l;return t=new go({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function Bo(s){let e,t,l;return{c(){e=_("div"),t=_("span"),l=x("Filter and Extract Template Picks"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var a=v(e);t=h(a,"SPAN",{});var o=v(t);l=E(o,"Filter and Extract Template Picks"),o.forEach(u),a.forEach(u),this.h()},h(){f(e,"slot","header"),f(e,"class","w-full flex justify-between items-center")},m(r,a){T(r,e,a),i(e,t),i(t,l)},p:ce,d(r){r&&u(e)}}}function Oo(s){let e,t,l;return t=new Mo({}),{c(){e=_("div"),ge(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=v(e);ye(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(r,a){T(r,e,a),ke(t,e,null),l=!0},p:ce,i(r){l||(R(t.$$.fragment,r),l=!0)},o(r){K(t.$$.fragment,r),l=!1},d(r){r&&u(e),we(t)}}}function Ro(s){let e,t,l,r,a,o,d,n;return e=new sl({props:{$$slots:{content:[Fo],header:[So]},$$scope:{ctx:s}}}),l=new sl({props:{$$slots:{content:[$o],header:[jo]},$$scope:{ctx:s}}}),a=new sl({props:{$$slots:{content:[Lo],header:[Uo]},$$scope:{ctx:s}}}),d=new sl({props:{$$slots:{content:[Oo],header:[Bo]},$$scope:{ctx:s}}}),{c(){ge(e.$$.fragment),t=M(),ge(l.$$.fragment),r=M(),ge(a.$$.fragment),o=M(),ge(d.$$.fragment)},l(m){ye(e.$$.fragment,m),t=S(m),ye(l.$$.fragment,m),r=S(m),ye(a.$$.fragment,m),o=S(m),ye(d.$$.fragment,m)},m(m,p){ke(e,m,p),T(m,t,p),ke(l,m,p),T(m,r,p),ke(a,m,p),T(m,o,p),ke(d,m,p),n=!0},p(m,[p]){const c={};p&1&&(c.$$scope={dirty:p,ctx:m}),e.$set(c);const g={};p&1&&(g.$$scope={dirty:p,ctx:m}),l.$set(g);const y={};p&1&&(y.$$scope={dirty:p,ctx:m}),a.$set(y);const b={};p&1&&(b.$$scope={dirty:p,ctx:m}),d.$set(b)},i(m){n||(R(e.$$.fragment,m),R(l.$$.fragment,m),R(a.$$.fragment,m),R(d.$$.fragment,m),n=!0)},o(m){K(e.$$.fragment,m),K(l.$$.fragment,m),K(a.$$.fragment,m),K(d.$$.fragment,m),n=!1},d(m){we(e,m),m&&u(t),we(l,m),m&&u(r),we(a,m),m&&u(o),we(d,m)}}}class zo extends bt{constructor(e){super();_t(this,e,null,Ro,ht,{})}}function Jo(s){let e,t,l,r;const a=[Qo,Ko,Go],o=[];function d(n,m){return n[1]===Ul.manual?0:n[1]===Ul.blob?1:n[1]===Ul.template?2:-1}return~(t=d(s))&&(l=o[t]=a[t](s)),{c(){e=_("div"),l&&l.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var m=v(e);l&&l.l(m),m.forEach(u),this.h()},h(){f(e,"class","w-full h-full overflow-auto")},m(n,m){T(n,e,m),~t&&o[t].m(e,null),r=!0},p(n,m){let p=t;t=d(n),t!==p&&(l&&(Ze(),K(o[p],1,1,()=>{o[p]=null}),Xe()),~t?(l=o[t],l||(l=o[t]=a[t](n),l.c()),R(l,1),l.m(e,null)):l=null)},i(n){r||(R(l),r=!0)},o(n){K(l),r=!1},d(n){n&&u(e),~t&&o[t].d()}}}function Ho(s){let e,t;return e=new qr({props:{description:"You can view and adjust the particle picking configuration once exposures start to process."}}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p:ce,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function qo(s){let e,t;return e=new Hr({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},p:ce,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Go(s){let e,t;return e=new zo({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Ko(s){let e,t;return e=new Ka({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Qo(s){let e,t;return e=new ha({}),{c(){ge(e.$$.fragment)},l(l){ye(e.$$.fragment,l)},m(l,r){ke(e,l,r),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Wo(s){let e,t,l,r;const a=[qo,Ho,Jo],o=[];function d(n,m){return!n[0]||n[2]?0:n[3]<1?1:2}return e=d(s),t=o[e]=a[e](s),{c(){t.c(),l=Ft()},l(n){t.l(n),l=Ft()},m(n,m){o[e].m(n,m),T(n,l,m),r=!0},p(n,[m]){let p=e;e=d(n),e===p?o[e].p(n,m):(Ze(),K(o[p],1,1,()=>{o[p]=null}),Xe(),t=o[e],t?t.p(n,m):(t=o[e]=a[e](n),t.c()),R(t,1),t.m(l.parentNode,l))},i(n){r||(R(t),r=!0)},o(n){K(t),r=!1},d(n){o[e].d(n),n&&u(l)}}}function Yo(s,e,t){let l,r,a,o;H(s,Sl,n=>t(4,l=n)),H(s,fs,n=>t(1,r=n)),H(s,zr,n=>t(2,a=n)),H(s,Jr,n=>t(3,o=n));let d=!1;return Tl(()=>{setTimeout(()=>{t(0,d=!0)},50)}),s.$$.update=()=>{s.$$.dirty&16&&typeof l=="string"&&Object.keys(Ul).includes(l)&&Ae(fs,r=l,r)},[d,r,a,o,l]}class Un extends bt{constructor(e){super();_t(this,e,Yo,Wo,ht,{})}}export{Un as default};
