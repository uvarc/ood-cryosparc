var Me=Object.defineProperty,We=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var Ue=(l,e,t)=>e in l?Me(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,ie=(l,e)=>{for(var t in e||(e={}))et.call(e,t)&&Ue(l,t,e[t]);if($e)for(var t of $e(e))tt.call(e,t)&&Ue(l,t,e[t]);return l},ve=(l,e)=>We(l,Ze(e));import{S as ce,h as fe,s as de,Q as w,a6 as O,I as A,R as V,T,a7 as x,p as m,J as H,U as y,k as P,a2 as h,ae as te,l as ae,t as R,m as ne,o as U,aa as re,K as le,ap as lt,C as X,D as z,E as G,H as M,ak as _e,ad as Oe,L as ye,ac as me,aI as at,j as we,aS as nt,aJ as rt,a9 as xe}from"./vendor.3ae73048.js";import{b8 as Ae,aX as st,b9 as ot}from"./router.1b465492.js";import{l as be,u as Ve}from"./index.146c2037.js";import"./types.8cb6216c.js";import{B as Ee}from"./ButtonConfirmation.a6b453ba.js";import{a as ut,H as it}from"./a11y-light.12094d25.js";import{j as ct}from"./django.89c583b7.js";import{I as ft}from"./Icon.61279884.js";import{b as He,a as Fe}from"./ChevronUp.0ab7bee0.js";import"./index.2e3bb17a.js";import"./Button.d254e004.js";function dt(l){let e;return{c(){e=O(l[1])},l(t){e=x(t,l[1])},m(t,a){P(t,e,a)},p(t,a){a&2&&te(e,t[1])},d(t){t&&m(e)}}}function ht(l){let e,t,a;return{c(){e=w("input"),this.h()},l(s){e=V(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){y(e,"type","text"),y(e,"class","block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 px-2 py-1.5 text-xs"),y(e,"placeholder",l[1])},m(s,n){P(s,e,n),re(e,l[3]),t||(a=le(e,"input",l[9]),t=!0)},p(s,n){n&2&&y(e,"placeholder",s[1]),n&8&&e.value!==s[3]&&re(e,s[3])},d(s){s&&m(e),t=!1,a()}}}function pt(l){let e,t,a,s,n,i,u,p,g;return n=new Ee({props:{$$slots:{default:[mt]},$$scope:{ctx:l}}}),n.$on("confirm",function(){lt(l[2])&&l[2].apply(this,arguments)}),{c(){e=w("button"),t=O("Edit"),a=A(),s=w("button"),X(n.$$.fragment),i=O(`
        Delete`),this.h()},l(c){e=V(c,"BUTTON",{type:!0,class:!0});var o=T(e);t=x(o,"Edit"),o.forEach(m),a=H(c),s=V(c,"BUTTON",{type:!0,class:!0});var f=T(s);z(n.$$.fragment,f),i=x(f,`
        Delete`),f.forEach(m),this.h()},h(){y(e,"type","button"),y(e,"class","focus:outline-none text-blue-600 hover:text-blue-900"),y(s,"type","button"),y(s,"class","ml-4 focus:outline-none text-red-600 hover:text-red-900")},m(c,o){P(c,e,o),h(e,t),P(c,a,o),P(c,s,o),G(n,s,null),h(s,i),u=!0,p||(g=le(e,"click",l[6]),p=!0)},p(c,o){l=c;const f={};o&1024&&(f.$$scope={dirty:o,ctx:l}),n.$set(f)},i(c){u||(U(n.$$.fragment,c),u=!0)},o(c){R(n.$$.fragment,c),u=!1},d(c){c&&m(e),c&&m(a),c&&m(s),M(n),p=!1,g()}}}function _t(l){let e,t,a,s,n,i,u,p,g,c;return t=new Ee({props:{$$slots:{default:[bt]},$$scope:{ctx:l}}}),t.$on("confirm",l[7]),{c(){e=w("button"),X(t.$$.fragment),a=O(`
        Set`),n=A(),i=w("button"),u=O("Cancel"),this.h()},l(o){e=V(o,"BUTTON",{type:!0,class:!0});var f=T(e);z(t.$$.fragment,f),a=x(f,`
        Set`),f.forEach(m),n=H(o),i=V(o,"BUTTON",{type:!0,class:!0});var r=T(i);u=x(r,"Cancel"),r.forEach(m),this.h()},h(){y(e,"type","button"),y(e,"class","focus:outline-none text-green-600 hover:text-green-900 disabled:opacity-50"),e.disabled=s=!l[5],y(i,"type","button"),y(i,"class","ml-4 focus:outline-none text-gray-600 hover:text-gray-900")},m(o,f){P(o,e,f),G(t,e,null),h(e,a),P(o,n,f),P(o,i,f),h(i,u),p=!0,g||(c=le(i,"click",l[6]),g=!0)},p(o,f){const r={};f&1024&&(r.$$scope={dirty:f,ctx:o}),t.$set(r),(!p||f&32&&s!==(s=!o[5]))&&(e.disabled=s)},i(o){p||(U(t.$$.fragment,o),p=!0)},o(o){R(t.$$.fragment,o),p=!1},d(o){o&&m(e),M(t),o&&m(n),o&&m(i),g=!1,c()}}}function mt(l){let e;return{c(){e=O("Delete instance-level variable?")},l(t){e=x(t,"Delete instance-level variable?")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function bt(l){let e;return{c(){e=O("Update instance-level variable?")},l(t){e=x(t,"Update instance-level variable?")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function gt(l){let e,t,a,s,n,i,u,p,g,c;function o(b,v){return b[4]?ht:dt}let f=o(l),r=f(l);const _=[_t,pt],d=[];function E(b,v){return b[4]?0:1}return p=E(l),g=d[p]=_[p](l),{c(){e=w("tr"),t=w("td"),a=O(l[0]),s=A(),n=w("td"),r.c(),i=A(),u=w("td"),g.c(),this.h()},l(b){e=V(b,"TR",{});var v=T(e);t=V(v,"TD",{class:!0});var S=T(t);a=x(S,l[0]),S.forEach(m),s=H(v),n=V(v,"TD",{class:!0});var D=T(n);r.l(D),D.forEach(m),i=H(v),u=V(v,"TD",{class:!0});var j=T(u);g.l(j),j.forEach(m),v.forEach(m),this.h()},h(){y(t,"class","whitespace-nowrap px-2 py-2 font-medium text-gray-900"),y(n,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(u,"class","whitespace-nowrap px-2 py-2")},m(b,v){P(b,e,v),h(e,t),h(t,a),h(e,s),h(e,n),r.m(n,null),h(e,i),h(e,u),d[p].m(u,null),c=!0},p(b,[v]){(!c||v&1)&&te(a,b[0]),f===(f=o(b))&&r?r.p(b,v):(r.d(1),r=f(b),r&&(r.c(),r.m(n,null)));let S=p;p=E(b),p===S?d[p].p(b,v):(ae(),R(d[S],1,1,()=>{d[S]=null}),ne(),g=d[p],g?g.p(b,v):(g=d[p]=_[p](b),g.c()),U(g,1),g.m(u,null))},i(b){c||(U(g),c=!0)},o(b){R(g),c=!1},d(b){b&&m(e),r.d(),d[p].d()}}}function vt(l,e,t){let a,{key:s=""}=e,{value:n=""}=e,{handleDelete:i}=e,{handleSet:u}=e,p=!1,g=n;const c=()=>{t(4,p=!p),t(3,g=n)},o=()=>{!a||(u(g),c())};function f(){g=this.value,t(3,g)}return l.$$set=r=>{"key"in r&&t(0,s=r.key),"value"in r&&t(1,n=r.value),"handleDelete"in r&&t(2,i=r.handleDelete),"handleSet"in r&&t(8,u=r.handleSet)},l.$$.update=()=>{l.$$.dirty&10&&t(5,a=g.length>0&&g!==n)},[s,n,i,g,p,a,c,o,u,f]}class yt extends ce{constructor(e){super();fe(this,e,vt,gt,de,{key:0,value:1,handleDelete:2,handleSet:8})}}function Pe(l,e,t){const a=l.slice();return a[12]=e[t][0],a[13]=e[t][1],a}function Re(l){let e,t;function a(...n){return l[8](l[12],...n)}function s(){return l[9](l[12])}return e=new yt({props:{key:l[12],value:l[13],handleSet:a,handleDelete:s}}),{c(){X(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){G(e,n,i),t=!0},p(n,i){l=n;const u={};i&4&&(u.key=l[12]),i&4&&(u.value=l[13]),i&4&&(u.handleSet=a),i&4&&(u.handleDelete=s),e.$set(u)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wt(l){var ke;let e,t,a,s,n,i,u,p,g,c,o,f,r,_,d,E,b,v,S,D,j,B,N,q,W,k,I,J,C,Y,se,he,Q=Object.entries((ke=l[2])!=null?ke:{}),F=[];for(let $=0;$<Q.length;$+=1)F[$]=Re(Pe(l,Q,$));const Z=$=>R(F[$],1,1,()=>{F[$]=null});return{c(){e=w("div"),t=w("h2"),a=O("Instance-level Cluster Submission Script Variables"),s=A(),n=w("table"),i=w("thead"),u=w("tr"),p=w("th"),g=O("Key"),c=A(),o=w("th"),f=O("Value"),r=A(),_=w("th"),d=O("Actions"),E=A(),b=w("tbody");for(let $=0;$<F.length;$+=1)F[$].c();v=A(),S=w("tr"),D=w("td"),j=w("input"),B=A(),N=w("td"),q=w("input"),W=A(),k=w("td"),I=w("button"),J=O("Add"),this.h()},l($){e=V($,"DIV",{class:!0});var K=T(e);t=V(K,"H2",{class:!0});var ee=T(t);a=x(ee,"Instance-level Cluster Submission Script Variables"),ee.forEach(m),K.forEach(m),s=H($),n=V($,"TABLE",{class:!0});var L=T(n);i=V(L,"THEAD",{class:!0});var pe=T(i);u=V(pe,"TR",{});var oe=T(u);p=V(oe,"TH",{scope:!0,class:!0});var De=T(p);g=x(De,"Key"),De.forEach(m),c=H(oe),o=V(oe,"TH",{scope:!0,class:!0});var Ce=T(o);f=x(Ce,"Value"),Ce.forEach(m),r=H(oe),_=V(oe,"TH",{scope:!0,class:!0});var Ne=T(_);d=x(Ne,"Actions"),Ne.forEach(m),oe.forEach(m),pe.forEach(m),E=H(L),b=V(L,"TBODY",{class:!0});var ge=T(b);for(let Te=0;Te<F.length;Te+=1)F[Te].l(ge);v=H(ge),S=V(ge,"TR",{});var ue=T(S);D=V(ue,"TD",{class:!0});var Ie=T(D);j=V(Ie,"INPUT",{type:!0,class:!0,placeholder:!0}),Ie.forEach(m),B=H(ue),N=V(ue,"TD",{class:!0});var Se=T(N);q=V(Se,"INPUT",{type:!0,class:!0,placeholder:!0}),Se.forEach(m),W=H(ue),k=V(ue,"TD",{class:!0});var je=T(k);I=V(je,"BUTTON",{type:!0,class:!0});var Be=T(I);J=x(Be,"Add"),Be.forEach(m),je.forEach(m),ue.forEach(m),ge.forEach(m),L.forEach(m),this.h()},h(){y(t,"class","text-lg font-medium text-gray-900"),y(e,"class","px-2 py-2"),y(p,"scope","col"),y(p,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(o,"scope","col"),y(o,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(_,"scope","col"),y(_,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(i,"class","bg-gray-50"),y(j,"type","text"),y(j,"class","block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 px-2 py-1.5 text-xs"),y(j,"placeholder","key"),y(D,"class","whitespace-nowrap px-2 py-2 font-medium text-gray-900"),y(q,"type","text"),y(q,"class","block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 px-2 py-1.5 text-xs"),y(q,"placeholder","value"),y(N,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(I,"type","button"),y(I,"class","focus:outline-none text-green-600 hover:text-green-900 disabled:opacity-50"),I.disabled=C=!l[4]||!l[3],y(k,"class","whitespace-nowrap px-2 py-2 "),y(b,"class","divide-y divide-gray-200 bg-white font-medium font-mono tracking-tight leading-tight"),y(n,"class","border border-gray-300 min-w-full divide-y divide-gray-300 text-xs")},m($,K){P($,e,K),h(e,t),h(t,a),P($,s,K),P($,n,K),h(n,i),h(i,u),h(u,p),h(p,g),h(u,c),h(u,o),h(o,f),h(u,r),h(u,_),h(_,d),h(n,E),h(n,b);for(let ee=0;ee<F.length;ee+=1)F[ee].m(b,null);h(b,v),h(b,S),h(S,D),h(D,j),re(j,l[0]),h(S,B),h(S,N),h(N,q),re(q,l[1]),h(S,W),h(S,k),h(k,I),h(I,J),Y=!0,se||(he=[le(j,"input",l[10]),le(q,"input",l[11]),le(I,"click",l[5])],se=!0)},p($,[K]){var ee;if(K&196){Q=Object.entries((ee=$[2])!=null?ee:{});let L;for(L=0;L<Q.length;L+=1){const pe=Pe($,Q,L);F[L]?(F[L].p(pe,K),U(F[L],1)):(F[L]=Re(pe),F[L].c(),U(F[L],1),F[L].m(b,v))}for(ae(),L=Q.length;L<F.length;L+=1)Z(L);ne()}K&1&&j.value!==$[0]&&re(j,$[0]),K&2&&q.value!==$[1]&&re(q,$[1]),(!Y||K&24&&C!==(C=!$[4]||!$[3]))&&(I.disabled=C)},i($){if(!Y){for(let K=0;K<Q.length;K+=1)U(F[K]);Y=!0}},o($){F=F.filter(Boolean);for(let K=0;K<F.length;K+=1)R(F[K]);Y=!1},d($){$&&m(e),$&&m(s),$&&m(n),_e(F,$),se=!1,Oe(he)}}}function Vt(l,e,t){let a,s,n;ye(l,Ae,d=>t(2,n=d));let i="",u="";const p=async()=>{if(!a||!s)return;const d=ve(ie({},n),{[i]:u});be("handleAddNewVariable",d),await Ve.core.setInstanceClusterConfigCustomVars(d),t(0,i=""),t(1,u="")},g=async(d,E)=>{if(d.length===0||E.length===0)return;const b=ve(ie({},n),{[d]:E});be("handleUpdateVariable",b),await Ve.core.setInstanceClusterConfigCustomVars(b)},c=async d=>{if(!Object.keys(n!=null?n:{}).includes(d))return;const E=ie({},n);delete E[d],be("handleDeleteVariable",E),await Ve.core.setInstanceClusterConfigCustomVars(E)},o=(d,E)=>{g(d,E)},f=d=>c(d);function r(){i=this.value,t(0,i)}function _(){u=this.value,t(1,u)}return l.$$.update=()=>{l.$$.dirty&5&&t(4,a=i.length>0&&!Object.keys(n!=null?n:{}).includes(i)),l.$$.dirty&2&&t(3,s=u.length>0)},[i,u,n,s,a,p,g,c,o,f,r,_]}class Tt extends ce{constructor(e){super();fe(this,e,Vt,wt,de,{})}}function Et(l){let e,t,a,s,n,i,u,p,g,c,o,f,r,_,d,E;return{c(){e=w("tr"),t=w("td"),a=O(l[0]),s=A(),n=w("td"),i=O(l[1]),u=A(),p=w("td"),g=w("input"),c=A(),o=w("td"),f=w("button"),r=O("Set"),this.h()},l(b){e=V(b,"TR",{});var v=T(e);t=V(v,"TD",{class:!0});var S=T(t);a=x(S,l[0]),S.forEach(m),s=H(v),n=V(v,"TD",{class:!0});var D=T(n);i=x(D,l[1]),D.forEach(m),u=H(v),p=V(v,"TD",{class:!0});var j=T(p);g=V(j,"INPUT",{type:!0,class:!0,placeholder:!0}),j.forEach(m),c=H(v),o=V(v,"TD",{class:!0});var B=T(o);f=V(B,"BUTTON",{type:!0,class:!0});var N=T(f);r=x(N,"Set"),N.forEach(m),B.forEach(m),v.forEach(m),this.h()},h(){y(t,"class","whitespace-nowrap px-2 py-2 font-medium text-gray-900"),y(n,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(g,"type","text"),y(g,"class","block w-full rounded-md border-gray-300 shadow-sm focus:outline-none focus:border-blue-500 focus:ring-blue-500 px-2 py-1.5 text-xs"),y(g,"placeholder","value"),y(p,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(f,"type","button"),y(f,"class","focus:outline-none text-green-600 hover:text-green-900 disabled:opacity-50"),f.disabled=_=!l[3],y(o,"class","whitespace-nowrap px-2 py-2 ")},m(b,v){P(b,e,v),h(e,t),h(t,a),h(e,s),h(e,n),h(n,i),h(e,u),h(e,p),h(p,g),re(g,l[2]),h(e,c),h(e,o),h(o,f),h(f,r),d||(E=[le(g,"input",l[6]),le(f,"click",l[4])],d=!0)},p(b,[v]){v&1&&te(a,b[0]),v&2&&te(i,b[1]),v&4&&g.value!==b[2]&&re(g,b[2]),v&8&&_!==(_=!b[3])&&(f.disabled=_)},i:me,o:me,d(b){b&&m(e),d=!1,Oe(E)}}}function kt(l,e,t){let a,{key:s}=e,{instanceValue:n=""}=e,{setFn:i}=e,u="";const p=async()=>{!a||(await i(u),t(2,u=""))};function g(){u=this.value,t(2,u)}return l.$$set=c=>{"key"in c&&t(0,s=c.key),"instanceValue"in c&&t(1,n=c.instanceValue),"setFn"in c&&t(5,i=c.setFn)},l.$$.update=()=>{l.$$.dirty&4&&t(3,a=u.length>0)},[s,n,u,a,p,i,g]}class Dt extends ce{constructor(e){super();fe(this,e,kt,Et,de,{key:0,instanceValue:1,setFn:5})}}function Ke(l,e,t){const a=l.slice();return a[9]=e[t],a}function Le(l,e,t){const a=l.slice();return a[9]=e[t][0],a[12]=e[t][1],a}function Ct(l){let e;return{c(){e=O("Clear target-level value?")},l(t){e=x(t,"Clear target-level value?")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function qe(l){var D;let e,t,a=l[9]+"",s,n,i,u=((D=l[1][l[9]])!=null?D:"")+"",p,g,c,o=l[12]+"",f,r,_,d,E,b,v;function S(){return l[6](l[9])}return E=new Ee({props:{$$slots:{default:[Ct]},$$scope:{ctx:l}}}),E.$on("confirm",S),{c(){e=w("tr"),t=w("td"),s=O(a),n=A(),i=w("td"),p=O(u),g=A(),c=w("td"),f=O(o),r=A(),_=w("td"),d=w("button"),X(E.$$.fragment),b=O(`
          Clear`),this.h()},l(j){e=V(j,"TR",{});var B=T(e);t=V(B,"TD",{class:!0});var N=T(t);s=x(N,a),N.forEach(m),n=H(B),i=V(B,"TD",{class:!0});var q=T(i);p=x(q,u),q.forEach(m),g=H(B),c=V(B,"TD",{class:!0});var W=T(c);f=x(W,o),W.forEach(m),r=H(B),_=V(B,"TD",{class:!0});var k=T(_);d=V(k,"BUTTON",{type:!0,class:!0});var I=T(d);z(E.$$.fragment,I),b=x(I,`
          Clear`),I.forEach(m),k.forEach(m),B.forEach(m),this.h()},h(){y(t,"class","whitespace-nowrap px-2 py-2 font-medium text-gray-900"),y(i,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(c,"class","whitespace-nowrap px-2 py-2 text-gray-500"),y(d,"type","button"),y(d,"class","focus:outline-none text-red-600 hover:text-red-900"),y(_,"class","whitespace-nowrap px-2 py-2 ")},m(j,B){P(j,e,B),h(e,t),h(t,s),h(e,n),h(e,i),h(i,p),h(e,g),h(e,c),h(c,f),h(e,r),h(e,_),h(_,d),G(E,d,null),h(d,b),v=!0},p(j,B){var q;l=j,(!v||B&1)&&a!==(a=l[9]+"")&&te(s,a),(!v||B&3)&&u!==(u=((q=l[1][l[9]])!=null?q:"")+"")&&te(p,u),(!v||B&1)&&o!==(o=l[12]+"")&&te(f,o);const N={};B&32768&&(N.$$scope={dirty:B,ctx:l}),E.$set(N)},i(j){v||(U(E.$$.fragment,j),v=!0)},o(j){R(E.$$.fragment,j),v=!1},d(j){j&&m(e),M(E)}}}function Je(l){var s;let e,t;function a(...n){return l[8](l[9],...n)}return e=new Dt({props:{key:l[9],instanceValue:(s=l[1][l[9]])!=null?s:"",setFn:a}}),{c(){X(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){G(e,n,i),t=!0},p(n,i){var p;l=n;const u={};i&5&&(u.key=l[9]),i&7&&(u.instanceValue=(p=l[1][l[9]])!=null?p:""),i&5&&(u.setFn=a),e.$set(u)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Nt(l){var W;let e,t,a,s,n,i,u,p,g,c,o,f,r,_,d,E,b,v,S=Object.entries((W=l[0])!=null?W:{}),D=[];for(let k=0;k<S.length;k+=1)D[k]=qe(Le(l,S,k));const j=k=>R(D[k],1,1,()=>{D[k]=null});let B=l[2].filter(l[7]),N=[];for(let k=0;k<B.length;k+=1)N[k]=Je(Ke(l,B,k));const q=k=>R(N[k],1,1,()=>{N[k]=null});return{c(){e=w("table"),t=w("thead"),a=w("tr"),s=w("th"),n=O("Key"),i=A(),u=w("th"),p=O("Instance Value"),g=A(),c=w("th"),o=O("Target Value"),f=A(),r=w("th"),_=O("Actions"),d=A(),E=w("tbody");for(let k=0;k<D.length;k+=1)D[k].c();b=A();for(let k=0;k<N.length;k+=1)N[k].c();this.h()},l(k){e=V(k,"TABLE",{class:!0});var I=T(e);t=V(I,"THEAD",{class:!0});var J=T(t);a=V(J,"TR",{});var C=T(a);s=V(C,"TH",{class:!0});var Y=T(s);n=x(Y,"Key"),Y.forEach(m),i=H(C),u=V(C,"TH",{class:!0});var se=T(u);p=x(se,"Instance Value"),se.forEach(m),g=H(C),c=V(C,"TH",{class:!0});var he=T(c);o=x(he,"Target Value"),he.forEach(m),f=H(C),r=V(C,"TH",{class:!0});var Q=T(r);_=x(Q,"Actions"),Q.forEach(m),C.forEach(m),J.forEach(m),d=H(I),E=V(I,"TBODY",{class:!0});var F=T(E);for(let Z=0;Z<D.length;Z+=1)D[Z].l(F);b=H(F);for(let Z=0;Z<N.length;Z+=1)N[Z].l(F);F.forEach(m),I.forEach(m),this.h()},h(){y(s,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(u,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(c,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(r,"class","px-2 py-2 text-left font-semibold text-gray-900"),y(t,"class","bg-gray-50"),y(E,"class","divide-y divide-gray-200 bg-white font-medium font-mono tracking-tight leading-tight"),y(e,"class","border border-gray-300 min-w-full divide-y divide-gray-300 text-xs")},m(k,I){P(k,e,I),h(e,t),h(t,a),h(a,s),h(s,n),h(a,i),h(a,u),h(u,p),h(a,g),h(a,c),h(c,o),h(a,f),h(a,r),h(r,_),h(e,d),h(e,E);for(let J=0;J<D.length;J+=1)D[J].m(E,null);h(E,b);for(let J=0;J<N.length;J+=1)N[J].m(E,null);v=!0},p(k,[I]){var J;if(I&19){S=Object.entries((J=k[0])!=null?J:{});let C;for(C=0;C<S.length;C+=1){const Y=Le(k,S,C);D[C]?(D[C].p(Y,I),U(D[C],1)):(D[C]=qe(Y),D[C].c(),U(D[C],1),D[C].m(E,b))}for(ae(),C=S.length;C<D.length;C+=1)j(C);ne()}if(I&15){B=k[2].filter(k[7]);let C;for(C=0;C<B.length;C+=1){const Y=Ke(k,B,C);N[C]?(N[C].p(Y,I),U(N[C],1)):(N[C]=Je(Y),N[C].c(),U(N[C],1),N[C].m(E,null))}for(ae(),C=B.length;C<N.length;C+=1)q(C);ne()}},i(k){if(!v){for(let I=0;I<S.length;I+=1)U(D[I]);for(let I=0;I<B.length;I+=1)U(N[I]);v=!0}},o(k){D=D.filter(Boolean);for(let I=0;I<D.length;I+=1)R(D[I]);N=N.filter(Boolean);for(let I=0;I<N.length;I+=1)R(N[I]);v=!1},d(k){k&&m(e),_e(D,k),_e(N,k)}}}function It(l,e,t){let{vars:a={}}=e,{instanceVars:s={}}=e,{availableVarNames:n=[]}=e,{updateFn:i}=e;const u=async(f,r)=>{if(f.length===0||r.length===0)return;const _=ve(ie({},a),{[f]:r});be("handleAddNewVariable",_),await i(_)},p=async f=>{if(!Object.keys(a!=null?a:{}).includes(f))return;const r=ie({},a);delete r[f],be("handleDeleteVariable",r),await i(r)},g=f=>{p(f)},c=f=>!Object.keys(a!=null?a:{}).includes(f),o=(f,r)=>u(f,r);return l.$$set=f=>{"vars"in f&&t(0,a=f.vars),"instanceVars"in f&&t(1,s=f.instanceVars),"availableVarNames"in f&&t(2,n=f.availableVarNames),"updateFn"in f&&t(5,i=f.updateFn)},[a,s,n,u,p,i,g,c,o]}class St extends ce{constructor(e){super();fe(this,e,It,Nt,de,{vars:0,instanceVars:1,availableVarNames:2,updateFn:5})}}function Ye(l){let e,t,a,s,n,i,u,p;const g=[Bt,jt],c=[];function o(f,r){return typeof f[1].script_tpl=="string"&&f[1].script_tpl.length>0?0:1}return a=o(l),s=c[a]=g[a](l),u=new St({props:{vars:l[2],instanceVars:l[4],availableVarNames:l[3],updateFn:l[5]}}),{c(){e=w("div"),t=w("div"),s.c(),n=A(),i=w("div"),X(u.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var r=T(e);t=V(r,"DIV",{class:!0});var _=T(t);s.l(_),_.forEach(m),n=H(r),i=V(r,"DIV",{class:!0});var d=T(i);z(u.$$.fragment,d),d.forEach(m),r.forEach(m),this.h()},h(){y(t,"class","flex-1 text-2xs font-medium"),y(i,"class","flex-1 p-1"),y(e,"class","flex gap-1 p-1")},m(f,r){P(f,e,r),h(e,t),c[a].m(t,null),h(e,n),h(e,i),G(u,i,null),p=!0},p(f,r){let _=a;a=o(f),a===_?c[a].p(f,r):(ae(),R(c[_],1,1,()=>{c[_]=null}),ne(),s=c[a],s?s.p(f,r):(s=c[a]=g[a](f),s.c()),U(s,1),s.m(t,null));const d={};r&4&&(d.vars=f[2]),r&16&&(d.instanceVars=f[4]),r&8&&(d.availableVarNames=f[3]),u.$set(d)},i(f){p||(U(s),U(u.$$.fragment,f),p=!0)},o(f){R(s),R(u.$$.fragment,f),p=!1},d(f){f&&m(e),c[a].d(),M(u)}}}function jt(l){let e,t;return{c(){e=w("p"),t=O("No cluster submission script found.")},l(a){e=V(a,"P",{});var s=T(e);t=x(s,"No cluster submission script found."),s.forEach(m)},m(a,s){P(a,e,s),h(e,t)},p:me,i:me,o:me,d(a){a&&m(e)}}}function Bt(l){let e,t;return e=new it({props:{language:ct,code:l[1].script_tpl}}),{c(){X(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,s){G(e,a,s),t=!0},p(a,s){const n={};s&2&&(n.code=a[1].script_tpl),e.$set(n)},i(a){t||(U(e.$$.fragment,a),t=!0)},o(a){R(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function $t(l){let e,t,a,s,n,i,u,p,g,c,o=l[1].hostname+"",f,r,_,d,E;i=new ft({props:{src:l[0]?He:Fe}});let b=l[0]&&Ye(l);return{c(){e=new at(!1),t=we(),a=A(),s=w("div"),n=w("button"),X(i.$$.fragment),u=A(),p=w("p"),g=O("Target: "),c=w("span"),f=O(o),r=A(),b&&b.c(),this.h()},l(v){const S=nt('[data-svelte="svelte-1d0ge09"]',document.head);e=rt(S,!1),t=we(),S.forEach(m),a=H(v),s=V(v,"DIV",{class:!0});var D=T(s);n=V(D,"BUTTON",{type:!0,class:!0});var j=T(n);z(i.$$.fragment,j),u=H(j),p=V(j,"P",{});var B=T(p);g=x(B,"Target: "),c=V(B,"SPAN",{class:!0});var N=T(c);f=x(N,o),N.forEach(m),B.forEach(m),j.forEach(m),r=H(D),b&&b.l(D),D.forEach(m),this.h()},h(){e.a=t,y(c,"class","font-mono text-sm"),y(n,"type","button"),y(n,"class","w-full flex gap-2 items-center font-medium text-base border-gray-300 px-2 py-1"),xe(n,"border-b",l[0]),y(s,"class","border border-gray-300 rounded shadow-sm bg-white")},m(v,S){e.m(ut,document.head),h(document.head,t),P(v,a,S),P(v,s,S),h(s,n),G(i,n,null),h(n,u),h(n,p),h(p,g),h(p,c),h(c,f),h(s,r),b&&b.m(s,null),_=!0,d||(E=le(n,"click",l[6]),d=!0)},p(v,[S]){const D={};S&1&&(D.src=v[0]?He:Fe),i.$set(D),(!_||S&2)&&o!==(o=v[1].hostname+"")&&te(f,o),S&1&&xe(n,"border-b",v[0]),v[0]?b?(b.p(v,S),S&1&&U(b,1)):(b=Ye(v),b.c(),U(b,1),b.m(s,null)):b&&(ae(),R(b,1,1,()=>{b=null}),ne())},i(v){_||(U(i.$$.fragment,v),U(b),_=!0)},o(v){R(i.$$.fragment,v),R(b),_=!1},d(v){m(t),v&&e.d(),v&&m(a),v&&m(s),M(i),b&&b.d(),d=!1,E()}}}function Ut(l,e,t){let a,s,n;ye(l,Ae,c=>t(4,n=c));let{target:i}=e,{expanded:u=!0}=e;const p=async c=>await Ve.core.setTargetClusterConfigCustomVars(i.hostname,c),g=()=>{t(0,u=!u)};return l.$$set=c=>{"target"in c&&t(1,i=c.target),"expanded"in c&&t(0,u=c.expanded)},l.$$.update=()=>{var c,o;l.$$.dirty&2&&t(3,a=(c=i==null?void 0:i.custom_var_names)!=null?c:[]),l.$$.dirty&2&&t(2,s=(o=i==null?void 0:i.custom_vars)!=null?o:{})},[u,i,s,a,n,p,g]}class Ot extends ce{constructor(e){super();fe(this,e,Ut,$t,de,{target:1,expanded:0})}}function Qe(l,e,t){const a=l.slice();return a[4]=e[t],a}function Xe(l,e,t){const a=l.slice();return a[7]=e[t],a}function ze(l){let e,t;return e=new Ot({props:{target:l[7]}}),{c(){X(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,s){G(e,a,s),t=!0},p(a,s){const n={};s&3&&(n.target=a[7]),e.$set(n)},i(a){t||(U(e.$$.fragment,a),t=!0)},o(a){R(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function Ge(l){let e,t,a,s=l[4].name+"",n,i,u,p;function g(...r){return l[3](l[4],...r)}let c=l[1].filter(g),o=[];for(let r=0;r<c.length;r+=1)o[r]=ze(Xe(l,c,r));const f=r=>R(o[r],1,1,()=>{o[r]=null});return{c(){e=w("p"),t=O("Lane: "),a=w("span"),n=O(s),i=A();for(let r=0;r<o.length;r+=1)o[r].c();u=we(),this.h()},l(r){e=V(r,"P",{class:!0});var _=T(e);t=x(_,"Lane: "),a=V(_,"SPAN",{class:!0});var d=T(a);n=x(d,s),d.forEach(m),_.forEach(m),i=H(r);for(let E=0;E<o.length;E+=1)o[E].l(r);u=we(),this.h()},h(){y(a,"class","font-mono text-sm"),y(e,"class","text-base font-medium text-gray-900 mb-2")},m(r,_){P(r,e,_),h(e,t),h(e,a),h(a,n),P(r,i,_);for(let d=0;d<o.length;d+=1)o[d].m(r,_);P(r,u,_),p=!0},p(r,_){if(l=r,(!p||_&1)&&s!==(s=l[4].name+"")&&te(n,s),_&3){c=l[1].filter(g);let d;for(d=0;d<c.length;d+=1){const E=Xe(l,c,d);o[d]?(o[d].p(E,_),U(o[d],1)):(o[d]=ze(E),o[d].c(),U(o[d],1),o[d].m(u.parentNode,u))}for(ae(),d=c.length;d<o.length;d+=1)f(d);ne()}},i(r){if(!p){for(let _=0;_<c.length;_+=1)U(o[_]);p=!0}},o(r){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)R(o[_]);p=!1},d(r){r&&m(e),r&&m(i),_e(o,r),r&&m(u)}}}function xt(l){let e,t,a,s,n,i,u,p,g;t=new Tt({});let c=l[0],o=[];for(let r=0;r<c.length;r+=1)o[r]=Ge(Qe(l,c,r));const f=r=>R(o[r],1,1,()=>{o[r]=null});return{c(){e=w("div"),X(t.$$.fragment),a=A(),s=w("div"),n=w("h2"),i=O("Target-level Cluster Submission Script Variables"),u=A(),p=w("div");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=V(r,"DIV",{class:!0});var _=T(e);z(t.$$.fragment,_),a=H(_),s=V(_,"DIV",{class:!0});var d=T(s);n=V(d,"H2",{class:!0});var E=T(n);i=x(E,"Target-level Cluster Submission Script Variables"),E.forEach(m),d.forEach(m),u=H(_),p=V(_,"DIV",{class:!0});var b=T(p);for(let v=0;v<o.length;v+=1)o[v].l(b);b.forEach(m),_.forEach(m),this.h()},h(){y(n,"class","text-lg font-medium text-gray-900"),y(s,"class","px-2 py-2"),y(p,"class","p-2 pl-4 bg-gray-100 rounded-md"),y(e,"class","flex-grow px-4 py-4 overflow-y-auto bg-white rounded-b-lg")},m(r,_){P(r,e,_),G(t,e,null),h(e,a),h(e,s),h(s,n),h(n,i),h(e,u),h(e,p);for(let d=0;d<o.length;d+=1)o[d].m(p,null);g=!0},p(r,[_]){if(_&3){c=r[0];let d;for(d=0;d<c.length;d+=1){const E=Qe(r,c,d);o[d]?(o[d].p(E,_),U(o[d],1)):(o[d]=Ge(E),o[d].c(),U(o[d],1),o[d].m(p,null))}for(ae(),d=c.length;d<o.length;d+=1)f(d);ne()}},i(r){if(!g){U(t.$$.fragment,r);for(let _=0;_<c.length;_+=1)U(o[_]);g=!0}},o(r){R(t.$$.fragment,r),o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)R(o[_]);g=!1},d(r){r&&m(e),M(t),_e(o,r)}}}function At(l,e,t){let a,s,n;ye(l,st,u=>t(2,s=u)),ye(l,ot,u=>t(1,n=u));const i=(u,p)=>p.lane===u.name&&p.type==="cluster";return l.$$.update=()=>{l.$$.dirty&4&&t(0,a=s.filter(u=>u.type==="cluster"))},[a,n,s,i]}class Gt extends ce{constructor(e){super();fe(this,e,At,xt,de,{})}}export{Gt as default};
