import{S as De,h as Ne,s as Ae,Q as $,a6 as P,I as U,R as J,T as w,a7 as q,p as f,J as F,U as b,k as Q,a2 as u,K as ye,ac as Ie,ad as Ke,C as ie,D as ue,E as fe,ao as Re,ae as se,o as S,t as G,H as ce,ah as He,ai as We,ax as Pt,l as ve,m as we,L as ge,r as qt,a9 as Xe,j as je,ak as Se,aI as It,aJ as St,af as Ce,at as Ve,V as Mt,aB as Tt,au as Ue,ay as Lt,u as Vt,X as Ut,w as Ft}from"./vendor.3ae73048.js";import{ao as Ye,bo as Me,N as Ze,c5 as Bt,e as Fe,u as xe}from"./index.146c2037.js";import{s as Ot,a as zt,x as Gt,K as Qt,c as Kt,V as Rt,bx as Ht,by as Wt,S as Xt,f as Yt}from"./router.1b465492.js";import"./types.8cb6216c.js";import{I as Pe}from"./Icon.61279884.js";import{K as et}from"./Search.fa01495d.js";import{t as tt,Q as Zt}from"./Spinner.012207c4.js";import{b as Te,a as Le}from"./ChevronUp.0ab7bee0.js";import{c as xt}from"./jobs.7ab064ef.js";import{i as el,a as tl}from"./helpers.7177ca38.js";import{E as ll}from"./Logout.c3964a48.js";import{E as qe}from"./ElapsedTime.0d721130.js";import{J as sl}from"./JobCardsMenu.42df5f55.js";import"./index.2e3bb17a.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./apply.0059decc.js";import"./createNew.a4a688d1.js";import"./index.11580965.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./MenuInfo.722434b0.js";import"./MenuItemConfirmation.1afa248b.js";import"./Button.d254e004.js";import"./MenuNested.51f47e2f.js";import"./JobTagsEditMenu.a5153cee.js";function nl(s){let e,l,t,a,r,n,o,i,d,g,h,_,j,A;return{c(){e=$("div"),l=$("button"),t=P("All Jobs"),r=U(),n=$("button"),o=P("Queued Jobs"),d=U(),g=$("button"),h=P("Active Jobs"),this.h()},l(m){e=J(m,"DIV",{class:!0});var C=w(e);l=J(C,"BUTTON",{type:!0,class:!0});var L=w(l);t=q(L,"All Jobs"),L.forEach(f),r=F(C),n=J(C,"BUTTON",{type:!0,class:!0});var p=w(n);o=q(p,"Queued Jobs"),p.forEach(f),d=F(C),g=J(C,"BUTTON",{type:!0,class:!0});var N=w(g);h=q(N,"Active Jobs"),N.forEach(f),C.forEach(f),this.h()},h(){b(l,"type","button"),b(l,"class",a=""+(s[1].base+" "+(s[0]===0?s[1].active:s[1].default))),b(n,"type","button"),b(n,"class",i=""+(s[1].base+" "+(s[0]===1?s[1].active:s[1].default))),b(g,"type","button"),b(g,"class",_=""+(s[1].base+" "+(s[0]===2?s[1].active:s[1].default)+" mr-0")),b(e,"class","inline-flex p-0.5 border border-gray-300 bg-white rounded-md text-xs whitespace-nowrap")},m(m,C){Q(m,e,C),u(e,l),u(l,t),u(e,r),u(e,n),u(n,o),u(e,d),u(e,g),u(g,h),j||(A=[ye(l,"click",s[2]),ye(n,"click",s[3]),ye(g,"click",s[4])],j=!0)},p(m,[C]){C&1&&a!==(a=""+(m[1].base+" "+(m[0]===0?m[1].active:m[1].default)))&&b(l,"class",a),C&1&&i!==(i=""+(m[1].base+" "+(m[0]===1?m[1].active:m[1].default)))&&b(n,"class",i),C&1&&_!==(_=""+(m[1].base+" "+(m[0]===2?m[1].active:m[1].default)+" mr-0"))&&b(g,"class",_)},i:Ie,o:Ie,d(m){m&&f(e),j=!1,Ke(A)}}}function al(s,e,l){let{showFilter:t}=e;const a={base:"px-2 py-1 mr-1 text-gray-600 font-medium rounded focus:outline-none focus:ring-2 focus:ring-offset focus:ring-blue-500",active:"text-white bg-blue-600 hover:bg-blue-700",default:"hover:bg-gray-100"},r=()=>{l(0,t=0)},n=()=>{l(0,t=1)},o=()=>{l(0,t=2)};return s.$$set=i=>{"showFilter"in i&&l(0,t=i.showFilter)},[t,a,r,n,o]}class rl extends De{constructor(e){super();Ne(this,e,al,nl,Ae,{showFilter:0})}}function lt(s){let e,l=s[0].resources_allocated.licenses_acquired+"",t,a,r,n,o,i,d;return r=new Pe({props:{src:et,modifier:"inline-block mb-0.5 text-yellow-400",size:4}}),{c(){e=$("span"),t=P(l),a=U(),ie(r.$$.fragment),this.h()},l(g){e=J(g,"SPAN",{class:!0});var h=w(e);t=q(h,l),a=F(h),ue(r.$$.fragment,h),h.forEach(f),this.h()},h(){b(e,"class","mr-1 text-xs font-bold text-yellow-400 cursor-pointer")},m(g,h){Q(g,e,h),u(e,t),u(e,a),fe(r,e,null),o=!0,i||(d=Re(n=tt.call(null,e,{content:"Tokens being used by this job"})),i=!0)},p(g,h){(!o||h&1)&&l!==(l=g[0].resources_allocated.licenses_acquired+"")&&se(t,l)},i(g){o||(S(r.$$.fragment,g),o=!0)},o(g){G(r.$$.fragment,g),o=!1},d(g){g&&f(e),ce(r),i=!1,d()}}}function st(s){let e,l=s[0].priority+"",t,a,r,n,o,i,d,g;return r=new Pe({props:{src:ll,modifier:"inline-block mb-0.5 text-"+s[10],size:4}}),{c(){e=$("span"),t=P(l),a=U(),ie(r.$$.fragment),this.h()},l(h){e=J(h,"SPAN",{class:!0});var _=w(e);t=q(_,l),a=F(_),ue(r.$$.fragment,_),_.forEach(f),this.h()},h(){b(e,"class",n="mr-1 text-xs font-bold cursor-pointer "+(s[10]||""))},m(h,_){Q(h,e,_),u(e,t),u(e,a),fe(r,e,null),i=!0,d||(g=Re(o=tt.call(null,e,{content:"Job priority"})),d=!0)},p(h,_){(!i||_&1)&&l!==(l=h[0].priority+"")&&se(t,l);const j={};_&1024&&(j.modifier="inline-block mb-0.5 text-"+h[10]),r.$set(j),(!i||_&1024&&n!==(n="mr-1 text-xs font-bold cursor-pointer "+(h[10]||"")))&&b(e,"class",n)},i(h){i||(S(r.$$.fragment,h),i=!0)},o(h){G(r.$$.fragment,h),i=!1},d(h){h&&f(e),ce(r),d=!1,g()}}}function ol(s){var a;let e,l=((a=s[1])==null?void 0:a.fullName)+"",t;return{c(){e=P("Created by "),t=P(l)},l(r){e=q(r,"Created by "),t=q(r,l)},m(r,n){Q(r,e,n),Q(r,t,n)},p(r,n){var o;n&2&&l!==(l=((o=r[1])==null?void 0:o.fullName)+"")&&se(t,l)},d(r){r&&f(e),r&&f(t)}}}function il(s){let e;return{c(){e=P("Created by me")},l(l){e=q(l,"Created by me")},m(l,t){Q(l,e,t)},p:Ie,d(l){l&&f(e)}}}function ul(s){let e,l,t,a,r;return t=new qe({props:{elapsedDate:s[7]}}),{c(){e=$("p"),l=P("Queued "),ie(t.$$.fragment),a=P(" ago"),this.h()},l(n){e=J(n,"P",{class:!0});var o=w(e);l=q(o,"Queued "),ue(t.$$.fragment,o),a=q(o," ago"),o.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(n,o){Q(n,e,o),u(e,l),fe(t,e,null),u(e,a),r=!0},p(n,o){const i={};o&128&&(i.elapsedDate=n[7]),t.$set(i)},i(n){r||(S(t.$$.fragment,n),r=!0)},o(n){G(t.$$.fragment,n),r=!1},d(n){n&&f(e),ce(t)}}}function fl(s){let e,l,t,a,r;return t=new qe({props:{elapsedDate:s[5]}}),{c(){e=$("p"),l=P("Launched "),ie(t.$$.fragment),a=P(" ago"),this.h()},l(n){e=J(n,"P",{class:!0});var o=w(e);l=q(o,"Launched "),ue(t.$$.fragment,o),a=q(o," ago"),o.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(n,o){Q(n,e,o),u(e,l),fe(t,e,null),u(e,a),r=!0},p(n,o){const i={};o&32&&(i.elapsedDate=n[5]),t.$set(i)},i(n){r||(S(t.$$.fragment,n),r=!0)},o(n){G(t.$$.fragment,n),r=!1},d(n){n&&f(e),ce(t)}}}function cl(s){let e,l,t,a,r;return t=new qe({props:{elapsedDate:s[6]}}),{c(){e=$("p"),l=P("Started "),ie(t.$$.fragment),a=P(" ago"),this.h()},l(n){e=J(n,"P",{class:!0});var o=w(e);l=q(o,"Started "),ue(t.$$.fragment,o),a=q(o," ago"),o.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(n,o){Q(n,e,o),u(e,l),fe(t,e,null),u(e,a),r=!0},p(n,o){const i={};o&64&&(i.elapsedDate=n[6]),t.$set(i)},i(n){r||(S(t.$$.fragment,n),r=!0)},o(n){G(t.$$.fragment,n),r=!1},d(n){n&&f(e),ce(t)}}}function dl(s){let e,l,t,a;return t=new qe({props:{elapsedDate:s[4]}}),{c(){e=$("p"),l=P("Waiting for "),ie(t.$$.fragment),this.h()},l(r){e=J(r,"P",{class:!0});var n=w(e);l=q(n,"Waiting for "),ue(t.$$.fragment,n),n.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(r,n){Q(r,e,n),u(e,l),fe(t,e,null),a=!0},p(r,n){const o={};n&16&&(o.elapsedDate=r[4]),t.$set(o)},i(r){a||(S(t.$$.fragment,r),a=!0)},o(r){G(t.$$.fragment,r),a=!1},d(r){r&&f(e),ce(t)}}}function pl(s){let e,l,t,a;return t=new qe({props:{elapsedDate:s[3]}}),{c(){e=$("p"),l=P("Running for "),ie(t.$$.fragment),this.h()},l(r){e=J(r,"P",{class:!0});var n=w(e);l=q(n,"Running for "),ue(t.$$.fragment,n),n.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(r,n){Q(r,e,n),u(e,l),fe(t,e,null),a=!0},p(r,n){const o={};n&8&&(o.elapsedDate=r[3]),t.$set(o)},i(r){a||(S(t.$$.fragment,r),a=!0)},o(r){G(t.$$.fragment,r),a=!1},d(r){r&&f(e),ce(t)}}}function nt(s){let e,l,t=s[0].queue_message+"",a;return{c(){e=$("p"),l=P("Message: "),a=P(t),this.h()},l(r){e=J(r,"P",{class:!0});var n=w(e);l=q(n,"Message: "),a=q(n,t),n.forEach(f),this.h()},h(){b(e,"class","text-xs text-gray-500")},m(r,n){Q(r,e,n),u(e,l),u(e,a)},p(r,n){n&1&&t!==(t=r[0].queue_message+"")&&se(a,t)},d(r){r&&f(e)}}}function at(s){let e,l,t,a,r,n,o,i;return{c(){e=$("button"),l=$("span"),t=P("Open options"),a=U(),r=He("svg"),n=He("path"),this.h()},l(d){e=J(d,"BUTTON",{class:!0});var g=w(e);l=J(g,"SPAN",{class:!0});var h=w(l);t=q(h,"Open options"),h.forEach(f),a=F(g),r=We(g,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var _=w(r);n=We(_,"path",{d:!0}),w(n).forEach(f),_.forEach(f),g.forEach(f),this.h()},h(){b(l,"class","sr-only"),b(n,"d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"),b(r,"class","w-4 h-4"),b(r,"xmlns","http://www.w3.org/2000/svg"),b(r,"viewBox","0 0 20 20"),b(r,"fill","currentColor"),b(r,"aria-hidden","true"),b(e,"class","absolute bottom-2 right-2 inline-flex items-center justify-center ml-auto px-0.5 py-1 bg-white text-gray-400 rounded-md hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500")},m(d,g){Q(d,e,g),u(e,l),u(l,t),u(e,a),u(e,r),u(r,n),o||(i=ye(e,"click",Pt(s[21])),o=!0)},p:Ie,d(d){d&&f(e),o=!1,i()}}}function _l(s){var be,Je;let e,l,t,a,r,n,o,i,d=s[0].project_uid+"",g,h,_=s[0].uid+"",j,A,m,C,L,p,N=s[0].status+"",M,T,y,Y,ee,W=(s[0].job_type&&s[13][s[0].job_type]?s[13][s[0].job_type].title:s[0].job_type)+"",oe,B,V,pe,he,X,Z,R,de,k,O,ne,z,c=!s[12]&&typeof((Je=(be=s[0])==null?void 0:be.resources_allocated)==null?void 0:Je.licenses_acquired)=="number"&&lt(s),v=typeof s[0].priority=="number"&&st(s);function K(D,le){var re;if(D[1]&&D[0].created_by_user_id&&D[0].created_by_user_id===((re=D[14])==null?void 0:re.id))return il;if(D[1]&&D[0].created_by_user_id)return ol}let x=K(s),E=x&&x(s);const I=[pl,dl,cl,fl,ul],H=[];function _e(D,le){return D[0].status==="running"&&D[3]!==null?0:D[0].status==="waiting"&&D[4]!==null?1:D[0].status==="started"&&D[6]!==null?2:D[0].status==="launched"&&D[5]!==null?3:D[0].status==="queued"&&D[7]!==null?4:-1}~(X=_e(s))&&(Z=H[X]=I[X](s));let ae=s[0].status==="queued"&&s[0].queue_message&&nt(s),te=s[9]&&at(s);return{c(){e=$("button"),l=$("div"),t=$("div"),a=$("div"),r=$("p"),n=$("span"),i=U(),g=P(d),h=U(),j=P(_),A=U(),c&&c.c(),m=U(),v&&v.c(),C=U(),L=$("div"),p=$("span"),M=P(N),y=U(),Y=$("div"),ee=$("p"),oe=P(W),B=U(),V=$("div"),pe=$("p"),E&&E.c(),he=U(),Z&&Z.c(),R=U(),ae&&ae.c(),de=U(),te&&te.c(),this.h()},l(D){e=J(D,"BUTTON",{type:!0,class:!0});var le=w(e);l=J(le,"DIV",{class:!0});var re=w(l);t=J(re,"DIV",{class:!0});var me=w(t);a=J(me,"DIV",{class:!0});var ke=w(a);r=J(ke,"P",{class:!0});var $e=w(r);n=J($e,"SPAN",{class:!0}),w(n).forEach(f),i=F($e),g=q($e,d),h=F($e),j=q($e,_),$e.forEach(f),ke.forEach(f),A=F(me),c&&c.l(me),m=F(me),v&&v.l(me),C=F(me),L=J(me,"DIV",{class:!0});var Be=w(L);p=J(Be,"SPAN",{class:!0});var Oe=w(p);M=q(Oe,N),Oe.forEach(f),Be.forEach(f),me.forEach(f),y=F(re),Y=J(re,"DIV",{class:!0});var ze=w(Y);ee=J(ze,"P",{class:!0});var Ge=w(ee);oe=q(Ge,W),Ge.forEach(f),ze.forEach(f),re.forEach(f),B=F(le),V=J(le,"DIV",{class:!0});var Ee=w(V);pe=J(Ee,"P",{class:!0});var Qe=w(pe);E&&E.l(Qe),Qe.forEach(f),he=F(Ee),Z&&Z.l(Ee),R=F(Ee),ae&&ae.l(Ee),de=F(Ee),te&&te.l(Ee),Ee.forEach(f),le.forEach(f),this.h()},h(){b(n,"class",o="mr-1.5 inline-block w-2 h-2 rounded-full "+Ye(s[0].status)),b(r,"class","flex items-center text-xs font-medium text-gray-900"),b(a,"class","flex-1 min-w-0"),b(p,"class",T="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-"+Me(s[0].status)+"-100 text-"+Me(s[0].status)+"-700"),b(L,"class","inline-flex flex-shrink-0"),b(t,"class","flex items-center space-x-2"),b(ee,"class","text-sm text-gray-600 truncate"),b(Y,"class","flex items-center mt-0.5"),b(l,"class","group w-full px-2.5 py-1.5"),b(pe,"class","text-xs text-gray-500"),b(V,"class","border-t border-gray-200 border-dashed p-2.5 pr-8"),b(e,"type","button"),b(e,"class",k=""+((s[8]?rt:"")+" w-full text-left relative rounded-md border border-gray-300 bg-white shadow-sm focus:outline-none "+(s[9]?"hover:border-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500":"cursor-default")))},m(D,le){Q(D,e,le),u(e,l),u(l,t),u(t,a),u(a,r),u(r,n),u(r,i),u(r,g),u(r,h),u(r,j),u(t,A),c&&c.m(t,null),u(t,m),v&&v.m(t,null),u(t,C),u(t,L),u(L,p),u(p,M),u(l,y),u(l,Y),u(Y,ee),u(ee,oe),u(e,B),u(e,V),u(V,pe),E&&E.m(pe,null),u(V,he),~X&&H[X].m(V,null),u(V,R),ae&&ae.m(V,null),u(V,de),te&&te.m(V,null),O=!0,ne||(z=[ye(e,"contextmenu",s[22]),ye(e,"click",s[23])],ne=!0)},p(D,[le]){var me,ke;(!O||le&1&&o!==(o="mr-1.5 inline-block w-2 h-2 rounded-full "+Ye(D[0].status)))&&b(n,"class",o),(!O||le&1)&&d!==(d=D[0].project_uid+"")&&se(g,d),(!O||le&1)&&_!==(_=D[0].uid+"")&&se(j,_),!D[12]&&typeof((ke=(me=D[0])==null?void 0:me.resources_allocated)==null?void 0:ke.licenses_acquired)=="number"?c?(c.p(D,le),le&4097&&S(c,1)):(c=lt(D),c.c(),S(c,1),c.m(t,m)):c&&(ve(),G(c,1,1,()=>{c=null}),we()),typeof D[0].priority=="number"?v?(v.p(D,le),le&1&&S(v,1)):(v=st(D),v.c(),S(v,1),v.m(t,C)):v&&(ve(),G(v,1,1,()=>{v=null}),we()),(!O||le&1)&&N!==(N=D[0].status+"")&&se(M,N),(!O||le&1&&T!==(T="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-"+Me(D[0].status)+"-100 text-"+Me(D[0].status)+"-700"))&&b(p,"class",T),(!O||le&8193)&&W!==(W=(D[0].job_type&&D[13][D[0].job_type]?D[13][D[0].job_type].title:D[0].job_type)+"")&&se(oe,W),x===(x=K(D))&&E?E.p(D,le):(E&&E.d(1),E=x&&x(D),E&&(E.c(),E.m(pe,null)));let re=X;X=_e(D),X===re?~X&&H[X].p(D,le):(Z&&(ve(),G(H[re],1,1,()=>{H[re]=null}),we()),~X?(Z=H[X],Z?Z.p(D,le):(Z=H[X]=I[X](D),Z.c()),S(Z,1),Z.m(V,R)):Z=null),D[0].status==="queued"&&D[0].queue_message?ae?ae.p(D,le):(ae=nt(D),ae.c(),ae.m(V,de)):ae&&(ae.d(1),ae=null),D[9]?te?te.p(D,le):(te=at(D),te.c(),te.m(V,null)):te&&(te.d(1),te=null),(!O||le&768&&k!==(k=""+((D[8]?rt:"")+" w-full text-left relative rounded-md border border-gray-300 bg-white shadow-sm focus:outline-none "+(D[9]?"hover:border-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500":"cursor-default"))))&&b(e,"class",k)},i(D){O||(S(c),S(v),S(Z),O=!0)},o(D){G(c),G(v),G(Z),O=!1},d(D){D&&f(e),c&&c.d(),v&&v.d(),E&&E.d(),~X&&H[X].d(),ae&&ae.d(),te&&te.d(),ne=!1,Ke(z)}}}const rt="ring-1 ring-blue-500 border-blue-500 hover:border-blue-500 focus-visible:ring-2 focus-visible:border-blue-500 focus-visible:ring-blue-500";function hl(s,e,l){let t,a,r,n,o,i,d,g,h,_,j,A,m,C,L,p,N,M,T;ge(s,Ot,B=>l(17,A=B)),ge(s,zt,B=>l(18,m=B)),ge(s,el,B=>l(19,C=B)),ge(s,Gt,B=>l(20,L=B)),ge(s,Ze,B=>l(12,N=B)),ge(s,Qt,B=>l(13,M=B)),ge(s,tl,B=>l(14,T=B));let{doc:y}=e;const{handleShowMenu:Y}=qt("currentJobsData");ge(s,Y,B=>l(11,p=B));const ee=B=>p(B,j),W=B=>r&&p(B,j),oe=B=>r&&Kt(B,y.project_uid,y.uid);return s.$$set=B=>{"doc"in B&&l(0,y=B.doc)},s.$$.update=()=>{s.$$.dirty&1048577&&l(1,t=L.find(B=>B.id===y.created_by_user_id)),s.$$.dirty&1&&l(10,a=Bt(y.priority)),s.$$.dirty&786433&&l(9,r=C||m.includes(y.project_uid)),s.$$.dirty&1&&l(16,n=`${y.project_uid}-${y.uid}`),s.$$.dirty&196608&&l(8,o=A.includes(n)),s.$$.dirty&1&&l(7,i=typeof y.queued_at=="string"?new Date(y.queued_at):y.queued_at instanceof Date?y.queued_at:null),s.$$.dirty&1&&l(6,d=typeof y.started_at=="string"?new Date(y.started_at):y.started_at instanceof Date?y.started_at:null),s.$$.dirty&1&&l(5,g=typeof y.launched_at=="string"?new Date(y.launched_at):y.launched_at instanceof Date?y.launched_at:null),s.$$.dirty&1&&l(4,h=typeof y.waiting_at=="string"?new Date(y.waiting_at):y.waiting_at instanceof Date?y.waiting_at:null),s.$$.dirty&1&&l(3,_=typeof y.running_at=="string"?new Date(y.running_at):y.running_at instanceof Date?y.running_at:null),s.$$.dirty&1&&l(2,j=xt(y))},[y,t,j,_,h,g,d,i,o,r,a,p,N,M,T,Y,n,A,m,C,L,ee,W,oe]}class ot extends De{constructor(e){super();Ne(this,e,hl,_l,Ae,{doc:0})}}function it(s,e,l){const t=s.slice();return t[9]=e[l],t}function ut(s,e,l){const t=s.slice();return t[9]=e[l],t}function ft(s){let e,l;return{c(){e=P(s[4]),l=P(" /")},l(t){e=q(t,s[4]),l=q(t," /")},m(t,a){Q(t,e,a),Q(t,l,a)},p(t,a){a&16&&se(e,t[4])},d(t){t&&f(e),t&&f(l)}}}function ct(s){let e,l;return{c(){e=P(s[5]),l=P(" /")},l(t){e=q(t,s[5]),l=q(t," /")},m(t,a){Q(t,e,a),Q(t,l,a)},p(t,a){a&32&&se(e,t[5])},d(t){t&&f(e),t&&f(l)}}}function dt(s){let e,l,t,a,r,n=s[0].name+"",o,i,d,g,h=(s[0].desc?s[0].desc:"No description")+"",_,j=!s[6]&&pt(s);return{c(){e=$("div"),j&&j.c(),l=U(),t=$("p"),a=P("Name: "),r=$("span"),o=P(n),i=U(),d=$("p"),g=P("Description: "),_=P(h),this.h()},l(A){e=J(A,"DIV",{class:!0});var m=w(e);j&&j.l(m),l=F(m),t=J(m,"P",{});var C=w(t);a=q(C,"Name: "),r=J(C,"SPAN",{class:!0});var L=w(r);o=q(L,n),L.forEach(f),C.forEach(f),i=F(m),d=J(m,"P",{});var p=w(d);g=q(p,"Description: "),_=q(p,h),p.forEach(f),m.forEach(f),this.h()},h(){b(r,"class","font-mono"),Xe(d,"italic",!s[0].desc),b(e,"class","text-xs text-gray-700")},m(A,m){Q(A,e,m),j&&j.m(e,null),u(e,l),u(e,t),u(t,a),u(t,r),u(r,o),u(e,i),u(e,d),u(d,g),u(d,_)},p(A,m){A[6]?j&&(j.d(1),j=null):j?j.p(A,m):(j=pt(A),j.c(),j.m(e,l)),m&1&&n!==(n=A[0].name+"")&&se(o,n),m&1&&h!==(h=(A[0].desc?A[0].desc:"No description")+"")&&se(_,h),m&1&&Xe(d,"italic",!A[0].desc)},d(A){A&&f(e),j&&j.d()}}}function pt(s){let e,l,t,a=s[0].title+"",r;return{c(){e=$("p"),l=P("Title: "),t=$("span"),r=P(a),this.h()},l(n){e=J(n,"P",{});var o=w(e);l=q(o,"Title: "),t=J(o,"SPAN",{class:!0});var i=w(t);r=q(i,a),i.forEach(f),o.forEach(f),this.h()},h(){b(t,"class","font-mono")},m(n,o){Q(n,e,o),u(e,l),u(e,t),u(t,r)},p(n,o){o&1&&a!==(a=n[0].title+"")&&se(r,a)},d(n){n&&f(e)}}}function _t(s){let e,l,t=s[3],a=[];for(let n=0;n<t.length;n+=1)a[n]=ht(ut(s,t,n));const r=n=>G(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=je()},l(n){for(let o=0;o<a.length;o+=1)a[o].l(n);e=je()},m(n,o){for(let i=0;i<a.length;i+=1)a[i].m(n,o);Q(n,e,o),l=!0},p(n,o){if(o&8){t=n[3];let i;for(i=0;i<t.length;i+=1){const d=ut(n,t,i);a[i]?(a[i].p(d,o),S(a[i],1)):(a[i]=ht(d),a[i].c(),S(a[i],1),a[i].m(e.parentNode,e))}for(ve(),i=t.length;i<a.length;i+=1)r(i);we()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)S(a[o]);l=!0}},o(n){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)G(a[o]);l=!1},d(n){Se(a,n),n&&f(e)}}}function ht(s){let e,l;return e=new ot({props:{doc:s[9]}}),{c(){ie(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),l=!0},p(t,a){const r={};a&8&&(r.doc=t[9]),e.$set(r)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function mt(s){let e,l,t=s[2],a=[];for(let n=0;n<t.length;n+=1)a[n]=bt(it(s,t,n));const r=n=>G(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=je()},l(n){for(let o=0;o<a.length;o+=1)a[o].l(n);e=je()},m(n,o){for(let i=0;i<a.length;i+=1)a[i].m(n,o);Q(n,e,o),l=!0},p(n,o){if(o&4){t=n[2];let i;for(i=0;i<t.length;i+=1){const d=it(n,t,i);a[i]?(a[i].p(d,o),S(a[i],1)):(a[i]=bt(d),a[i].c(),S(a[i],1),a[i].m(e.parentNode,e))}for(ve(),i=t.length;i<a.length;i+=1)r(i);we()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)S(a[o]);l=!0}},o(n){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)G(a[o]);l=!1},d(n){Se(a,n),n&&f(e)}}}function bt(s){let e,l;return e=new ot({props:{doc:s[9]}}),{c(){ie(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),l=!0},p(t,a){const r={};a&4&&(r.doc=t[9]),e.$set(r)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function gt(s){let e,l,t;return{c(){e=$("div"),l=$("p"),t=P("No queued jobs"),this.h()},l(a){e=J(a,"DIV",{class:!0});var r=w(e);l=J(r,"P",{});var n=w(l);t=q(n,"No queued jobs"),n.forEach(f),r.forEach(f),this.h()},h(){b(e,"class","text-center text-gray-600 text-sm italic")},m(a,r){Q(a,e,r),u(e,l),u(l,t)},d(a){a&&f(e)}}}function vt(s){let e,l,t;return{c(){e=$("div"),l=$("p"),t=P("No active jobs"),this.h()},l(a){e=J(a,"DIV",{class:!0});var r=w(e);l=J(r,"P",{});var n=w(l);t=q(n,"No active jobs"),n.forEach(f),r.forEach(f),this.h()},h(){b(e,"class","text-center text-gray-600 text-sm italic")},m(a,r){Q(a,e,r),u(e,l),u(l,t)},d(a){a&&f(e)}}}function ml(s){let e,l,t,a,r,n,o,i=s[0].title+"",d,g,h,_=s[0].type+"",j,A,m,C,L,p=s[4]+s[5]+"",N,M,T,y,Y,ee,W,oe,B,V,pe,he,X,Z,R,de,k,O,ne=s[1]===1&&ft(s),z=s[1]===2&&ct(s);y=new Pe({props:{src:s[7]?Te:Le}});let c=s[7]&&dt(s),v=(s[1]===0||s[1]===2)&&_t(s),K=(s[1]===0||s[1]===1)&&mt(s),x=s[1]===1&&s[4]===0&&gt(),E=s[1]===2&&s[5]===0&&vt();return{c(){e=$("div"),l=$("button"),t=$("span"),a=P("Open options"),r=U(),n=$("div"),o=$("span"),d=P(i),g=U(),h=$("span"),j=P(_),A=U(),m=$("span"),ne&&ne.c(),C=U(),z&&z.c(),L=U(),N=P(p),M=U(),T=$("span"),ie(y.$$.fragment),Y=U(),c&&c.c(),ee=U(),W=$("div"),v&&v.c(),oe=U(),K&&K.c(),B=U(),x&&x.c(),V=U(),E&&E.c(),pe=U(),he=$("div"),X=$("a"),Z=P("View details"),this.h()},l(I){e=J(I,"DIV",{class:!0});var H=w(e);l=J(H,"BUTTON",{class:!0});var _e=w(l);t=J(_e,"SPAN",{class:!0});var ae=w(t);a=q(ae,"Open options"),ae.forEach(f),r=F(_e),n=J(_e,"DIV",{class:!0});var te=w(n);o=J(te,"SPAN",{class:!0});var be=w(o);d=q(be,i),be.forEach(f),g=F(te),h=J(te,"SPAN",{class:!0});var Je=w(h);j=q(Je,_),Je.forEach(f),A=F(te),m=J(te,"SPAN",{class:!0});var D=w(m);ne&&ne.l(D),C=F(D),z&&z.l(D),L=F(D),N=q(D,p),D.forEach(f),M=F(te),T=J(te,"SPAN",{class:!0});var le=w(T);ue(y.$$.fragment,le),le.forEach(f),te.forEach(f),Y=F(_e),c&&c.l(_e),_e.forEach(f),ee=F(H),W=J(H,"DIV",{class:!0});var re=w(W);v&&v.l(re),oe=F(re),K&&K.l(re),B=F(re),x&&x.l(re),V=F(re),E&&E.l(re),re.forEach(f),pe=F(H),he=J(H,"DIV",{class:!0});var me=w(he);X=J(me,"A",{href:!0,class:!0});var ke=w(X);Z=q(ke,"View details"),ke.forEach(f),me.forEach(f),H.forEach(f),this.h()},h(){b(t,"class","sr-only"),b(o,"class","font-medium text-blue-600 hover:text-blue-700 font-mono"),b(h,"class","ml-auto inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"),b(m,"class","ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"),b(T,"class","ml-2 flex justify-center bg-white rounded-full flex items-center text-gray-400 hover:text-gray-600"),b(n,"class","flex text-sm items-center"),b(l,"class","sticky -top-2.5 w-full p-2 pl-3 rounded-t-lg border-b border-gray-200 bg-white text-left z-10 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500"),b(W,"class","p-2 space-y-2"),b(X,"href",R=window.pathPrefix+"/browse/P*-J*?lane="+s[0].name+"&view=table&sort_order=desc&status[]=queued&status[]=launched&status[]=started&status[]=waiting&status[]=running"),b(X,"class","block px-3 py-2 font-normal text-sm rounded-b-lg text-gray-600 bg-gray-50 hover:bg-gray-100 hover:text-gray-700"),b(he,"class","mt-auto border-t border-gray-200"),b(e,"class","flex flex-col bg-white shadow rounded-lg")},m(I,H){Q(I,e,H),u(e,l),u(l,t),u(t,a),u(l,r),u(l,n),u(n,o),u(o,d),u(n,g),u(n,h),u(h,j),u(n,A),u(n,m),ne&&ne.m(m,null),u(m,C),z&&z.m(m,null),u(m,L),u(m,N),u(n,M),u(n,T),fe(y,T,null),u(l,Y),c&&c.m(l,null),u(e,ee),u(e,W),v&&v.m(W,null),u(W,oe),K&&K.m(W,null),u(W,B),x&&x.m(W,null),u(W,V),E&&E.m(W,null),u(e,pe),u(e,he),u(he,X),u(X,Z),de=!0,k||(O=ye(l,"click",s[8]),k=!0)},p(I,[H]){(!de||H&1)&&i!==(i=I[0].title+"")&&se(d,i),(!de||H&1)&&_!==(_=I[0].type+"")&&se(j,_),I[1]===1?ne?ne.p(I,H):(ne=ft(I),ne.c(),ne.m(m,C)):ne&&(ne.d(1),ne=null),I[1]===2?z?z.p(I,H):(z=ct(I),z.c(),z.m(m,L)):z&&(z.d(1),z=null),(!de||H&48)&&p!==(p=I[4]+I[5]+"")&&se(N,p);const _e={};H&128&&(_e.src=I[7]?Te:Le),y.$set(_e),I[7]?c?c.p(I,H):(c=dt(I),c.c(),c.m(l,null)):c&&(c.d(1),c=null),I[1]===0||I[1]===2?v?(v.p(I,H),H&2&&S(v,1)):(v=_t(I),v.c(),S(v,1),v.m(W,oe)):v&&(ve(),G(v,1,1,()=>{v=null}),we()),I[1]===0||I[1]===1?K?(K.p(I,H),H&2&&S(K,1)):(K=mt(I),K.c(),S(K,1),K.m(W,B)):K&&(ve(),G(K,1,1,()=>{K=null}),we()),I[1]===1&&I[4]===0?x||(x=gt(),x.c(),x.m(W,V)):x&&(x.d(1),x=null),I[1]===2&&I[5]===0?E||(E=vt(),E.c(),E.m(W,null)):E&&(E.d(1),E=null),(!de||H&1&&R!==(R=window.pathPrefix+"/browse/P*-J*?lane="+I[0].name+"&view=table&sort_order=desc&status[]=queued&status[]=launched&status[]=started&status[]=waiting&status[]=running"))&&b(X,"href",R)},i(I){de||(S(y.$$.fragment,I),S(v),S(K),de=!0)},o(I){G(y.$$.fragment,I),G(v),G(K),de=!1},d(I){I&&f(e),ne&&ne.d(),z&&z.d(),ce(y),c&&c.d(),v&&v.d(),K&&K.d(),x&&x.d(),E&&E.d(),k=!1,O()}}}function bl(s,e,l){let{lane:t}=e,{showFilter:a=0}=e,{queuedJobs:r}=e,{activeJobs:n}=e,{queuedJobCount:o=0}=e,{activeJobCount:i=0}=e,{fallbackDefault:d=!1}=e,g=!1;const h=()=>{l(7,g=!g)};return s.$$set=_=>{"lane"in _&&l(0,t=_.lane),"showFilter"in _&&l(1,a=_.showFilter),"queuedJobs"in _&&l(2,r=_.queuedJobs),"activeJobs"in _&&l(3,n=_.activeJobs),"queuedJobCount"in _&&l(4,o=_.queuedJobCount),"activeJobCount"in _&&l(5,i=_.activeJobCount),"fallbackDefault"in _&&l(6,d=_.fallbackDefault)},[t,a,r,n,o,i,d,g,h]}class wt extends De{constructor(e){super();Ne(this,e,bl,ml,Ae,{lane:0,showFilter:1,queuedJobs:2,activeJobs:3,queuedJobCount:4,activeJobCount:5,fallbackDefault:6})}}function yt(s){let e,l,t,a,r=s[0].title+"",n,o,i,d,g,h=s[0].name+"",_,j,A,m,C,L=(s[0].desc?`<span>${s[0].desc}</span>`:'<span class="italic">No description</span>')+"";return{c(){e=$("div"),l=$("p"),t=P("Title: "),a=$("span"),n=P(r),o=U(),i=$("p"),d=P("Name: "),g=$("span"),_=P(h),j=U(),A=$("p"),m=P("Description: "),C=new It(!1),this.h()},l(p){e=J(p,"DIV",{class:!0});var N=w(e);l=J(N,"P",{});var M=w(l);t=q(M,"Title: "),a=J(M,"SPAN",{class:!0});var T=w(a);n=q(T,r),T.forEach(f),M.forEach(f),o=F(N),i=J(N,"P",{});var y=w(i);d=q(y,"Name: "),g=J(y,"SPAN",{class:!0});var Y=w(g);_=q(Y,h),Y.forEach(f),y.forEach(f),j=F(N),A=J(N,"P",{});var ee=w(A);m=q(ee,"Description: "),C=St(ee,!1),ee.forEach(f),N.forEach(f),this.h()},h(){b(a,"class","font-mono"),b(g,"class","font-mono"),C.a=null,b(e,"class","text-xs text-gray-700")},m(p,N){Q(p,e,N),u(e,l),u(l,t),u(l,a),u(a,n),u(e,o),u(e,i),u(i,d),u(i,g),u(g,_),u(e,j),u(e,A),u(A,m),C.m(L,A)},p(p,N){N&1&&r!==(r=p[0].title+"")&&se(n,r),N&1&&h!==(h=p[0].name+"")&&se(_,h),N&1&&L!==(L=(p[0].desc?`<span>${p[0].desc}</span>`:'<span class="italic">No description</span>')+"")&&C.p(L)},d(p){p&&f(e)}}}function gl(s){let e,l,t,a,r,n,o=s[0].title+"",i,d,g,h=s[0].type+"",_,j,A,m,C,L,p,N;m=new Pe({props:{src:s[1]?Te:Le}});let M=s[1]&&yt(s);return{c(){e=$("button"),l=$("span"),t=P("Open options"),a=U(),r=$("div"),n=$("span"),i=P(o),d=U(),g=$("span"),_=P(h),j=U(),A=$("span"),ie(m.$$.fragment),C=U(),M&&M.c(),this.h()},l(T){e=J(T,"BUTTON",{class:!0});var y=w(e);l=J(y,"SPAN",{class:!0});var Y=w(l);t=q(Y,"Open options"),Y.forEach(f),a=F(y),r=J(y,"DIV",{class:!0});var ee=w(r);n=J(ee,"SPAN",{class:!0});var W=w(n);i=q(W,o),W.forEach(f),d=F(ee),g=J(ee,"SPAN",{class:!0});var oe=w(g);_=q(oe,h),oe.forEach(f),j=F(ee),A=J(ee,"SPAN",{class:!0});var B=w(A);ue(m.$$.fragment,B),B.forEach(f),ee.forEach(f),C=F(y),M&&M.l(y),y.forEach(f),this.h()},h(){b(l,"class","sr-only"),b(n,"class","font-medium text-blue-600 hover:text-blue-700 font-mono"),b(g,"class","ml-auto inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"),b(A,"class","ml-2 flex justify-center bg-white rounded-full flex items-center text-gray-400 hover:text-gray-600"),b(r,"class","flex text-sm items-center"),b(e,"class","w-full p-2 pl-3 border-b border-gray-200 text-left hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500")},m(T,y){Q(T,e,y),u(e,l),u(l,t),u(e,a),u(e,r),u(r,n),u(n,i),u(r,d),u(r,g),u(g,_),u(r,j),u(r,A),fe(m,A,null),u(e,C),M&&M.m(e,null),L=!0,p||(N=ye(e,"click",s[2]),p=!0)},p(T,[y]){(!L||y&1)&&o!==(o=T[0].title+"")&&se(i,o),(!L||y&1)&&h!==(h=T[0].type+"")&&se(_,h);const Y={};y&2&&(Y.src=T[1]?Te:Le),m.$set(Y),T[1]?M?M.p(T,y):(M=yt(T),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i(T){L||(S(m.$$.fragment,T),L=!0)},o(T){G(m.$$.fragment,T),L=!1},d(T){T&&f(e),ce(m),M&&M.d(),p=!1,N()}}}function vl(s,e,l){let{lane:t}=e,a=!1;const r=()=>{l(1,a=!a)};return s.$$set=n=>{"lane"in n&&l(0,t=n.lane)},[t,a,r]}class wl extends De{constructor(e){super();Ne(this,e,vl,gl,Ae,{lane:0})}}function kt(s,e,l){const t=s.slice();return t[32]=e[l],t}function Et(s,e,l){const t=s.slice();return t[32]=e[l],t}function jt(s,e,l){const t=s.slice();return t[38]=e[l][0],t[39]=e[l][1],t}function $t(s){let e,l,t,a,r,n=`${s[0]}: ${s[1]}`,o,i,d=[],g=new Map,h,_,j=`Total: ${s[13]} of ${s[9]} token${s[9]!==1?"s":""}`,A,m;l=new Pe({props:{src:et,modifier:"inline-block mb-0.5 mr-1 text-yellow-400"}});let C=Object.entries(s[2]);const L=p=>p[38];for(let p=0;p<C.length;p+=1){let N=jt(s,C,p),M=L(N);g.set(M,d[p]=Dt(M,N))}return{c(){e=$("span"),ie(l.$$.fragment),t=P(` 
        Token Usage:`),a=U(),r=$("span"),o=P(n),i=U();for(let p=0;p<d.length;p+=1)d[p].c();h=U(),_=$("span"),A=P(j),this.h()},l(p){e=J(p,"SPAN",{class:!0});var N=w(e);ue(l.$$.fragment,N),t=q(N,` 
        Token Usage:`),N.forEach(f),a=F(p),r=J(p,"SPAN",{class:!0});var M=w(r);o=q(M,n),M.forEach(f),i=F(p);for(let y=0;y<d.length;y+=1)d[y].l(p);h=F(p),_=J(p,"SPAN",{class:!0});var T=w(_);A=q(T,j),T.forEach(f),this.h()},h(){b(e,"class","inline-flex items-center mr-2 font-bold text-yellow-500 whitespace-nowrap"),b(r,"class","inline-block mr-2 px-2 py-1 border rounded border-solid bg-blue-100 border-blue-300 text-blue-700 whitespace-nowrap"),b(_,"class","inline-block px-2 py-1 rounded border text-yellow-500 border-yellow-500 whitespace-nowrap")},m(p,N){Q(p,e,N),fe(l,e,null),u(e,t),Q(p,a,N),Q(p,r,N),u(r,o),Q(p,i,N);for(let M=0;M<d.length;M+=1)d[M].m(p,N);Q(p,h,N),Q(p,_,N),u(_,A),m=!0},p(p,N){(!m||N[0]&3)&&n!==(n=`${p[0]}: ${p[1]}`)&&se(o,n),N[0]&5&&(C=Object.entries(p[2]),d=Mt(d,N,L,1,p,C,g,h.parentNode,Tt,Dt,h,jt)),(!m||N[0]&8704)&&j!==(j=`Total: ${p[13]} of ${p[9]} token${p[9]!==1?"s":""}`)&&se(A,j)},i(p){m||(S(l.$$.fragment,p),m=!0)},o(p){G(l.$$.fragment,p),m=!1},d(p){p&&f(e),ce(l),p&&f(a),p&&f(r),p&&f(i);for(let N=0;N<d.length;N+=1)d[N].d(p);p&&f(h),p&&f(_)}}}function Jt(s){let e,l=`${s[38]}: ${s[39]}`,t;return{c(){e=$("span"),t=P(l),this.h()},l(a){e=J(a,"SPAN",{class:!0});var r=w(e);t=q(r,l),r.forEach(f),this.h()},h(){b(e,"class","inline-block mr-2 px-2 py-1 rounded border bg-gray-100 border-gray-300 text-gray-700 whitespace-nowrap")},m(a,r){Q(a,e,r),u(e,t)},p(a,r){r[0]&4&&l!==(l=`${a[38]}: ${a[39]}`)&&se(t,l)},d(a){a&&f(e)}}}function Dt(s,e){let l,t,a=e[38]!==e[0]&&Jt(e);return{key:s,first:null,c(){l=je(),a&&a.c(),t=je(),this.h()},l(r){l=je(),a&&a.l(r),t=je(),this.h()},h(){this.first=l},m(r,n){Q(r,l,n),a&&a.m(r,n),Q(r,t,n)},p(r,n){e=r,e[38]!==e[0]?a?a.p(e,n):(a=Jt(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(r){r&&f(l),a&&a.d(r),r&&f(t)}}}function yl(s){let e,l;return e=new sl({props:{args:s[37],closeMenu:s[10]}}),{c(){ie(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),l=!0},p(t,a){const r={};a[1]&64&&(r.args=t[37]),a[0]&1024&&(r.closeMenu=t[10]),e.$set(r)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Nt(s){let e,l;return e=new wl({props:{lane:s[32]}}),{c(){ie(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),l=!0},p(t,a){const r={};a[0]&2048&&(r.lane=t[32]),e.$set(r)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function At(s){var t,a,r,n;let e,l;return e=new wt({props:{lane:s[32],showFilter:s[8],queuedJobs:(t=s[5][s[32].name])!=null?t:[],activeJobs:(a=s[4][s[32].name])!=null?a:[],queuedJobCount:((r=s[5][s[32].name])!=null?r:[]).length,activeJobCount:((n=s[4][s[32].name])!=null?n:[]).length}}),{c(){ie(e.$$.fragment)},l(o){ue(e.$$.fragment,o)},m(o,i){fe(e,o,i),l=!0},p(o,i){var g,h,_,j;const d={};i[0]&4096&&(d.lane=o[32]),i[0]&256&&(d.showFilter=o[8]),i[0]&4128&&(d.queuedJobs=(g=o[5][o[32].name])!=null?g:[]),i[0]&4112&&(d.activeJobs=(h=o[4][o[32].name])!=null?h:[]),i[0]&4128&&(d.queuedJobCount=((_=o[5][o[32].name])!=null?_:[]).length),i[0]&4112&&(d.activeJobCount=((j=o[4][o[32].name])!=null?j:[]).length),e.$set(d)},i(o){l||(S(e.$$.fragment,o),l=!0)},o(o){G(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function Ct(s){var t,a,r,n;let e,l;return e=new wt({props:{lane:{name:"master",type:"master",title:"(master)",desc:"Low-resource jobs will run on the same machine running the CryoSPARC master component."},showFilter:s[8],queuedJobs:(t=s[5].null)!=null?t:[],activeJobs:(a=s[4].null)!=null?a:[],queuedJobCount:((r=s[5].null)!=null?r:[]).length,activeJobCount:((n=s[4].null)!=null?n:[]).length,fallbackDefault:!0}}),{c(){ie(e.$$.fragment)},l(o){ue(e.$$.fragment,o)},m(o,i){fe(e,o,i),l=!0},p(o,i){var g,h,_,j;const d={};i[0]&256&&(d.showFilter=o[8]),i[0]&32&&(d.queuedJobs=(g=o[5].null)!=null?g:[]),i[0]&16&&(d.activeJobs=(h=o[4].null)!=null?h:[]),i[0]&32&&(d.queuedJobCount=((_=o[5].null)!=null?_:[]).length),i[0]&16&&(d.activeJobCount=((j=o[4].null)!=null?j:[]).length),e.$set(d)},i(o){l||(S(e.$$.fragment,o),l=!0)},o(o){G(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function kl(s){let e,l,t,a,r,n,o,i,d,g,h,_,j,A,m,C,L,p,N,M,T,y=s[3].has("null"),Y,ee,W;function oe(c){s[18](c)}let B={};s[8]!==void 0&&(B.showFilter=s[8]),l=new rl({props:B}),Ce.push(()=>Ve(l,"showFilter",oe));let V=typeof s[0]=="string"&&$t(s);function pe(c){s[19](c)}function he(c){s[20](c)}let X={modifier:"text-xs",$$slots:{default:[yl,({args:c})=>({37:c}),({args:c})=>[0,c?64:0]]},$$scope:{ctx:s}};s[14]!==void 0&&(X.handleShowMenu=s[14]),s[10]!==void 0&&(X.closeMenu=s[10]),d=new Zt({props:X}),Ce.push(()=>Ve(d,"handleShowMenu",pe)),Ce.push(()=>Ve(d,"closeMenu",he));let Z=s[11],R=[];for(let c=0;c<Z.length;c+=1)R[c]=Nt(Et(s,Z,c));const de=c=>G(R[c],1,1,()=>{R[c]=null});let k=s[12],O=[];for(let c=0;c<k.length;c+=1)O[c]=At(kt(s,k,c));const ne=c=>G(O[c],1,1,()=>{O[c]=null});let z=y&&Ct(s);return{c(){e=$("div"),ie(l.$$.fragment),a=U(),r=$("div"),V&&V.c(),n=U(),o=$("div"),i=$("div"),ie(d.$$.fragment),_=U(),j=$("div"),A=$("div"),m=$("div"),C=$("span"),L=P("Inactive Lanes"),p=U(),N=$("ul");for(let c=0;c<R.length;c+=1)R[c].c();M=U();for(let c=0;c<O.length;c+=1)O[c].c();T=U(),z&&z.c(),this.h()},l(c){e=J(c,"DIV",{class:!0});var v=w(e);ue(l.$$.fragment,v),a=F(v),r=J(v,"DIV",{class:!0});var K=w(r);V&&V.l(K),K.forEach(f),v.forEach(f),n=F(c),o=J(c,"DIV",{class:!0});var x=w(o);i=J(x,"DIV",{class:!0});var E=w(i);ue(d.$$.fragment,E),_=F(E),j=J(E,"DIV",{class:!0});var I=w(j);A=J(I,"DIV",{class:!0});var H=w(A);m=J(H,"DIV",{class:!0});var _e=w(m);C=J(_e,"SPAN",{class:!0});var ae=w(C);L=q(ae,"Inactive Lanes"),ae.forEach(f),_e.forEach(f),H.forEach(f),p=F(I),N=J(I,"UL",{class:!0});var te=w(N);for(let be=0;be<R.length;be+=1)R[be].l(te);te.forEach(f),I.forEach(f),M=F(E);for(let be=0;be<O.length;be+=1)O[be].l(E);T=F(E),z&&z.l(E),E.forEach(f),x.forEach(f),this.h()},h(){b(r,"class","flex flex-wrap gap-y-1.5 text-xs"),b(e,"class","flex-shrink-0 flex justify-between items-center flex-wrap-reverse gap-2 bg-white border-b border-gray-300 border-dashed text-sm p-2"),b(C,"class","text-gray-500 mr-1"),b(m,"class","flex text-sm font-mono font-medium"),b(A,"class","sticky -top-2.5 p-2 pl-3 rounded-t-lg border-b border-gray-200 bg-white"),b(N,"class","list-type-disc"),b(j,"class","flex flex-col bg-white shadow rounded-lg"),b(i,"class","grid gap-2.5 svelte-ddatsv"),b(o,"class","flex-grow p-2.5 bg-gray-100 overflow-y-auto custom-scrollbar")},m(c,v){Q(c,e,v),fe(l,e,null),u(e,a),u(e,r),V&&V.m(r,null),Q(c,n,v),Q(c,o,v),u(o,i),fe(d,i,null),u(i,_),u(i,j),u(j,A),u(A,m),u(m,C),u(C,L),u(j,p),u(j,N);for(let K=0;K<R.length;K+=1)R[K].m(N,null);u(i,M);for(let K=0;K<O.length;K+=1)O[K].m(i,null);u(i,T),z&&z.m(i,null),s[21](i),s[22](o),Y=!0,ee||(W=ye(o,"click",s[16]),ee=!0)},p(c,v){const K={};!t&&v[0]&256&&(t=!0,K.showFilter=c[8],Ue(()=>t=!1)),l.$set(K),typeof c[0]=="string"?V?(V.p(c,v),v[0]&1&&S(V,1)):(V=$t(c),V.c(),S(V,1),V.m(r,null)):V&&(ve(),G(V,1,1,()=>{V=null}),we());const x={};if(v[0]&1024|v[1]&2112&&(x.$$scope={dirty:v,ctx:c}),!g&&v[0]&16384&&(g=!0,x.handleShowMenu=c[14],Ue(()=>g=!1)),!h&&v[0]&1024&&(h=!0,x.closeMenu=c[10],Ue(()=>h=!1)),d.$set(x),v[0]&2048){Z=c[11];let E;for(E=0;E<Z.length;E+=1){const I=Et(c,Z,E);R[E]?(R[E].p(I,v),S(R[E],1)):(R[E]=Nt(I),R[E].c(),S(R[E],1),R[E].m(N,null))}for(ve(),E=Z.length;E<R.length;E+=1)de(E);we()}if(v[0]&4400){k=c[12];let E;for(E=0;E<k.length;E+=1){const I=kt(c,k,E);O[E]?(O[E].p(I,v),S(O[E],1)):(O[E]=At(I),O[E].c(),S(O[E],1),O[E].m(i,T))}for(ve(),E=k.length;E<O.length;E+=1)ne(E);we()}v[0]&8&&(y=c[3].has("null")),y?z?(z.p(c,v),v[0]&8&&S(z,1)):(z=Ct(c),z.c(),S(z,1),z.m(i,null)):z&&(ve(),G(z,1,1,()=>{z=null}),we())},i(c){if(!Y){S(l.$$.fragment,c),S(V),S(d.$$.fragment,c);for(let v=0;v<Z.length;v+=1)S(R[v]);for(let v=0;v<k.length;v+=1)S(O[v]);S(z),Y=!0}},o(c){G(l.$$.fragment,c),G(V),G(d.$$.fragment,c),R=R.filter(Boolean);for(let v=0;v<R.length;v+=1)G(R[v]);O=O.filter(Boolean);for(let v=0;v<O.length;v+=1)G(O[v]);G(z),Y=!1},d(c){c&&f(e),ce(l),V&&V.d(),c&&f(n),c&&f(o),ce(d),Se(R,c),Se(O,c),z&&z.d(),s[21](null),s[22](null),ee=!1,W()}}}function El(s,e,l){let t,a,r,n,o,i,d,g,h;ge(s,Ze,k=>l(25,o=k)),ge(s,Rt,k=>l(17,i=k)),ge(s,Ht,k=>l(4,d=k)),ge(s,Wt,k=>l(5,g=k));let _,j,A=0,m=null,C=0,L={},p=0,N,M,T=Ft(()=>{});ge(s,T,k=>l(14,h=k));let y=()=>{};Lt("currentJobsData",{handleShowMenu:T});const Y=k=>(k.key==="ArrowLeft"||k.key==="ArrowRight")&&k.stopPropagation(),ee=k=>{(k.target===_||k.target===j)&&Xt()},W=async()=>{try{const k=await Yt("getInstanceAlias");typeof k=="string"&&(l(0,m=k),oe(),B())}catch(k){Fe("Get alias error: ",k)}},oe=()=>{V(),N=setInterval(V,5e5)},B=()=>{pe(),M=setInterval(pe,8e5)},V=()=>{(async()=>{try{const k=await xe.core.getCurrentUsage();typeof k=="number"&&l(1,C=k)}catch(k){Fe("Get current usage error: ",k)}})()},pe=()=>{(async()=>{try{const k=await xe.core.getGroupUsage();typeof(k==null?void 0:k.totalAvailable)=="number"&&typeof k.groupInstances=="object"&&(l(9,p=k.totalAvailable),l(2,L=k.groupInstances))}catch(k){Fe("Get group instances error: ",k)}})()};Vt(async()=>{!o&&await W(),document.addEventListener("keydown",Y)}),Ut(()=>{clearInterval(N),clearInterval(M),document.removeEventListener("keydown",Y)});function he(k){A=k,l(8,A)}function X(k){h=k,T.set(h)}function Z(k){y=k,l(10,y)}function R(k){Ce[k?"unshift":"push"](()=>{j=k,l(7,j)})}function de(k){Ce[k?"unshift":"push"](()=>{_=k,l(6,_)})}return s.$$.update=()=>{s.$$.dirty[0]&7&&l(13,t=Object.entries(L).filter(([k])=>k!==m).map(([k,O])=>O).reduce((k,O)=>k+O,0)+C),s.$$.dirty[0]&48&&l(3,a=new Set([...Object.keys(g),...Object.keys(d)])),s.$$.dirty[0]&131080&&l(12,r=i.filter(k=>a.has(k.name))),s.$$.dirty[0]&131080&&l(11,n=i.filter(k=>!a.has(k.name)))},[m,C,L,a,d,g,_,j,A,p,y,n,r,t,h,T,ee,i,he,X,Z,R,de]}class Xl extends De{constructor(e){super();Ne(this,e,El,kl,Ae,{},null,[-1,-1])}}export{Xl as default};
