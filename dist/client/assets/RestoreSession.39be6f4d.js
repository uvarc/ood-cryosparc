import{S as ct,h as dt,s as ut,C as Je,D as Ke,E as Qe,o as Xe,t as Me,H as We,L as re,Q as d,a6 as E,R as u,T as m,a7 as w,p as i,U as r,k as _e,a2 as s,ae as Te,ac as ft,I as k,J as L,a3 as je,ar as he,aa as Ye,K as ne,a4 as Ze,ak as $e,ad as mt,as as et}from"./vendor.3ae73048.js";import{a as tt}from"./index.2e3bb17a.js";import{b6 as _t,b2 as ht,b7 as st,b8 as pt,b9 as bt,ba as vt}from"./helpers.7177ca38.js";import{aX as gt,k as Et}from"./router.1b465492.js";import{v as lt}from"./index.c4392b02.js";import"./types.8cb6216c.js";import{A as wt}from"./Alert.ff361b6c.js";import{I as yt}from"./Icon.61279884.js";import{F as xt}from"./FolderAdd.663a788a.js";import"./index.146c2037.js";function It(t,e,a){const l=t.slice();return l[17]=e[a],l}function ot(t,e,a){const l=t.slice();return l[20]=e[a],l}function at(t){let e,a;return{c(){e=d("p"),a=E("The restore lane from this session doesn't exist. Please enter a new lane name."),this.h()},l(l){e=u(l,"P",{class:!0});var n=m(e);a=w(n,"The restore lane from this session doesn't exist. Please enter a new lane name."),n.forEach(i),this.h()},h(){r(e,"class","text-xs pb-4")},m(l,n){_e(l,e,n),s(e,a)},d(l){l&&i(e)}}}function rt(t){let e,a=t[20].title+"",l,n;return{c(){e=d("option"),l=E(a),this.h()},l(_){e=u(_,"OPTION",{});var c=m(e);l=w(c,a),c.forEach(i),this.h()},h(){e.__value=n=t[20].name,e.value=e.__value},m(_,c){_e(_,e,c),s(e,l)},p(_,c){c&16&&a!==(a=_[20].title+"")&&Te(l,a),c&16&&n!==(n=_[20].name)&&(e.__value=n,e.value=e.__value)},d(_){_&&i(e)}}}function kt(t){let e,a,l;return{c(){e=d("option"),a=E(t[17]),this.h()},l(n){e=u(n,"OPTION",{});var _=m(e);a=w(_,t[17]),_.forEach(i),this.h()},h(){e.__value=l=t[17],e.value=e.__value},m(n,_){_e(n,e,_),s(e,a)},p:ft,d(n){n&&i(e)}}}function Lt(t){let e,a,l,n,_,c,p,D,O,J,R,T,j,A,N,se,le,M,V,h,W,U,Y,y,C,pe,be,B,K,ve,ge,Z,S,Ee,F,Q,we,ye,$,x,ie,xe,G,P,Ie,ce,ke,H,Le,q,z,Se,Ce;n=new yt({props:{src:xt,modifier:"stroke-2 text-teal-600",size:6,type:"outline"}});let g=!t[6]&&at(),ee=t[4],b=[];for(let o=0;o<ee.length;o+=1)b[o]=rt(ot(t,ee,o));let it=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],oe=[];for(let o=0;o<16;o+=1)oe[o]=kt(It(t,it,o));return{c(){e=d("div"),a=d("div"),l=d("div"),Je(n.$$.fragment),_=k(),c=d("div"),p=d("h2"),D=E("Restore Session "),O=E(t[3]),J=k(),R=E(t[2]),T=E("?"),j=k(),A=d("div"),N=d("h3"),se=E("This will restore the session and all of its exposures."),le=k(),g&&g.c(),M=k(),V=d("div"),h=d("label"),W=E("Select a lane for session restoration."),U=k(),Y=d("div"),y=d("select");for(let o=0;o<b.length;o+=1)b[o].c();C=d("option"),pe=E("Select a lane"),be=k(),B=d("div"),K=d("label"),ve=E("Select the number of GPUs to use for session restoration."),ge=k(),Z=d("div"),S=d("select");for(let o=0;o<16;o+=1)oe[o].c();Ee=k(),F=d("div"),Q=d("label"),we=E("Please type the project and session ID to confirm restoration."),ye=k(),$=d("div"),x=d("input"),xe=k(),G=d("div"),P=d("button"),Ie=E("Restore"),ke=k(),H=d("button"),Le=E("Cancel"),this.h()},l(o){e=u(o,"DIV",{id:!0,class:!0});var v=m(e);a=u(v,"DIV",{});var f=m(a);l=u(f,"DIV",{class:!0});var ae=m(l);Ke(n.$$.fragment,ae),ae.forEach(i),_=L(f),c=u(f,"DIV",{class:!0});var I=m(c);p=u(I,"H2",{class:!0,id:!0});var te=m(p);D=w(te,"Restore Session "),O=w(te,t[3]),J=L(te),R=w(te,t[2]),T=w(te,"?"),te.forEach(i),j=L(I),A=u(I,"DIV",{class:!0});var Pe=m(A);N=u(Pe,"H3",{class:!0});var Re=m(N);se=w(Re,"This will restore the session and all of its exposures."),Re.forEach(i),Pe.forEach(i),le=L(I),g&&g.l(I),M=L(I),V=u(I,"DIV",{class:!0});var de=m(V);h=u(de,"LABEL",{for:!0,class:!0});var Ae=m(h);W=w(Ae,"Select a lane for session restoration."),Ae.forEach(i),U=L(de),Y=u(de,"DIV",{class:!0});var Oe=m(Y);y=u(Oe,"SELECT",{id:!0,class:!0});var De=m(y);for(let X=0;X<b.length;X+=1)b[X].l(De);C=u(De,"OPTION",{});var Ne=m(C);pe=w(Ne,"Select a lane"),Ne.forEach(i),De.forEach(i),Oe.forEach(i),de.forEach(i),be=L(I),B=u(I,"DIV",{class:!0});var ue=m(B);K=u(ue,"LABEL",{for:!0,class:!0});var Ue=m(K);ve=w(Ue,"Select the number of GPUs to use for session restoration."),Ue.forEach(i),ge=L(ue),Z=u(ue,"DIV",{class:!0});var Be=m(Z);S=u(Be,"SELECT",{id:!0,class:!0});var Fe=m(S);for(let X=0;X<16;X+=1)oe[X].l(Fe);Fe.forEach(i),Be.forEach(i),ue.forEach(i),Ee=L(I),F=u(I,"DIV",{class:!0});var fe=m(F);Q=u(fe,"LABEL",{for:!0,class:!0});var Ge=m(Q);we=w(Ge,"Please type the project and session ID to confirm restoration."),Ge.forEach(i),ye=L(fe),$=u(fe,"DIV",{class:!0});var He=m($);x=u(He,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),He.forEach(i),fe.forEach(i),I.forEach(i),f.forEach(i),xe=L(v),G=u(v,"DIV",{class:!0});var me=m(G);P=u(me,"BUTTON",{type:!0,class:!0});var qe=m(P);Ie=w(qe,"Restore"),qe.forEach(i),ke=L(me),H=u(me,"BUTTON",{type:!0,class:!0});var ze=m(H);Le=w(ze,"Cancel"),ze.forEach(i),me.forEach(i),v.forEach(i),this.h()},h(){r(l,"class","mx-auto flex items-center justify-center h-12 w-12 mb-3 rounded-full bg-teal-100"),r(p,"class","mb-6 text-lg leading-6 font-medium text-gray-900"),r(p,"id","modal-headline"),r(N,"class","text-left text-sm font-medium leading-normal"),r(A,"class","py-2 pl-3 pr-3 mb-4 rounded-r-md border-l-3 border-teal-600 bg-teal-50 text-teal-700"),r(h,"for","restore_lane"),r(h,"class","block text-sm font-medium text-gray-700"),C.__value="_not_selected",C.value=C.__value,C.disabled=!0,r(y,"id","restore_lane"),r(y,"class","inline-block w-full pl-3 pr-10 py-2 text-base rounded-md leading-6 sm:text-sm sm:leading-5 "+nt),t[1]===void 0&&je(()=>t[13].call(y)),r(Y,"class","mt-1"),r(V,"class","mb-4 text-sm text-left"),r(K,"for","restore_gpus"),r(K,"class","block text-sm font-medium text-gray-700"),r(S,"id","restore_gpus"),r(S,"class","inline-block w-full pl-3 pr-10 py-2 text-base rounded-md leading-6 sm:text-sm sm:leading-5 "+nt),t[7]===void 0&&je(()=>t[14].call(S)),r(Z,"class","mt-1"),r(B,"class","mb-4 text-sm text-left"),r(Q,"for","session_uid"),r(Q,"class","block text-sm font-medium text-gray-700"),r(x,"type","text"),r(x,"name","session_uid"),r(x,"id","session_uid"),r(x,"class","shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"),r(x,"placeholder",ie=""+(t[3]+" "+t[2])),r($,"class","mt-1"),r(F,"class","mb-4 text-sm text-left"),r(c,"class","text-center"),P.disabled=ce=!t[5],r(P,"type","button"),r(P,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-teal-600 text-base font-medium text-white hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-40 disabled:cursor-not-allowed sm:col-start-2 sm:text-sm"),r(H,"type","button"),r(H,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:col-start-1 sm:text-sm"),r(G,"class","mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"),r(e,"id","delete-session-alert"),r(e,"class","inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left shadow-xl transform transition-all sm:align-middle sm:max-w-md w-full sm:p-6")},m(o,v){_e(o,e,v),s(e,a),s(a,l),Qe(n,l,null),s(a,_),s(a,c),s(c,p),s(p,D),s(p,O),s(p,J),s(p,R),s(p,T),s(c,j),s(c,A),s(A,N),s(N,se),s(c,le),g&&g.m(c,null),s(c,M),s(c,V),s(V,h),s(h,W),s(V,U),s(V,Y),s(Y,y);for(let f=0;f<b.length;f+=1)b[f].m(y,null);s(y,C),s(C,pe),he(y,t[1]),s(c,be),s(c,B),s(B,K),s(K,ve),s(B,ge),s(B,Z),s(Z,S);for(let f=0;f<16;f+=1)oe[f].m(S,null);he(S,t[7]),s(c,Ee),s(c,F),s(F,Q),s(Q,we),s(F,ye),s(F,$),s($,x),Ye(x,t[0]),s(e,xe),s(e,G),s(G,P),s(P,Ie),s(G,ke),s(G,H),s(H,Le),z=!0,Se||(Ce=[ne(y,"change",t[13]),ne(S,"change",t[14]),ne(x,"input",t[15]),ne(P,"click",t[16]),ne(H,"click",t[9])],Se=!0)},p(o,v){if((!z||v&8)&&Te(O,o[3]),(!z||v&4)&&Te(R,o[2]),o[6]?g&&(g.d(1),g=null):g||(g=at(),g.c(),g.m(c,M)),v&16){ee=o[4];let f;for(f=0;f<ee.length;f+=1){const ae=ot(o,ee,f);b[f]?b[f].p(ae,v):(b[f]=rt(ae),b[f].c(),b[f].m(y,C))}for(;f<b.length;f+=1)b[f].d(1);b.length=ee.length}v&18&&he(y,o[1]),v&128&&he(S,o[7]),(!z||v&12&&ie!==(ie=""+(o[3]+" "+o[2])))&&r(x,"placeholder",ie),v&1&&x.value!==o[0]&&Ye(x,o[0]),(!z||v&32&&ce!==(ce=!o[5]))&&(P.disabled=ce)},i(o){z||(Xe(n.$$.fragment,o),je(()=>{q||(q=Ze(e,tt,{duration:250,start:.95},!0)),q.run(1)}),z=!0)},o(o){Me(n.$$.fragment,o),q||(q=Ze(e,tt,{duration:250,start:.95},!1)),q.run(0),z=!1},d(o){o&&i(e),We(n),g&&g.d(),$e(b,o),$e(oe,o),o&&q&&q.end(),Se=!1,mt(Ce)}}}function St(t){let e,a;return e=new wt({props:{$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{c(){Je(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,n){Qe(e,l,n),a=!0},p(l,[n]){const _={};n&8388863&&(_.$$scope={dirty:n,ctx:l}),e.$set(_)},i(l){a||(Xe(e.$$.fragment,l),a=!0)},o(l){Me(e.$$.fragment,l),a=!1},d(l){We(e,l)}}}const Ve="_not_selected",nt="border-gray-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300";function Dt(t,e,a){let l,n,_,c,p,D,O,J,R;re(t,_t,h=>a(2,p=h)),re(t,ht,h=>a(3,D=h)),re(t,gt,h=>a(4,O=h)),re(t,Et,h=>a(12,J=h)),re(t,st,h=>a(7,R=h));let T="",j=Ve;const A=()=>{j!==Ve&&vt.set(j),pt(),lt.set(!1)},N=()=>{bt(),lt.set(!1)};function se(){j=et(this),a(1,j)}function le(){R=et(this),st.set(R)}function M(){T=this.value,a(0,T)}const V=()=>A();return t.$$.update=()=>{var h,W;t.$$.dirty&4108&&a(11,l=J.find(U=>U.project_uid===D&&U.session_uid===p)),t.$$.dirty&2048&&a(10,n=(W=(h=l==null?void 0:l.compute_resources)==null?void 0:h.phase_one_lane)!=null?W:null),t.$$.dirty&1040&&a(6,_=n!==null&&O.some(U=>U.name===n)),t.$$.dirty&15&&a(5,c=j!==Ve&&(T==null?void 0:T.toLowerCase())===`${D==null?void 0:D.toLowerCase()} ${p==null?void 0:p.toLowerCase()}`)},[T,j,p,D,O,c,_,R,A,N,n,l,J,se,le,M,V]}class Bt extends ct{constructor(e){super();dt(this,e,Dt,St,ut,{})}}export{Bt as default};
