var _e=Object.defineProperty;var M=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var X=(r,e,i)=>e in r?_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,q=(r,e)=>{for(var i in e||(e={}))he.call(e,i)&&X(r,i,e[i]);if(M)for(var i of M(e))$e.call(e,i)&&X(r,i,e[i]);return r};import{S as Z,h as x,s as ee,y as te,Q as b,a6 as C,R as g,T as v,a7 as K,p as m,U as k,k as S,a2 as h,ae as se,I as H,J as L,K as be,z as ie,A as re,B as oe,o as y,t as j,$ as ge,aF as ne,j as G,aG as ve,L as ke,ac as D,l as we,m as ye,C as A,D as N,E as R,H as T}from"./vendor.3ae73048.js";import{a8 as le,P as F,z as je,u as ae}from"./index.146c2037.js";import{ag as O,ah as I}from"./helpers.7177ca38.js";import{p as De}from"./router.1b465492.js";import"./types.8cb6216c.js";import{I as ce}from"./Icon.61279884.js";import{K as Ee,S as Ie}from"./Search.fa01495d.js";import{S as Ve}from"./Spinner.012207c4.js";const Ue=r=>({}),ue=r=>({});function fe(r){let e,i,t;return{c(){e=b("div"),i=b("h3"),t=C(r[0]),this.h()},l(s){e=g(s,"DIV",{class:!0});var o=v(e);i=g(o,"H3",{class:!0});var n=v(i);t=K(n,r[0]),n.forEach(m),o.forEach(m),this.h()},h(){k(i,"class","text-base font-medium text-gray-900"),k(e,"class","mt-5 text-center")},m(s,o){S(s,e,o),h(e,i),h(i,t)},p(s,o){o&1&&se(t,s[0])},d(s){s&&m(e)}}}function de(r){let e,i,t;return{c(){e=b("div"),i=b("p"),t=C(r[1]),this.h()},l(s){e=g(s,"DIV",{class:!0});var o=v(e);i=g(o,"P",{class:!0});var n=v(i);t=K(n,r[1]),n.forEach(m),o.forEach(m),this.h()},h(){k(i,"class","text-sm text-center leading-5 text-gray-500"),k(e,"class","mt-2")},m(s,o){S(s,e,o),h(e,i),h(i,t)},p(s,o){o&2&&se(t,s[1])},d(s){s&&m(e)}}}function Se(r){let e,i,t,s,o,n,p,a,_,$,V,E,z,B;const l=r[3].icon,c=te(l,r,r[2],ue);let u=r[0].length&&fe(r),f=r[1].length&&de(r);return{c(){e=b("div"),i=b("div"),t=b("div"),s=b("div"),o=b("div"),c&&c.c(),n=H(),u&&u.c(),p=H(),f&&f.c(),a=H(),_=b("div"),$=b("button"),V=C("Back"),this.h()},l(d){e=g(d,"DIV",{class:!0});var w=v(e);i=g(w,"DIV",{class:!0});var Q=v(i);t=g(Q,"DIV",{class:!0});var P=v(t);s=g(P,"DIV",{class:!0});var U=v(s);o=g(U,"DIV",{class:!0});var W=v(o);c&&c.l(W),W.forEach(m),n=L(U),u&&u.l(U),p=L(U),f&&f.l(U),U.forEach(m),a=L(P),_=g(P,"DIV",{class:!0});var J=v(_);$=g(J,"BUTTON",{class:!0});var Y=v($);V=K(Y,"Back"),Y.forEach(m),J.forEach(m),P.forEach(m),Q.forEach(m),w.forEach(m),this.h()},h(){k(o,"class","mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"),k(s,"class","mb-2"),k($,"class","inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-1.5 bg-white text-sm font-medium text-gray-700 shadow-sm hover:text-gray-800 hover:bg-gray-50 focus:outline-none focus:border-blue-300 focus:shadow-outline transition ease-in-out duration-150"),k(_,"class","mt-6 flex w-full rounded-md shadow-sm"),k(t,"class","max-w-90 px-4 py-3 shadow-md bg-white rounded-lg overflow-hidden"),k(i,"class","absolute-center"),k(e,"class","relative w-full h-full bg-gray-200 z-10")},m(d,w){S(d,e,w),h(e,i),h(i,t),h(t,s),h(s,o),c&&c.m(o,null),h(s,n),u&&u.m(s,null),h(s,p),f&&f.m(s,null),h(t,a),h(t,_),h(_,$),h($,V),E=!0,z||(B=be($,"click",r[4]),z=!0)},p(d,[w]){c&&c.p&&(!E||w&4)&&ie(c,l,d,d[2],E?oe(l,d[2],w,Ue):re(d[2]),ue),d[0].length?u?u.p(d,w):(u=fe(d),u.c(),u.m(s,p)):u&&(u.d(1),u=null),d[1].length?f?f.p(d,w):(f=de(d),f.c(),f.m(s,null)):f&&(f.d(1),f=null)},i(d){E||(y(c,d),E=!0)},o(d){j(c,d),E=!1},d(d){d&&m(e),c&&c.d(d),u&&u.d(),f&&f.d(),z=!1,B()}}}function Fe(r,e,i){let{$$slots:t={},$$scope:s}=e,{title:o=""}=e,{description:n=""}=e;const p=()=>ge(window.pathPrefix+"/browse/P*");return r.$$set=a=>{"title"in a&&i(0,o=a.title),"description"in a&&i(1,n=a.description),"$$scope"in a&&i(2,s=a.$$scope)},[o,n,s,t,p]}class me extends Z{constructor(e){super();x(this,e,Fe,Se,ee,{title:0,description:1})}}function pe(r){r[12]=r[14].exists,r[13]=r[14].access}function ze(r){return{c:D,l:D,m:D,p:D,i:D,o:D,d:D}}function Ae(r){pe(r);let e,i,t,s;const o=[Te,Re,Ne],n=[];function p(a,_){return a[12]?a[13]?2:1:0}return e=p(r),i=n[e]=o[e](r),{c(){i.c(),t=G()},l(a){i.l(a),t=G()},m(a,_){n[e].m(a,_),S(a,t,_),s=!0},p(a,_){pe(a);let $=e;e=p(a),e===$?n[e].p(a,_):(we(),j(n[$],1,1,()=>{n[$]=null}),ye(),i=n[e],i?i.p(a,_):(i=n[e]=o[e](a),i.c()),y(i,1),i.m(t.parentNode,t))},i(a){s||(y(i),s=!0)},o(a){j(i),s=!1},d(a){n[e].d(a),a&&m(t)}}}function Ne(r){let e;const i=r[5].default,t=te(i,r,r[6],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,o){t&&t.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&64)&&ie(t,i,s,s[6],e?oe(i,s[6],o,null):re(s[6]),null)},i(s){e||(y(t,s),e=!0)},o(s){j(t,s),e=!1},d(s){t&&t.d(s)}}}function Re(r){let e,i;return e=new me({props:{title:r[2].permissionDenied,description:r[1].permissionDenied,$$slots:{icon:[Be]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,s){R(e,t,s),i=!0},p(t,s){const o={};s&4&&(o.title=t[2].permissionDenied),s&2&&(o.description=t[1].permissionDenied),s&64&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){j(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function Te(r){let e,i;return e=new me({props:{title:r[2].notFound,description:r[1].notFound,$$slots:{icon:[Pe]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,s){R(e,t,s),i=!0},p(t,s){const o={};s&4&&(o.title=t[2].notFound),s&2&&(o.description=t[1].notFound),s&64&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){j(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function Be(r){let e,i;return e=new ce({props:{slot:"icon",src:Ee,size:6,type:"outline",modifier:"stroke-2 text-red-600"}}),{c(){A(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,s){R(e,t,s),i=!0},p:D,i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){j(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function Pe(r){let e,i;return e=new ce({props:{slot:"icon",src:Ie,size:6,type:"outline",modifier:"stroke-2 text-red-600"}}),{c(){A(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,s){R(e,t,s),i=!0},p:D,i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){j(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function qe(r){let e,i,t,s;return t=new Ve({}),{c(){e=b("div"),i=b("div"),A(t.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var n=v(e);i=g(n,"DIV",{class:!0});var p=v(i);N(t.$$.fragment,p),p.forEach(m),n.forEach(m),this.h()},h(){k(i,"class","absolute-center"),k(e,"class","relative w-full h-full bg-gray-200 z-10")},m(o,n){S(o,e,n),h(e,i),R(t,i,null),s=!0},p:D,i(o){s||(y(t.$$.fragment,o),s=!0)},o(o){j(t.$$.fragment,o),s=!1},d(o){o&&m(e),T(t)}}}function Ge(r){let e,i,t,s={ctx:r,current:null,token:null,hasCatch:!1,pending:qe,then:Ae,catch:ze,value:14,blocks:[,,,]};return ne(i=r[3](r[0]),s),{c(){e=G(),s.block.c()},l(o){e=G(),s.block.l(o)},m(o,n){S(o,e,n),s.block.m(o,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(o,[n]){r=o,s.ctx=r,n&1&&i!==(i=r[3](r[0]))&&ne(i,s)||ve(s,r,n)},i(o){t||(y(s.block),t=!0)},o(o){for(let n=0;n<3;n+=1){const p=s.blocks[n];j(p)}t=!1},d(o){o&&m(e),s.block.d(o),s.token=null,s=null}}}function Oe(r,e,i){let t,s,o,n;ke(r,De,l=>i(0,n=l));let{$$slots:p={},$$scope:a}=e;const _=(l,c)=>{!l.access||!l.exists||(c.projectUid&&c.workspaceUid?ae.core.setUserWorkspaceView(c.projectUid,c.workspaceUid):c.projectUid&&ae.core.setUserProjectView(c.projectUid))},$=l=>{const{projectUid:c,workspaceUid:u,sessionUid:f}=l;return!c&&!u&&!f},V=l=>l===F.projects?I.projects:l===F.workspaces||l===F.sessions?I.projects:l===F.jobs&&n.workspaceUid?I.workspaces:l===F.jobs&&n.sessionUid?I.sessions:l===F.jobs&&n.projectUid?I.projects:I.projects,E=l=>Object.keys(l).reduce((c,u,f)=>f===0?`${u}=${l[u]}`:`${c}&${u}=${l[u]}`,""),z=()=>{const l=V(n.type),c=(({projectUid:f,workspaceUid:d,sessionUid:w})=>q(q(q({},f&&(l===I.projects?{uid:f}:{project_uid:f})),d&&{uid:d}),w&&{session_uid:w}))(n),u=E(c);return`/api/actions/${l}/valid?${u}`},B=async l=>{if($(l))return{exists:!0,access:!0};{const c=await je(z());return _(c,l),c}};return r.$$set=l=>{"$$scope"in l&&i(6,a=l.$$scope)},r.$$.update=()=>{var l;r.$$.dirty&1&&i(4,t=(l=V(n.type))==null?void 0:l.slice(0,-1)),r.$$.dirty&16&&i(2,s={[O.notFound]:`${le(t)} Not Found`,[O.permissionDenied]:`Access to ${le(t)} Denied`}),r.$$.dirty&16&&i(1,o={[O.notFound]:`No ${t} with this ID exists. `,[O.permissionDenied]:`You do not have sufficient permissions to view this ${t}. Ask an admin or the project's owner to provide you with access.`})},[n,o,s,B,t,p,a]}class Xe extends Z{constructor(e){super();x(this,e,Oe,Ge,ee,{})}}export{Xe as V};
