import{S as Be,h as Pe,s as Ae,Q as v,a6 as A,R as y,T as C,a7 as J,p,U as h,k as U,a2 as m,ae as he,C as ee,D as te,E as oe,K as ne,ac as be,o as $,t as O,H as re,I as x,J as S,l as ie,m as fe,ak as Je,aI as Ve,j as $e,aS as Fe,aJ as Re,aa as Le,ad as He,L as Ke}from"./vendor.3ae73048.js";import{a as qe,H as Te}from"./a11y-light.12094d25.js";import{u as De,at as Ge}from"./index.146c2037.js";import{V as Qe,aJ as We}from"./Authenticated.43a5e742.js";import{D as ze}from"./Logout.c3964a48.js";import"./types.8cb6216c.js";import{I as _e}from"./Icon.61279884.js";import{C as Xe}from"./ClipboardCopy.96aeb8e5.js";import{F as Ye}from"./Spinner.012207c4.js";import{C as Ze}from"./CopyButton.c1ae3f83.js";import{f as ge}from"./stringify.15726629.js";import"./router.1b465492.js";import"./auth.ae36c178.js";import"./helpers.7177ca38.js";import"./createNew.a4a688d1.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./index.9987ff70.js";import"./index.11580965.js";import"./index.2e3bb17a.js";import"./ChevronUp.0ab7bee0.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./cleanupData.f259a128.js";import"./Exclamation.f44359c6.js";import"./TagCount.d4471cb8.js";import"./Tag.2b4e7c42.js";import"./Workflow.261abe6c.js";import"./Database.55c9be70.js";import"./Search.fa01495d.js";import"./LightningBolt.e8bda490.js";import"./SidebarLeftOpen.3b7701dd.js";function et(l){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},o={beginKeywords:["true","false","null"].join(" ")};return{name:"JSON",contains:[e,t,l.QUOTE_STRING_MODE,o,l.C_NUMBER_MODE,l.C_LINE_COMMENT_MODE,l.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}const tt={name:"json",register:et};var Oe=tt;function Ie(l,e,t){const o=l.slice();return o[24]=e[t],o[26]=t,o}function Ne(l){let e,t;return{c(){e=v("p"),t=A(l[5]),this.h()},l(o){e=y(o,"P",{class:!0});var s=C(e);t=J(s,l[5]),s.forEach(p),this.h()},h(){h(e,"class","ml-2 text-sm leading-5 text-gray-600")},m(o,s){U(o,e,s),m(e,t)},p(o,s){s&32&&he(t,o[5])},d(o){o&&p(e)}}}function Me(l){let e,t,o,s,i,r;return t=new _e({props:{src:Xe,modifier:"mr-1 text-gray-400 group-hover:text-gray-600"}}),{c(){e=v("button"),ee(t.$$.fragment),o=A(`
          Copy JSON`),this.h()},l(d){e=y(d,"BUTTON",{type:!0,class:!0});var a=C(e);te(t.$$.fragment,a),o=J(a,`
          Copy JSON`),a.forEach(p),this.h()},h(){h(e,"type","button"),h(e,"class","ml-2 flex items-center px-2 py-1 mr-2 text-xs border border-gray-300 shadow-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500")},m(d,a){U(d,e,a),oe(t,e,null),m(e,o),s=!0,i||(r=ne(e,"click",l[17]),i=!0)},p:be,i(d){s||($(t.$$.fragment,d),s=!0)},o(d){O(t.$$.fragment,d),s=!1},d(d){d&&p(e),re(t),i=!1,r()}}}function Ue(l){let e,t,o,s,i,r,d,a;return o=new _e({props:{src:Qe,modifier:"mr-1 text-gray-400 group-hover:text-gray-600"}}),i=new Ze({props:{defaultText:`Copy ${l[2]?"path":"command"} to clipboard`,modifier:"text-left break-all",$$slots:{default:[ot]},$$scope:{ctx:l}}}),{c(){e=v("p"),t=v("button"),ee(o.$$.fragment),s=x(),ee(i.$$.fragment),this.h()},l(n){e=y(n,"P",{class:!0});var f=C(e);t=y(f,"BUTTON",{type:!0,class:!0});var c=C(t);te(o.$$.fragment,c),c.forEach(p),s=S(f),te(i.$$.fragment,f),f.forEach(p),this.h()},h(){h(t,"type","button"),h(t,"class","focus:outline-none group"),h(e,"class","flex items-center text-sm leading-5 text-gray-700")},m(n,f){U(n,e,f),m(e,t),oe(o,t,null),m(e,s),oe(i,e,null),r=!0,d||(a=ne(t,"click",l[18]),d=!0)},p(n,f){const c={};f&4&&(c.defaultText=`Copy ${n[2]?"path":"command"} to clipboard`),f&134217740&&(c.$$scope={dirty:f,ctx:n}),i.$set(c)},i(n){r||($(o.$$.fragment,n),$(i.$$.fragment,n),r=!0)},o(n){O(o.$$.fragment,n),O(i.$$.fragment,n),r=!1},d(n){n&&p(e),re(o),re(i),d=!1,a()}}}function ot(l){let e=(l[2]?l[3]:l[9])+"",t;return{c(){t=A(e)},l(o){t=J(o,e)},m(o,s){U(o,t,s)},p(o,s){s&12&&e!==(e=(o[2]?o[3]:o[9])+"")&&he(t,e)},d(o){o&&p(t)}}}function xe(l){let e,t,o,s,i=l[6],r=[];for(let a=0;a<i.length;a+=1)r[a]=Se(Ie(l,i,a));const d=a=>O(r[a],1,1,()=>{r[a]=null});return{c(){e=v("div");for(let a=0;a<r.length;a+=1)r[a].c();t=x(),o=v("div"),this.h()},l(a){e=y(a,"DIV",{class:!0});var n=C(e);for(let f=0;f<r.length;f+=1)r[f].l(n);n.forEach(p),t=S(a),o=y(a,"DIV",{class:!0}),C(o).forEach(p),this.h()},h(){h(e,"class","text-2xs"),h(o,"class","w=full h-px bg-gray-300")},m(a,n){U(a,e,n);for(let f=0;f<r.length;f+=1)r[f].m(e,null);U(a,t,n),U(a,o,n),s=!0},p(a,n){if(n&1216){i=a[6];let f;for(f=0;f<i.length;f+=1){const c=Ie(a,i,f);r[f]?(r[f].p(c,n),$(r[f],1)):(r[f]=Se(c),r[f].c(),$(r[f],1),r[f].m(e,null))}for(ie(),f=i.length;f<r.length;f+=1)d(f);fe()}},i(a){if(!s){for(let n=0;n<i.length;n+=1)$(r[n]);s=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)O(r[n]);s=!1},d(a){a&&p(e),Je(r,a),a&&p(t),a&&p(o)}}}function Se(l){let e,t,o=l[26]+1+"",s,i,r=l[24].join(" \u2192 ")+"",d,a,n,f;return n=new Te({props:{language:Oe,code:ge(l[10](l[7],l[24]))}}),{c(){e=v("pre"),t=A("Match "),s=A(o),i=A(": "),d=A(r),a=x(),ee(n.$$.fragment),this.h()},l(c){e=y(c,"PRE",{class:!0});var g=C(e);t=J(g,"Match "),s=J(g,o),i=J(g,": "),d=J(g,r),g.forEach(p),a=S(c),te(n.$$.fragment,c),this.h()},h(){h(e,"class","max-w-md font-mono font-bold text-blue-700")},m(c,g){U(c,e,g),m(e,t),m(e,s),m(e,i),m(e,d),U(c,a,g),oe(n,c,g),f=!0},p(c,g){(!f||g&64)&&r!==(r=c[24].join(" \u2192 ")+"")&&he(d,r);const B={};g&192&&(B.code=ge(c[10](c[7],c[24]))),n.$set(B)},i(c){f||($(n.$$.fragment,c),f=!0)},o(c){O(n.$$.fragment,c),f=!1},d(c){c&&p(e),c&&p(a),re(n,c)}}}function rt(l){let e,t,o;return t=new Te({props:{language:Oe,code:ge(l[7])}}),{c(){e=v("div"),ee(t.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var i=C(e);te(t.$$.fragment,i),i.forEach(p),this.h()},h(){h(e,"class","text-2xs leading-tight")},m(s,i){U(s,e,i),oe(t,e,null),o=!0},p(s,i){const r={};i&128&&(r.code=ge(s[7])),t.$set(r)},i(s){o||($(t.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),o=!1},d(s){s&&p(e),re(t)}}}function lt(l){let e,t;return{c(){e=v("pre"),t=A(l[4]),this.h()},l(o){e=y(o,"PRE",{class:!0});var s=C(e);t=J(s,l[4]),s.forEach(p),this.h()},h(){h(e,"class","max-w-md font-mono text-2xs leading-tight")},m(o,s){U(o,e,s),m(e,t)},p(o,s){s&16&&he(t,o[4])},i:be,o:be,d(o){o&&p(e)}}}function st(l){let e,t,o,s,i,r,d,a,n,f,c,g,B,Q,R,V,H,Y,le,F,K,q,se,I,ae,Z,b,N,_,G,M,T,j,P,ve;q=new _e({props:{src:Ye,modifier:"text-gray-400"}});let D=l[5].length>0&&Ne(l),w=l[0]===l[8].data&&Me(l),E=l[3].length>0&&Ue(l),k=l[6].length>0&&xe(l);const ye=[lt,rt],W=[];function je(u,L){return u[0]===u[8].log?0:1}return M=je(l),T=W[M]=ye[M](l),{c(){e=new Ve(!1),t=$e(),o=x(),s=v("div"),i=v("div"),r=v("div"),d=v("nav"),a=v("button"),n=A("Data"),c=x(),g=v("button"),B=A("Log"),R=x(),V=v("div"),H=v("label"),Y=A("Filter data"),le=x(),F=v("div"),K=v("div"),ee(q.$$.fragment),se=x(),I=v("input"),ae=x(),D&&D.c(),Z=x(),w&&w.c(),b=x(),E&&E.c(),N=x(),_=v("div"),k&&k.c(),G=x(),T.c(),this.h()},l(u){const L=Fe('[data-svelte="svelte-1d0ge09"]',document.head);e=Re(L,!1),t=$e(),L.forEach(p),o=S(u),s=y(u,"DIV",{class:!0});var z=C(s);i=y(z,"DIV",{class:!0});var ue=C(i);r=y(ue,"DIV",{class:!0});var X=C(r);d=y(X,"NAV",{class:!0});var ce=C(d);a=y(ce,"BUTTON",{type:!0,class:!0});var we=C(a);n=J(we,"Data"),we.forEach(p),c=S(ce),g=y(ce,"BUTTON",{type:!0,class:!0});var Ee=C(g);B=J(Ee,"Log"),Ee.forEach(p),ce.forEach(p),R=S(X),V=y(X,"DIV",{class:!0});var de=C(V);H=y(de,"LABEL",{for:!0,class:!0});var ke=C(H);Y=J(ke,"Filter data"),ke.forEach(p),le=S(de),F=y(de,"DIV",{class:!0});var pe=C(F);K=y(pe,"DIV",{class:!0});var Ce=C(K);te(q.$$.fragment,Ce),Ce.forEach(p),se=S(pe),I=y(pe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),pe.forEach(p),de.forEach(p),ae=S(X),D&&D.l(X),Z=S(X),w&&w.l(X),X.forEach(p),b=S(ue),E&&E.l(ue),ue.forEach(p),N=S(z),_=y(z,"DIV",{class:!0});var me=C(_);k&&k.l(me),G=S(me),T.l(me),me.forEach(p),z.forEach(p),this.h()},h(){e.a=t,h(a,"type","button"),h(a,"class",f=""+((l[0]===l[8].data?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400")+" whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm focus:outline-none focus-visible:ring-2")),h(g,"type","button"),h(g,"class",Q=""+((l[0]===l[8].log?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400")+" whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm focus:outline-none focus-visible:ring-2")),h(d,"class","-mb-px flex space-x-4"),h(H,"for","data_search"),h(H,"class","sr-only"),h(K,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),h(I,"type","text"),h(I,"id","data_search"),h(I,"class","focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 py-1 text-sm border-gray-300 rounded"),h(I,"placeholder","Search"),h(F,"class","relative rounded shadow-sm"),h(V,"class","ml-6"),h(r,"class","flex items-center"),h(i,"class","flex justify-between items-center bg-white border-b border-gray-200 px-4"),h(_,"class","flex-1 flex-shrink overflow-auto custom-scrollbar px-4 py-2"),h(s,"class","flex flex-col h-full min-h-0")},m(u,L){e.m(qe,document.head),m(document.head,t),U(u,o,L),U(u,s,L),m(s,i),m(i,r),m(r,d),m(d,a),m(a,n),m(d,c),m(d,g),m(g,B),m(r,R),m(r,V),m(V,H),m(H,Y),m(V,le),m(V,F),m(F,K),oe(q,K,null),m(F,se),m(F,I),Le(I,l[1]),m(r,ae),D&&D.m(r,null),m(r,Z),w&&w.m(r,null),m(i,b),E&&E.m(i,null),m(s,N),m(s,_),k&&k.m(_,null),m(_,G),W[M].m(_,null),j=!0,P||(ve=[ne(a,"click",l[14]),ne(g,"click",l[15]),ne(I,"input",l[16])],P=!0)},p(u,[L]){(!j||L&1&&f!==(f=""+((u[0]===u[8].data?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400")+" whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm focus:outline-none focus-visible:ring-2")))&&h(a,"class",f),(!j||L&1&&Q!==(Q=""+((u[0]===u[8].log?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400")+" whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm focus:outline-none focus-visible:ring-2")))&&h(g,"class",Q),L&2&&I.value!==u[1]&&Le(I,u[1]),u[5].length>0?D?D.p(u,L):(D=Ne(u),D.c(),D.m(r,Z)):D&&(D.d(1),D=null),u[0]===u[8].data?w?(w.p(u,L),L&1&&$(w,1)):(w=Me(u),w.c(),$(w,1),w.m(r,null)):w&&(ie(),O(w,1,1,()=>{w=null}),fe()),u[3].length>0?E?(E.p(u,L),L&8&&$(E,1)):(E=Ue(u),E.c(),$(E,1),E.m(i,null)):E&&(ie(),O(E,1,1,()=>{E=null}),fe()),u[6].length>0?k?(k.p(u,L),L&64&&$(k,1)):(k=xe(u),k.c(),$(k,1),k.m(_,G)):k&&(ie(),O(k,1,1,()=>{k=null}),fe());let z=M;M=je(u),M===z?W[M].p(u,L):(ie(),O(W[z],1,1,()=>{W[z]=null}),fe(),T=W[M],T?T.p(u,L):(T=W[M]=ye[M](u),T.c()),$(T,1),T.m(_,null))},i(u){j||($(q.$$.fragment,u),$(w),$(E),$(k),$(T),j=!0)},o(u){O(q.$$.fragment,u),O(w),O(E),O(k),O(T),j=!1},d(u){p(t),u&&e.d(),u&&p(o),u&&p(s),re(q),D&&D.d(),w&&w.d(),E&&E.d(),k&&k.d(),W[M].d(),P=!1,He(ve)}}}function at(l,e,t){let o,s;Ke(l,ze,b=>t(13,s=b));let{projectUid:i}=e,{jobUid:r}=e;const d={data:"data",log:"log"},a=`cryosparcm joblog ${i} ${r}`;let n=d.data,f=!0,c="",g="Loading...",B="",Q="",R=[];const V=async()=>{t(3,c=await De.core.getJobLogPathAbs(i,r))},H=async()=>{t(4,g=await De.core.getJobLog(i,r))},Y=(b,N,_=[],G=[])=>{if(typeof N==="object"&&N!==null)if(Array.isArray(N))N.forEach((T,j)=>Y(b,T,_,[...G,j]));else for(const[T,j]of Object.entries(N)){const P=[...G,T];T.toLowerCase().includes(b.toLowerCase())||typeof j=="string"&&j.toLowerCase().includes(b.toLowerCase())||typeof j=="object"&&j instanceof Date&&j.toString().includes(b.toLowerCase())||typeof j=="number"&&j.toString().includes(b.toLowerCase())||typeof j=="boolean"&&j.toString()===b.toLowerCase()||j===null&&b.toLowerCase()==="null"?_.push(P):Y(b,j,_,P)}return _},le=()=>{if(B.length<2){t(6,R=[]),t(5,Q="");return}t(6,R=Y(B,s)),t(5,Q=`${R.length} match${R.length===1?"":"es"}`)},F=Ge(()=>{le()},600),K=(b,N)=>{if(N.length===1)return b[N[0]];const[_,...G]=N;return K(b[_],G)},q=()=>{t(0,n=d.data)},se=()=>{t(0,n=d.log)};function I(){B=this.value,t(1,B)}const ae=()=>{We.writeText(JSON.stringify(o))},Z=()=>{t(2,f=!f)};return l.$$set=b=>{"projectUid"in b&&t(11,i=b.projectUid),"jobUid"in b&&t(12,r=b.jobUid)},l.$$.update=()=>{l.$$.dirty&6144&&typeof i=="string"&&typeof r=="string"&&V(),l.$$.dirty&6145&&n===d.log&&typeof i=="string"&&typeof r=="string"&&H(),l.$$.dirty&8194&&F(),l.$$.dirty&8192&&t(7,o=s)},[n,B,f,c,g,Q,R,o,d,a,K,i,r,s,q,se,I,ae,Z]}class Jt extends Be{constructor(e){super();Pe(this,e,at,st,Ae,{projectUid:11,jobUid:12})}}export{Jt as default};
