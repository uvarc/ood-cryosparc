import{S as H,h as q,s as Q,C as R,D as Z,E as G,o as W,t as $,H as X,q as ue,u as Y,y as fe,Q as E,I as S,a6 as z,R as P,T as L,p as _,J,a7 as K,U as c,a9 as ee,k as N,a2 as k,K as V,z as pe,A as be,B as he,a3 as te,a4 as A,ad as se,af as ae,L as O,ah as B,ai as T,ae as oe,aa as le,ak as ge,$ as D}from"./vendor.3ae73048.js";import{as as me,aL as F,bv as _e,bw as ve,bx as we,by as ye,bz as ke,aZ as ie}from"./index.146c2037.js";import{b0 as je,aC as Ce,aB as Le,an as xe,b1 as Ee,a$ as Pe,b2 as De,af as Se}from"./router.1b465492.js";import{o as Je}from"./Authenticated.43a5e742.js";import{j as Ne,i as Ie,w as Ue,p as Ve}from"./index.c4392b02.js";import{f as re,a as ne}from"./index.2e3bb17a.js";import{P as Oe}from"./index.11580965.js";import"./auth.ae36c178.js";import"./helpers.7177ca38.js";import"./createNew.a4a688d1.js";import"./jobs.7ab064ef.js";import"./jobs.d50d1674.js";import"./Logout.c3964a48.js";import"./index.9987ff70.js";import"./cleanupData.f259a128.js";import"./types.8cb6216c.js";import"./Spinner.012207c4.js";import"./Icon.61279884.js";import"./ChevronUp.0ab7bee0.js";import"./Exclamation.f44359c6.js";import"./TagCount.d4471cb8.js";import"./Tag.2b4e7c42.js";import"./Workflow.261abe6c.js";import"./Database.55c9be70.js";import"./Search.fa01495d.js";import"./LightningBolt.e8bda490.js";import"./SidebarLeftOpen.3b7701dd.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";function Ae(l){let t,s,a,b,d,g,v,i,x,h,y,p,u,w,n,m,r;const j=l[6].default,e=fe(j,l,l[10],null);return{c(){t=E("div"),s=E("div"),a=E("div"),b=E("div"),v=S(),i=E("span"),x=z("\u200B"),y=S(),p=E("div"),e&&e.c(),this.h()},l(f){t=P(f,"DIV",{class:!0});var o=L(t);s=P(o,"DIV",{class:!0});var C=L(s);a=P(C,"DIV",{class:!0,"aria-hidden":!0});var U=L(a);b=P(U,"DIV",{class:!0}),L(b).forEach(_),U.forEach(_),v=J(C),i=P(C,"SPAN",{class:!0,"aria-hidden":!0});var I=L(i);x=K(I,"\u200B"),I.forEach(_),y=J(C),p=P(C,"DIV",{class:!0,role:!0,"aria-modal":!0});var M=L(p);e&&e.l(M),M.forEach(_),C.forEach(_),o.forEach(_),this.h()},h(){c(b,"class",d="absolute inset-0 bg-gray-500 "+(l[2]?"opacity-75":"opacity-0")),c(a,"class","fixed inset-0 transition-opacity"),c(a,"aria-hidden","true"),c(i,"class",h="hidden sm:inline-block "+(l[3]?"sm:align-top":"sm:align-middle")),c(i,"aria-hidden","true"),c(p,"class","inline-block align-bottom bg-white dark:bg-gray-800 dark:border dark:border-gray-900 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"),c(p,"role","dialog"),c(p,"aria-modal","true"),c(s,"class",w="flex items-end justify-center min-h-screen px-4 pb-20 text-center sm:block "+(l[3]?"pt-20":"pt-4 sm:p-0")),c(t,"class","fixed z-51 inset-0 overflow-y-auto"),ee(t,"dark",l[1])},m(f,o){N(f,t,o),k(t,s),k(s,a),k(a,b),k(s,v),k(s,i),k(i,x),k(s,y),k(s,p),e&&e.m(p,null),l[9](p),n=!0,m||(r=[V(a,"dblclick",l[7]),V(a,"click",l[8])],m=!0)},p(f,o){(!n||o&4&&d!==(d="absolute inset-0 bg-gray-500 "+(f[2]?"opacity-75":"opacity-0")))&&c(b,"class",d),(!n||o&8&&h!==(h="hidden sm:inline-block "+(f[3]?"sm:align-top":"sm:align-middle")))&&c(i,"class",h),e&&e.p&&(!n||o&1024)&&pe(e,j,f,f[10],n?he(j,f[10],o,null):be(f[10]),null),(!n||o&8&&w!==(w="flex items-end justify-center min-h-screen px-4 pb-20 text-center sm:block "+(f[3]?"pt-20":"pt-4 sm:p-0")))&&c(s,"class",w),o&2&&ee(t,"dark",f[1])},i(f){n||(te(()=>{g||(g=A(a,re,{duration:100},!0)),g.run(1)}),W(e,f),te(()=>{u||(u=A(p,ne,{duration:100,start:.95},!0)),u.run(1)}),n=!0)},o(f){g||(g=A(a,re,{duration:100},!1)),g.run(0),$(e,f),u||(u=A(p,ne,{duration:100,start:.95},!1)),u.run(0),n=!1},d(f){f&&_(t),f&&g&&g.end(),e&&e.d(f),l[9](null),f&&u&&u.end(),m=!1,se(r)}}}function Be(l){let t,s;return t=new Oe({props:{$$slots:{default:[Ae]},$$scope:{ctx:l}}}),{c(){R(t.$$.fragment)},l(a){Z(t.$$.fragment,a)},m(a,b){G(t,a,b),s=!0},p(a,[b]){const d={};b&1055&&(d.$$scope={dirty:b,ctx:a}),t.$set(d)},i(a){s||(W(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){X(t,a)}}}function Te(l,t,s){let{$$slots:a={},$$scope:b}=t,{singleClickDismiss:d=!0}=t,{dark:g=!1}=t,{overlay:v=!0}=t,{fixedPosition:i=!1}=t;const x=ue(),h=()=>x("close");let y;Y(()=>(window.onkeydown=n=>me(n,y),()=>{window.onkeydown=null}));const p=()=>!d&&h(),u=()=>d&&h();function w(n){ae[n?"unshift":"push"](()=>{y=n,s(4,y)})}return l.$$set=n=>{"singleClickDismiss"in n&&s(0,d=n.singleClickDismiss),"dark"in n&&s(1,g=n.dark),"overlay"in n&&s(2,v=n.overlay),"fixedPosition"in n&&s(3,i=n.fixedPosition),"$$scope"in n&&s(10,b=n.$$scope)},[d,g,v,i,y,h,a,p,u,w,b]}class We extends H{constructor(t){super();q(this,t,Te,Be,Q,{singleClickDismiss:0,dark:1,overlay:2,fixedPosition:3})}}function ce(l,t,s){const a=l.slice();return a[16]=t[s],a[18]=s,a}function de(l){let t,s,a,b,d,g=l[16].label+"",v,i,x,h,y;function p(){return l[8](l[16])}return{c(){t=E("button"),s=B("svg"),a=B("path"),b=S(),d=E("span"),v=z(g),i=S(),this.h()},l(u){t=P(u,"BUTTON",{type:!0,class:!0});var w=L(t);s=T(w,"svg",{class:!0,fill:!0,viewBox:!0});var n=L(s);a=T(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),L(a).forEach(_),n.forEach(_),b=J(w),d=P(w,"SPAN",{class:!0});var m=L(d);v=K(m,g),m.forEach(_),i=J(w),w.forEach(_),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"),c(a,"clip-rule","evenodd"),c(s,"class","mr-2 h-5 w-5 text-gray-400 group-hover:text-gray-300"),c(s,"fill","currentColor"),c(s,"viewBox","0 0 20 20"),c(d,"class","truncate"),c(t,"type","button"),c(t,"class",x="w-full h-10 px-4 bg-gray-800 hover:bg-gray-700 focus:bg-blue-550 border-t border-gray-600 "+(l[18]===l[2]?"text-blue-400":"text-gray-400")+" hover:text-gray-100 focus:text-white focus:outline-none flex items-center group")},m(u,w){N(u,t,w),k(t,s),k(s,a),k(t,b),k(t,d),k(d,v),k(t,i),h||(y=V(t,"click",p),h=!0)},p(u,w){l=u,w&8&&g!==(g=l[16].label+"")&&oe(v,g),w&4&&x!==(x="w-full h-10 px-4 bg-gray-800 hover:bg-gray-700 focus:bg-blue-550 border-t border-gray-600 "+(l[18]===l[2]?"text-blue-400":"text-gray-400")+" hover:text-gray-100 focus:text-white focus:outline-none flex items-center group")&&c(t,"class",x)},d(u){u&&_(t),h=!1,y()}}}function $e(l){let t,s,a,b,d,g,v,i,x,h,y,p,u,w,n=l[3],m=[];for(let r=0;r<n.length;r+=1)m[r]=de(ce(l,n,r));return{c(){t=E("div"),s=E("span"),a=z(l[4]),b=S(),d=E("div"),g=E("div"),v=B("svg"),i=B("path"),x=S(),h=E("input"),y=S(),p=E("div");for(let r=0;r<m.length;r+=1)m[r].c();this.h()},l(r){t=P(r,"DIV",{class:!0});var j=L(t);s=P(j,"SPAN",{class:!0});var e=L(s);a=K(e,l[4]),e.forEach(_),j.forEach(_),b=J(r),d=P(r,"DIV",{class:!0});var f=L(d);g=P(f,"DIV",{class:!0});var o=L(g);v=T(o,"svg",{class:!0,fill:!0,viewBox:!0});var C=L(v);i=T(C,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),L(i).forEach(_),C.forEach(_),o.forEach(_),x=J(f),h=P(f,"INPUT",{class:!0,type:!0,placeholder:!0}),f.forEach(_),y=J(r),p=P(r,"DIV",{class:!0});var U=L(p);for(let I=0;I<m.length;I+=1)m[I].l(U);U.forEach(_),this.h()},h(){c(s,"class","inline-flex items-center px-2.5 py-0.5 rounded text-sm leading-5 bg-gray-600 text-gray-300"),c(t,"class","p-3"),c(i,"fill-rule","evenodd"),c(i,"d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"),c(i,"clip-rule","evenodd"),c(v,"class","h-5 w-5 text-gray-400 group-hover:text-gray-300"),c(v,"fill","currentColor"),c(v,"viewBox","0 0 20 20"),c(g,"class","absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"),c(h,"class","block w-full pl-11 leading-5 bg-gray-800 text-white placeholder-gray-400 border-0 focus:outline-none focus:ring-0"),c(h,"type","text"),c(h,"placeholder","Type a command or search..."),c(d,"class","relative mb-3 group"),c(p,"class","max-h-[300px] overflow-y-auto")},m(r,j){N(r,t,j),k(t,s),k(s,a),N(r,b,j),N(r,d,j),k(d,g),k(g,v),k(v,i),k(d,x),k(d,h),l[6](h),le(h,l[0]),N(r,y,j),N(r,p,j);for(let e=0;e<m.length;e+=1)m[e].m(p,null);u||(w=[V(h,"input",l[7]),V(h,"keydown",l[5])],u=!0)},p(r,j){if(j&16&&oe(a,r[4]),j&1&&h.value!==r[0]&&le(h,r[0]),j&12){n=r[3];let e;for(e=0;e<n.length;e+=1){const f=ce(r,n,e);m[e]?m[e].p(f,j):(m[e]=de(f),m[e].c(),m[e].m(p,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=n.length}},d(r){r&&_(t),r&&_(b),r&&_(d),l[6](null),r&&_(y),r&&_(p),ge(m,r),u=!1,se(w)}}}function ze(l){let t,s;return t=new We({props:{singleClickDismiss:!0,dark:!0,overlay:!1,fixedPosition:!0,$$slots:{default:[$e]},$$scope:{ctx:l}}}),t.$on("close",F),{c(){R(t.$$.fragment)},l(a){Z(t.$$.fragment,a)},m(a,b){G(t,a,b),s=!0},p(a,[b]){const d={};b&524319&&(d.$$scope={dirty:b,ctx:a}),t.$set(d)},i(a){s||(W(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){X(t,a)}}}function Ke(l,t,s){let a,b,d,g,v;O(l,Ne,e=>s(9,a=e)),O(l,Ie,e=>s(10,b=e)),O(l,Ue,e=>s(11,d=e)),O(l,Ve,e=>s(12,g=e)),O(l,je,e=>s(4,v=e));const i=e=>{e(),F()},x=[{type:"navigation",label:"Home",keywords:"homepage dashboard",action:()=>i(()=>D("/"))},{type:"navigation",label:"View all projects",keywords:"P*",action:()=>i(()=>D(window.pathPrefix+"/browse/P*"))},{type:"navigation",label:"View all workspaces",keywords:"W*",action:()=>i(()=>D(window.pathPrefix+"/browse/P*-W*"))},{type:"navigation",label:"View all live sessions",keywords:"S*",action:()=>i(()=>D(window.pathPrefix+"/browse/P*-S*"))},{type:"navigation",label:"View all jobs",keywords:"J*",action:()=>i(()=>D(window.pathPrefix+"/browse/P*-J*"))},{type:"navigation",label:"View job history",action:()=>i(()=>D(window.pathPrefix+"/browse/P*-J*?view=table&sort_order=desc&status[]=killed&status[]=failed&status[]=completed"))},{type:"dialog",label:"Tags",action:()=>i(()=>Ce())},{type:"dialog",label:"Current Jobs",action:()=>i(()=>Le())},{type:"dialog",label:"Upload Local Files",action:()=>i(()=>Je())},{type:"slideover",label:"New Project",action:()=>i(()=>_e())},{type:"slideover",label:"New Workspace",action:()=>i(()=>ve())},{type:"slideover",label:"New Session",action:()=>i(()=>we())},{type:"slideover",label:"Attach Project",action:()=>i(()=>ye())},{type:"slideover",label:"Import Job",action:()=>i(()=>ke())},{type:"sidebar",label:"New Job",action:()=>i(()=>{ie(),xe()})},{type:"sidebar",label:"Details",action:()=>i(()=>Ee())},{type:"sidebar",label:"Job Builder",action:()=>i(()=>Pe())},{type:"sidebar",label:"Job Cart",action:()=>i(()=>{ie(),De()})}];let h,y="",p=0,u=[];const w=e=>{e.stopPropagation(),e.code==="Escape"||e.code==="KeyK"&&e.metaKey?F():e.code==="ArrowUp"?u.length>0&&(p!==0?s(2,p-=1):s(2,p=u.length-1)):e.code==="ArrowDown"?u.length>0&&(p===u.length-1?s(2,p=0):s(2,p+=1)):e.code==="Enter"&&u.length>0&&u[p].action()},n=e=>{s(3,u=e.length>0?x.filter(f=>f.label.toLowerCase().includes(e.toLowerCase())):[]),e.length>0&&g.length>0&&g.filter(o=>{var C;return`${o.uid.toLowerCase()}${(C=o.title)==null?void 0:C.toLowerCase()}`.includes(e.toLowerCase())}).forEach(o=>{u.push({type:"navigation",label:`${o.uid}: ${o.title}`,action:()=>i(()=>D(`${window.pathPrefix}/browse/${o.uid}-W*`))})}),e.length>0&&d.length>0&&d.filter(o=>{var C;return`${o.projectUid.toLowerCase()}${o.uid.toLowerCase()}${(C=o.title)==null?void 0:C.toLowerCase()}`.includes(e.toLowerCase())}).forEach(o=>{u.push({type:"navigation",label:`${o.projectUid} ${o.uid}: ${o.title}`,action:()=>i(()=>D(`${window.pathPrefix}/browse/${o.projectUid}-${o.uid}-J*`))})}),e.length>0&&b.length>0&&b.filter(o=>{var C;return`${o.projectUid.toLowerCase()}${o.uid.toLowerCase()}${(C=o.title)==null?void 0:C.toLowerCase()}`.includes(e.toLowerCase())}).forEach(o=>{u.push({type:"navigation",label:`${o.projectUid} ${o.uid}: ${o.title}`,action:()=>i(()=>D(`${window.pathPrefix}/live/${o.projectUid}-${o.uid}`))})}),e.length>0&&a.length>0&&a.filter(o=>`${o.projectUid.toLowerCase()}${o.uid.toLowerCase()}${o.text.toLowerCase()}${o.status}`.includes(e.toLowerCase())).forEach(o=>{u.push({type:"navigation",label:`${o.text} (${o.status})`,action:()=>i(()=>Se(o.projectUid,o.uid))})}),s(2,p=0)};Y(()=>{h==null||h.focus()});function m(e){ae[e?"unshift":"push"](()=>{h=e,s(1,h)})}function r(){y=this.value,s(0,y)}const j=e=>e.action();return l.$$.update=()=>{l.$$.dirty&1&&n(y)},[y,h,p,u,v,w,m,r,j]}class vt extends H{constructor(t){super();q(this,t,Ke,ze,Q,{})}}export{vt as default};
