import{S as Xe,h as Ge,s as Ke,Q as m,R as d,T as _,p as o,U as k,k as N,l as Qe,t as W,m as Me,o as Y,u as Oe,a6 as E,a7 as D,a2 as e,ac as Ce,I as x,J as I,ak as We,j as Ue,ae as F,C as fe,D as ue,E as me,H as de,c as ee}from"./vendor.3ae73048.js";import{z as Ye,H as R,bp as xe,bh as Ie}from"./index.146c2037.js";import{I as be}from"./Icon.61279884.js";import{C as Ze}from"./Exclamation.f44359c6.js";import{D as et}from"./DotsCircleHorizontal.2485dec6.js";import{E as tt}from"./Logout.c3964a48.js";import{E as at}from"./ExternalLink.7038da10.js";import{Q as lt}from"./QuestionMarkCircle.1d0a7a5c.js";import{a2 as st}from"./index.11580965.js";import"./types.8cb6216c.js";import{C as rt}from"./CopyButton.c1ae3f83.js";import"./helpers.7177ca38.js";import"./router.1b465492.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./index.2e3bb17a.js";import"./ChevronUp.0ab7bee0.js";import"./Spinner.012207c4.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";function qe(g,t,a){const l=g.slice();return l[5]=t[a],l}function it(g){let t,a;return{c(){t=m("p"),a=E("Loading...")},l(l){t=d(l,"P",{});var s=_(t);a=D(s,"Loading..."),s.forEach(o)},m(l,s){N(l,t,s),e(t,a)},p:Ce,i:Ce,o:Ce,d(l){l&&o(t)}}}function ot(g){let t,a,l,s,n,c,i=g[2].startCount+"",r,f,b=g[2].completeCount+"",v,y,S=g[2].failCount+"",z,P,V,w,$;const H=[ft,pt,ct],j=[];function p(h,C){return h[2].currentState==="complete"?0:h[2].currentState==="in_progress"?1:h[2].currentState==="failed"?2:-1}~(a=p(g))&&(l=j[a]=H[a](g));let u=g[1].length&&Re(g);return{c(){t=m("div"),l&&l.c(),s=x(),n=m("div"),c=m("p"),r=E(i),f=E(" backups initiated, "),v=E(b),y=E(" completed, "),z=E(S),P=E(" failed."),V=x(),u&&u.c(),w=Ue(),this.h()},l(h){t=d(h,"DIV",{class:!0});var C=_(t);l&&l.l(C),C.forEach(o),s=I(h),n=d(h,"DIV",{class:!0});var B=_(n);c=d(B,"P",{});var T=_(c);r=D(T,i),f=D(T," backups initiated, "),v=D(T,b),y=D(T," completed, "),z=D(T,S),P=D(T," failed."),T.forEach(o),B.forEach(o),V=I(h),u&&u.l(h),w=Ue(),this.h()},h(){k(t,"class","m-2 p-4 border border-gray-300 rounded-md text-gray-800 text-sm"),k(n,"class","m-2 mt-4 p-4 border border-gray-300 rounded-md text-gray-800 text-sm")},m(h,C){N(h,t,C),~a&&j[a].m(t,null),N(h,s,C),N(h,n,C),e(n,c),e(c,r),e(c,f),e(c,v),e(c,y),e(c,z),e(c,P),N(h,V,C),u&&u.m(h,C),N(h,w,C),$=!0},p(h,C){let B=a;a=p(h),a===B?~a&&j[a].p(h,C):(l&&(Qe(),W(j[B],1,1,()=>{j[B]=null}),Me()),~a?(l=j[a],l?l.p(h,C):(l=j[a]=H[a](h),l.c()),Y(l,1),l.m(t,null)):l=null),(!$||C&4)&&i!==(i=h[2].startCount+"")&&F(r,i),(!$||C&4)&&b!==(b=h[2].completeCount+"")&&F(v,b),(!$||C&4)&&S!==(S=h[2].failCount+"")&&F(z,S),h[1].length?u?u.p(h,C):(u=Re(h),u.c(),u.m(w.parentNode,w)):u&&(u.d(1),u=null)},i(h){$||(Y(l),$=!0)},o(h){W(l),$=!1},d(h){h&&o(t),~a&&j[a].d(),h&&o(s),h&&o(n),h&&o(V),u&&u.d(h),h&&o(w)}}}function nt(g){let t,a,l,s,n,c,i,r,f,b,v,y,S,z,P,V,w;return s=new be({props:{src:tt,size:6,modifier:"text-blue-600"}}),v=new be({props:{src:lt,modifier:"mr-1 text-gray-500 group-hover:text-gray-600 transition ease-in-out duration-150"}}),V=new be({props:{src:at,size:4,modifier:"ml-1.5 text-gray-500 group-hover:text-blue-600 transition ease-in-out duration-150"}}),{c(){t=m("div"),a=m("div"),l=m("div"),fe(s.$$.fragment),n=x(),c=m("h3"),i=E("No backups initiated"),r=x(),f=m("div"),b=m("a"),fe(v.$$.fragment),y=x(),S=m("span"),z=E("Documentation: How to backup your instance"),P=x(),fe(V.$$.fragment),this.h()},l($){t=d($,"DIV",{class:!0});var H=_(t);a=d(H,"DIV",{class:!0});var j=_(a);l=d(j,"DIV",{class:!0});var p=_(l);ue(s.$$.fragment,p),n=I(p),c=d(p,"H3",{class:!0});var u=_(c);i=D(u,"No backups initiated"),u.forEach(o),p.forEach(o),r=I(j),f=d(j,"DIV",{class:!0});var h=_(f);b=d(h,"A",{href:!0,class:!0,target:!0});var C=_(b);ue(v.$$.fragment,C),y=I(C),S=d(C,"SPAN",{});var B=_(S);z=D(B,"Documentation: How to backup your instance"),B.forEach(o),P=I(C),ue(V.$$.fragment,C),C.forEach(o),h.forEach(o),j.forEach(o),H.forEach(o),this.h()},h(){k(c,"class","text-lg leading-6 font-medium text-gray-900"),k(l,"class","flex gap-2"),k(b,"href","https://cryosparc.com/r/backup"),k(b,"class","group flex items-center text-gray-600 hover:text-gray-900 transition ease-in-out duration-150"),k(b,"target","_blank"),k(f,"class","p-2 text-sm rounded-lg text-gray-700 bg-gray-100"),k(a,"class","flex items-center justify-between gap-2"),k(t,"class","m-2 p-4 border border-gray-300 rounded-md text-gray-800 text-sm")},m($,H){N($,t,H),e(t,a),e(a,l),me(s,l,null),e(l,n),e(l,c),e(c,i),e(a,r),e(a,f),e(f,b),me(v,b,null),e(b,y),e(b,S),e(S,z),e(b,P),me(V,b,null),w=!0},p:Ce,i($){w||(Y(s.$$.fragment,$),Y(v.$$.fragment,$),Y(V.$$.fragment,$),w=!0)},o($){W(s.$$.fragment,$),W(v.$$.fragment,$),W(V.$$.fragment,$),w=!1},d($){$&&o(t),de(s),de(v),de(V)}}}function ct(g){let t,a,l,s,n,c,i,r,f,b,v,y=R(new Date(g[2].latestFailedTimestamp*1e3),"PPpp")+"",S,z,P,V,w=ee(new Date(g[2].latestCompletedTimestamp*1e3),{includeSeconds:!0})+"",$,H,j,p,u,h,C,B=R(new Date(g[2].latestStartedTimestamp*1e3),"PPpp")+"",T,q,M,oe,O=ee(new Date(g[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"",te,ne,G;return a=new be({props:{src:st,size:6,modifier:"text-red-600"}}),{c(){t=m("div"),fe(a.$$.fragment),l=x(),s=m("h3"),n=E("Backup Failed"),c=x(),i=m("div"),r=m("p"),f=m("span"),b=E("Failed:"),v=x(),S=E(y),z=x(),P=m("span"),V=E("("),$=E(w),H=E(" ago)"),j=x(),p=m("p"),u=m("span"),h=E("Started:"),C=x(),T=E(B),q=x(),M=m("span"),oe=E("("),te=E(O),ne=E(" ago)"),this.h()},l(A){t=d(A,"DIV",{class:!0});var Q=_(t);ue(a.$$.fragment,Q),l=I(Q),s=d(Q,"H3",{class:!0});var _e=_(s);n=D(_e,"Backup Failed"),_e.forEach(o),Q.forEach(o),c=I(A),i=d(A,"DIV",{class:!0});var le=_(i);r=d(le,"P",{});var K=_(r);f=d(K,"SPAN",{class:!0});var ce=_(f);b=D(ce,"Failed:"),ce.forEach(o),v=I(K),S=D(K,y),z=I(K),P=d(K,"SPAN",{class:!0});var se=_(P);V=D(se,"("),$=D(se,w),H=D(se," ago)"),se.forEach(o),K.forEach(o),j=I(le),p=d(le,"P",{});var J=_(p);u=d(J,"SPAN",{class:!0});var ae=_(u);h=D(ae,"Started:"),ae.forEach(o),C=I(J),T=D(J,B),q=I(J),M=d(J,"SPAN",{class:!0});var re=_(M);oe=D(re,"("),te=D(re,O),ne=D(re," ago)"),re.forEach(o),J.forEach(o),le.forEach(o),this.h()},h(){k(s,"class","text-lg leading-6 font-medium text-gray-900"),k(t,"class","flex items-center gap-2"),k(f,"class","font-medium text-gray-800"),k(P,"class","text-gray-500 italic"),k(u,"class","font-medium text-gray-800"),k(M,"class","text-gray-500 italic"),k(i,"class","ml-7 mt-2 gap-1.5 flex flex-col text-gray-600")},m(A,Q){N(A,t,Q),me(a,t,null),e(t,l),e(t,s),e(s,n),N(A,c,Q),N(A,i,Q),e(i,r),e(r,f),e(f,b),e(r,v),e(r,S),e(r,z),e(r,P),e(P,V),e(P,$),e(P,H),e(i,j),e(i,p),e(p,u),e(u,h),e(p,C),e(p,T),e(p,q),e(p,M),e(M,oe),e(M,te),e(M,ne),G=!0},p(A,Q){(!G||Q&4)&&y!==(y=R(new Date(A[2].latestFailedTimestamp*1e3),"PPpp")+"")&&F(S,y),(!G||Q&4)&&w!==(w=ee(new Date(A[2].latestCompletedTimestamp*1e3),{includeSeconds:!0})+"")&&F($,w),(!G||Q&4)&&B!==(B=R(new Date(A[2].latestStartedTimestamp*1e3),"PPpp")+"")&&F(T,B),(!G||Q&4)&&O!==(O=ee(new Date(A[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"")&&F(te,O)},i(A){G||(Y(a.$$.fragment,A),G=!0)},o(A){W(a.$$.fragment,A),G=!1},d(A){A&&o(t),de(a),A&&o(c),A&&o(i)}}}function pt(g){let t,a,l,s,n,c,i,r,f,b,v,y=R(new Date(g[2].latestStartedTimestamp*1e3),"PPpp")+"",S,z,P,V,w=ee(new Date(g[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"",$,H,j;return a=new be({props:{src:et,size:6,modifier:"text-blue-600"}}),{c(){t=m("div"),fe(a.$$.fragment),l=x(),s=m("h3"),n=E("Backup in Progress"),c=x(),i=m("div"),r=m("p"),f=m("span"),b=E("Started:"),v=x(),S=E(y),z=x(),P=m("span"),V=E("("),$=E(w),H=E(" ago)"),this.h()},l(p){t=d(p,"DIV",{class:!0});var u=_(t);ue(a.$$.fragment,u),l=I(u),s=d(u,"H3",{class:!0});var h=_(s);n=D(h,"Backup in Progress"),h.forEach(o),u.forEach(o),c=I(p),i=d(p,"DIV",{class:!0});var C=_(i);r=d(C,"P",{});var B=_(r);f=d(B,"SPAN",{class:!0});var T=_(f);b=D(T,"Started:"),T.forEach(o),v=I(B),S=D(B,y),z=I(B),P=d(B,"SPAN",{class:!0});var q=_(P);V=D(q,"("),$=D(q,w),H=D(q," ago)"),q.forEach(o),B.forEach(o),C.forEach(o),this.h()},h(){k(s,"class","text-lg leading-6 font-medium text-gray-900"),k(t,"class","flex items-center gap-2"),k(f,"class","font-medium text-gray-800"),k(P,"class","text-gray-500 italic"),k(i,"class","ml-7 mt-2 gap-1.5 flex flex-col text-gray-600")},m(p,u){N(p,t,u),me(a,t,null),e(t,l),e(t,s),e(s,n),N(p,c,u),N(p,i,u),e(i,r),e(r,f),e(f,b),e(r,v),e(r,S),e(r,z),e(r,P),e(P,V),e(P,$),e(P,H),j=!0},p(p,u){(!j||u&4)&&y!==(y=R(new Date(p[2].latestStartedTimestamp*1e3),"PPpp")+"")&&F(S,y),(!j||u&4)&&w!==(w=ee(new Date(p[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"")&&F($,w)},i(p){j||(Y(a.$$.fragment,p),j=!0)},o(p){W(a.$$.fragment,p),j=!1},d(p){p&&o(t),de(a),p&&o(c),p&&o(i)}}}function ft(g){var Be;let t,a,l,s,n,c,i,r,f,b,v,y=R(new Date(g[2].latestCompletedTimestamp*1e3),"PPpp")+"",S,z,P,V,w=ee(new Date(g[2].latestCompletedTimestamp*1e3),{includeSeconds:!0})+"",$,H,j,p,u,h,C,B=R(new Date(g[2].latestStartedTimestamp*1e3),"PPpp")+"",T,q,M,oe,O=ee(new Date(g[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"",te,ne,G,A,Q,_e,le,K=xe(g[2].elapsedTime*1e3)+"",ce,se,J,ae,re,je,ke=(((Be=g[2].latestCompleted)==null?void 0:Be.size_bytes)?Ie(g[2].latestCompleted.size_bytes):"-")+"",Ee,Te,pe,ve,Ve,ze,ie,Z;return a=new be({props:{src:Ze,size:6,modifier:"text-green-600"}}),ie=new rt({props:{$$slots:{default:[ut]},$$scope:{ctx:g}}}),{c(){t=m("div"),fe(a.$$.fragment),l=x(),s=m("h3"),n=E("Backup Complete"),c=x(),i=m("div"),r=m("p"),f=m("span"),b=E("Completed:"),v=x(),S=E(y),z=x(),P=m("span"),V=E("("),$=E(w),H=E(" ago)"),j=x(),p=m("p"),u=m("span"),h=E("Started:"),C=x(),T=E(B),q=x(),M=m("span"),oe=E("("),te=E(O),ne=E(" ago)"),G=x(),A=m("p"),Q=m("span"),_e=E("Duration:"),le=x(),ce=E(K),se=x(),J=m("p"),ae=m("span"),re=E("Size:"),je=x(),Ee=E(ke),Te=x(),pe=m("p"),ve=m("span"),Ve=E("Location:"),ze=x(),fe(ie.$$.fragment),this.h()},l(L){t=d(L,"DIV",{class:!0});var U=_(t);ue(a.$$.fragment,U),l=I(U),s=d(U,"H3",{class:!0});var ye=_(s);n=D(ye,"Backup Complete"),ye.forEach(o),U.forEach(o),c=I(L),i=d(L,"DIV",{class:!0});var X=_(i);r=d(X,"P",{});var he=_(r);f=d(he,"SPAN",{class:!0});var Ne=_(f);b=D(Ne,"Completed:"),Ne.forEach(o),v=I(he),S=D(he,y),z=I(he),P=d(he,"SPAN",{class:!0});var De=_(P);V=D(De,"("),$=D(De,w),H=D(De," ago)"),De.forEach(o),he.forEach(o),j=I(X),p=d(X,"P",{});var ge=_(p);u=d(ge,"SPAN",{class:!0});var Ae=_(u);h=D(Ae,"Started:"),Ae.forEach(o),C=I(ge),T=D(ge,B),q=I(ge),M=d(ge,"SPAN",{class:!0});var Pe=_(M);oe=D(Pe,"("),te=D(Pe,O),ne=D(Pe," ago)"),Pe.forEach(o),ge.forEach(o),G=I(X),A=d(X,"P",{});var $e=_(A);Q=d($e,"SPAN",{class:!0});var He=_(Q);_e=D(He,"Duration:"),He.forEach(o),le=I($e),ce=D($e,K),$e.forEach(o),se=I(X),J=d(X,"P",{});var Se=_(J);ae=d(Se,"SPAN",{class:!0});var Le=_(ae);re=D(Le,"Size:"),Le.forEach(o),je=I(Se),Ee=D(Se,ke),Se.forEach(o),Te=I(X),pe=d(X,"P",{});var we=_(pe);ve=d(we,"SPAN",{class:!0});var Fe=_(ve);Ve=D(Fe,"Location:"),Fe.forEach(o),ze=I(we),ue(ie.$$.fragment,we),we.forEach(o),X.forEach(o),this.h()},h(){k(s,"class","text-lg leading-6 font-medium text-gray-900"),k(t,"class","flex items-center gap-2"),k(f,"class","font-medium text-gray-800"),k(P,"class","text-gray-500 italic"),k(u,"class","font-medium text-gray-800"),k(M,"class","text-gray-500 italic"),k(Q,"class","font-medium text-gray-800"),k(ae,"class","font-medium text-gray-800"),k(ve,"class","font-medium text-gray-800"),k(i,"class","ml-7 mt-2 gap-1.5 flex flex-col text-gray-600")},m(L,U){N(L,t,U),me(a,t,null),e(t,l),e(t,s),e(s,n),N(L,c,U),N(L,i,U),e(i,r),e(r,f),e(f,b),e(r,v),e(r,S),e(r,z),e(r,P),e(P,V),e(P,$),e(P,H),e(i,j),e(i,p),e(p,u),e(u,h),e(p,C),e(p,T),e(p,q),e(p,M),e(M,oe),e(M,te),e(M,ne),e(i,G),e(i,A),e(A,Q),e(Q,_e),e(A,le),e(A,ce),e(i,se),e(i,J),e(J,ae),e(ae,re),e(J,je),e(J,Ee),e(i,Te),e(i,pe),e(pe,ve),e(ve,Ve),e(pe,ze),me(ie,pe,null),Z=!0},p(L,U){var X;(!Z||U&4)&&y!==(y=R(new Date(L[2].latestCompletedTimestamp*1e3),"PPpp")+"")&&F(S,y),(!Z||U&4)&&w!==(w=ee(new Date(L[2].latestCompletedTimestamp*1e3),{includeSeconds:!0})+"")&&F($,w),(!Z||U&4)&&B!==(B=R(new Date(L[2].latestStartedTimestamp*1e3),"PPpp")+"")&&F(T,B),(!Z||U&4)&&O!==(O=ee(new Date(L[2].latestStartedTimestamp*1e3),{includeSeconds:!0})+"")&&F(te,O),(!Z||U&4)&&K!==(K=xe(L[2].elapsedTime*1e3)+"")&&F(ce,K),(!Z||U&4)&&ke!==(ke=(((X=L[2].latestCompleted)==null?void 0:X.size_bytes)?Ie(L[2].latestCompleted.size_bytes):"-")+"")&&F(Ee,ke);const ye={};U&260&&(ye.$$scope={dirty:U,ctx:L}),ie.$set(ye)},i(L){Z||(Y(a.$$.fragment,L),Y(ie.$$.fragment,L),Z=!0)},o(L){W(a.$$.fragment,L),W(ie.$$.fragment,L),Z=!1},d(L){L&&o(t),de(a),L&&o(c),L&&o(i),de(ie)}}}function ut(g){var l,s;let t=((s=(l=g[2].latestCompleted)==null?void 0:l.location)!=null?s:"-")+"",a;return{c(){a=E(t)},l(n){a=D(n,t)},m(n,c){N(n,a,c)},p(n,c){var i,r;c&4&&t!==(t=((r=(i=n[2].latestCompleted)==null?void 0:i.location)!=null?r:"-")+"")&&F(a,t)},d(n){n&&o(a)}}}function Re(g){let t,a,l=g[1],s=[];for(let n=0;n<l.length;n+=1)s[n]=Je(qe(g,l,n));return{c(){t=m("div"),a=m("ul");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){t=d(n,"DIV",{class:!0});var c=_(t);a=d(c,"UL",{class:!0});var i=_(a);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(o),c.forEach(o),this.h()},h(){k(a,"class","divide-y divide-gray-200"),k(t,"class","m-2 mt-4 px-4 py-2 border border-gray-300 rounded-md text-gray-800 text-sm")},m(n,c){N(n,t,c),e(t,a);for(let i=0;i<s.length;i+=1)s[i].m(a,null)},p(n,c){if(c&2){l=n[1];let i;for(i=0;i<l.length;i+=1){const r=qe(n,l,i);s[i]?s[i].p(r,c):(s[i]=Je(r),s[i].c(),s[i].m(a,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=l.length}},d(n){n&&o(t),We(s,n)}}}function mt(g){let t,a,l,s,n,c,i,r,f=(g[5].timestamp?R(new Date(g[5].timestamp*1e3),"PPpp"):"-")+"",b;return{c(){t=m("div"),a=x(),l=m("div"),s=m("div"),n=m("h3"),c=E("Backup Failed"),i=x(),r=m("p"),b=E(f),this.h()},l(v){t=d(v,"DIV",{class:!0}),_(t).forEach(o),a=I(v),l=d(v,"DIV",{class:!0});var y=_(l);s=d(y,"DIV",{class:!0});var S=_(s);n=d(S,"H3",{class:!0});var z=_(n);c=D(z,"Backup Failed"),z.forEach(o),i=I(S),r=d(S,"P",{class:!0});var P=_(r);b=D(P,f),P.forEach(o),S.forEach(o),y.forEach(o),this.h()},h(){k(t,"class","mt-1.5 w-2 h-2 bg-red-600 rounded-full"),k(n,"class","text-sm font-medium"),k(r,"class","text-xs text-gray-500"),k(s,"class","flex items-center justify-between"),k(l,"class","flex-1 space-y-1")},m(v,y){N(v,t,y),N(v,a,y),N(v,l,y),e(l,s),e(s,n),e(n,c),e(s,i),e(s,r),e(r,b)},p(v,y){y&2&&f!==(f=(v[5].timestamp?R(new Date(v[5].timestamp*1e3),"PPpp"):"-")+"")&&F(b,f)},d(v){v&&o(t),v&&o(a),v&&o(l)}}}function dt(g){let t,a,l,s,n,c,i,r,f=(g[5].timestamp?R(new Date(g[5].timestamp*1e3),"PPpp"):"-")+"",b,v,y,S,z=(g[5].time_elapsed?xe(g[5].time_elapsed*1e3):"-")+"",P,V,w,$,H=(g[5].size_bytes?Ie(g[5].size_bytes):"-")+"",j;return{c(){t=m("div"),a=x(),l=m("div"),s=m("div"),n=m("h3"),c=E("Backup Completed"),i=x(),r=m("p"),b=E(f),v=x(),y=m("p"),S=E("Duration: "),P=E(z),V=x(),w=m("p"),$=E("Size: "),j=E(H),this.h()},l(p){t=d(p,"DIV",{class:!0}),_(t).forEach(o),a=I(p),l=d(p,"DIV",{class:!0});var u=_(l);s=d(u,"DIV",{class:!0});var h=_(s);n=d(h,"H3",{class:!0});var C=_(n);c=D(C,"Backup Completed"),C.forEach(o),i=I(h),r=d(h,"P",{class:!0});var B=_(r);b=D(B,f),B.forEach(o),h.forEach(o),v=I(u),y=d(u,"P",{class:!0});var T=_(y);S=D(T,"Duration: "),P=D(T,z),T.forEach(o),V=I(u),w=d(u,"P",{class:!0});var q=_(w);$=D(q,"Size: "),j=D(q,H),q.forEach(o),u.forEach(o),this.h()},h(){k(t,"class","mt-1.5 w-2 h-2 bg-green-600 rounded-full"),k(n,"class","text-sm font-medium"),k(r,"class","text-xs text-gray-500"),k(s,"class","flex items-center justify-between"),k(y,"class","text-sm text-gray-500"),k(w,"class","text-sm text-gray-500"),k(l,"class","flex-1 space-y-1")},m(p,u){N(p,t,u),N(p,a,u),N(p,l,u),e(l,s),e(s,n),e(n,c),e(s,i),e(s,r),e(r,b),e(l,v),e(l,y),e(y,S),e(y,P),e(l,V),e(l,w),e(w,$),e(w,j)},p(p,u){u&2&&f!==(f=(p[5].timestamp?R(new Date(p[5].timestamp*1e3),"PPpp"):"-")+"")&&F(b,f),u&2&&z!==(z=(p[5].time_elapsed?xe(p[5].time_elapsed*1e3):"-")+"")&&F(P,z),u&2&&H!==(H=(p[5].size_bytes?Ie(p[5].size_bytes):"-")+"")&&F(j,H)},d(p){p&&o(t),p&&o(a),p&&o(l)}}}function _t(g){let t,a,l,s,n,c,i,r,f=(g[5].timestamp?R(new Date(g[5].timestamp*1e3),"PPpp"):"-")+"",b;return{c(){t=m("div"),a=x(),l=m("div"),s=m("div"),n=m("h3"),c=E("Backup Started"),i=x(),r=m("p"),b=E(f),this.h()},l(v){t=d(v,"DIV",{class:!0}),_(t).forEach(o),a=I(v),l=d(v,"DIV",{class:!0});var y=_(l);s=d(y,"DIV",{class:!0});var S=_(s);n=d(S,"H3",{class:!0});var z=_(n);c=D(z,"Backup Started"),z.forEach(o),i=I(S),r=d(S,"P",{class:!0});var P=_(r);b=D(P,f),P.forEach(o),S.forEach(o),y.forEach(o),this.h()},h(){k(t,"class","mt-1.5 w-2 h-2 bg-gray-600 rounded-full"),k(n,"class","text-sm font-medium"),k(r,"class","text-xs text-gray-500"),k(s,"class","flex items-center justify-between"),k(l,"class","flex-1 space-y-1")},m(v,y){N(v,t,y),N(v,a,y),N(v,l,y),e(l,s),e(s,n),e(n,c),e(s,i),e(s,r),e(r,b)},p(v,y){y&2&&f!==(f=(v[5].timestamp?R(new Date(v[5].timestamp*1e3),"PPpp"):"-")+"")&&F(b,f)},d(v){v&&o(t),v&&o(a),v&&o(l)}}}function Je(g){let t,a,l;function s(i,r){if(i[5].activity==="backup_start")return _t;if(i[5].activity==="backup_complete")return dt;if(i[5].activity==="backup_fail")return mt}let n=s(g),c=n&&n(g);return{c(){t=m("li"),a=m("div"),c&&c.c(),l=x(),this.h()},l(i){t=d(i,"LI",{class:!0});var r=_(t);a=d(r,"DIV",{class:!0});var f=_(a);c&&c.l(f),f.forEach(o),l=I(r),r.forEach(o),this.h()},h(){k(a,"class","flex space-x-3"),k(t,"class","py-3 px-2")},m(i,r){N(i,t,r),e(t,a),c&&c.m(a,null),e(t,l)},p(i,r){n===(n=s(i))&&c?c.p(i,r):(c&&c.d(1),c=n&&n(i),c&&(c.c(),c.m(a,null)))},d(i){i&&o(t),c&&c.d()}}}function vt(g){let t,a,l,s;const n=[nt,ot,it],c=[];function i(r,f){return!r[1].length&&!r[0]?0:r[2]!==null&&!r[0]?1:2}return a=i(g),l=c[a]=n[a](g),{c(){t=m("div"),l.c(),this.h()},l(r){t=d(r,"DIV",{class:!0});var f=_(t);l.l(f),f.forEach(o),this.h()},h(){k(t,"class","backup-info w-full h-full overflow-auto p-3")},m(r,f){N(r,t,f),c[a].m(t,null),s=!0},p(r,[f]){let b=a;a=i(r),a===b?c[a].p(r,f):(Qe(),W(c[b],1,1,()=>{c[b]=null}),Me(),l=c[a],l?l.p(r,f):(l=c[a]=n[a](r),l.c()),Y(l,1),l.m(t,null))},i(r){s||(Y(l),s=!0)},o(r){W(l),s=!1},d(r){r&&o(t),c[a].d()}}}function ht(g,t,a){let l=!0,s=[],n=null;const c=()=>{var j,p,u,h,C,B;const r=(j=s.find(T=>T.activity==="backup_complete"))!=null?j:null,f=(p=s.find(T=>T.activity==="backup_start"))!=null?p:null,b=(u=s.find(T=>T.activity==="backup_fail"))!=null?u:null,v=s.length,y=s.filter(T=>T.activity==="backup_start").length,S=s.filter(T=>T.activity==="backup_complete").length,z=s.filter(T=>T.activity==="backup_fail").length,P=(h=r==null?void 0:r.timestamp)!=null?h:0,V=(C=f==null?void 0:f.timestamp)!=null?C:0,w=(B=b==null?void 0:b.timestamp)!=null?B:0,$=P>V&&P>w?"complete":V>w?"in_progress":"failed",H=$==="complete"?P-V:$==="in_progress"?Date.now()-V:w-V;return a(0,l=!1),{latestStarted:f,latestStartedTimestamp:V,latestCompleted:r,latestCompletedTimestamp:P,latestFailed:b,latestFailedTimestamp:w,totalCount:v,startCount:y,completeCount:S,failCount:z,currentState:$,elapsedTime:H}},i=async()=>{a(1,s=await Ye("/api/actions/instance_activity/backups")),a(2,n=c())};return Oe(()=>{i()}),[l,s,n]}class Lt extends Xe{constructor(t){super();Ge(this,t,ht,vt,Ke,{})}}export{Lt as default};
