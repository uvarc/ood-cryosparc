import{S as gt,h as yt,s as Et,C as oe,I as U,Q as m,a6 as N,D as ie,J as j,R as p,T as h,a7 as I,p as c,U as u,E as ue,k as X,a2 as a,ac as $e,o as H,t as F,H as fe,K as Ie,ae as K,l as qe,m as Je,ad as Bt,L as ut,aR as $t,ak as ft}from"./vendor.3ae73048.js";import{aX as kt,x as Ot}from"./router.1b465492.js";import{I as Se}from"./Icon.61279884.js";import{C as Ct}from"./Exclamation.f44359c6.js";import{K as At}from"./Search.fa01495d.js";import{cF as Mt,l as Qe,u as wt,a8 as Xe}from"./index.146c2037.js";import{M as Ht}from"./Mail.fc400716.js";import"./types.8cb6216c.js";import{B as Lt}from"./ButtonConfirmation.a6b453ba.js";import"./index.2e3bb17a.js";import"./Button.d254e004.js";var xt=[[{"fill-rule":"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"}],[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 17l-5-5m0 0l5-5m-5 5h12"}]],zt=[[{"fill-rule":"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"}],[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"}]];function St(s,t,l){const e=s.slice();return e[22]=t[l],e}function Nt(s,t,l){const e=s.slice();return e[22]=t[l],e}function It(s){let t,l,e,n,o;return t=new Se({props:{src:At,modifier:"ml-2 text-red-700"}}),{c(){oe(t.$$.fragment),l=U(),e=m("span"),n=N("Admin user, no lane restrictions applied"),this.h()},l(r){ie(t.$$.fragment,r),l=j(r),e=p(r,"SPAN",{class:!0});var i=h(e);n=I(i,"Admin user, no lane restrictions applied"),i.forEach(c),this.h()},h(){u(e,"class","text-red-800")},m(r,i){ue(t,r,i),X(r,l,i),X(r,e,i),a(e,n),o=!0},p:$e,i(r){o||(H(t.$$.fragment,r),o=!0)},o(r){F(t.$$.fragment,r),o=!1},d(r){fe(t,r),r&&c(l),r&&c(e)}}}function Ft(s){let t,l;return{c(){t=m("p"),l=N("User cannot run jobs on any lane."),this.h()},l(e){t=p(e,"P",{class:!0});var n=h(t);l=I(n,"User cannot run jobs on any lane."),n.forEach(c),this.h()},h(){u(t,"class","text-center py-4 text-red-700 italic text-sm")},m(e,n){X(e,t,n),a(t,l)},p:$e,d(e){e&&c(t)}}}function Kt(s){let t,l=s[4].filter(s[15]),e=[];for(let n=0;n<l.length;n+=1)e[n]=Dt(Nt(s,l,n));return{c(){t=m("fieldset");for(let n=0;n<e.length;n+=1)e[n].c()},l(n){t=p(n,"FIELDSET",{});var o=h(t);for(let r=0;r<e.length;r+=1)e[r].l(o);o.forEach(c)},m(n,o){X(n,t,o);for(let r=0;r<e.length;r+=1)e[r].m(t,null)},p(n,o){if(o&50){l=n[4].filter(n[15]);let r;for(r=0;r<l.length;r+=1){const i=Nt(n,l,r);e[r]?e[r].p(i,o):(e[r]=Dt(i),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(n){n&&c(t),ft(e,n)}}}function Dt(s){let t,l,e,n,o,r,i,g,y=s[22].name+"",$,k,d,A=Xe(s[22].type)+"",R,w,O,v,E;return{c(){t=m("div"),l=m("div"),e=m("input"),r=U(),i=m("label"),g=m("span"),$=N(y),k=U(),d=m("span"),R=N(A),O=U(),this.h()},l(_){t=p(_,"DIV",{class:!0});var f=h(t);l=p(f,"DIV",{class:!0});var V=h(l);e=p(V,"INPUT",{id:!0,name:!0,type:!0,class:!0}),V.forEach(c),r=j(f),i=p(f,"LABEL",{for:!0,class:!0});var C=h(i);g=p(C,"SPAN",{class:!0});var D=h(g);$=I(D,y),D.forEach(c),k=j(C),d=p(C,"SPAN",{class:!0});var x=h(d);R=I(x,A),x.forEach(c),C.forEach(c),O=j(f),f.forEach(c),this.h()},h(){u(e,"id",n="available_lane_"+s[22].name),u(e,"name","available_lanes"),u(e,"type","checkbox"),e.__value=o=s[22].name,e.value=e.__value,u(e,"class","h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"),s[17][1].push(e),u(l,"class","flex h-6 items-center"),u(g,"class","font-medium text-gray-700"),u(d,"class","inline-block text-gray-500 bg-gray-100 rounded-sm text-xs font-medium px-1 py-0.5 leading-tight"),u(i,"for",w="available_lane_"+s[22].name),u(i,"class","ml-3 px-1 py-0.5 text-sm w-full flex items-center justify-between rounded hover:bg-gray-50"),u(t,"class","relative flex items-start")},m(_,f){X(_,t,f),a(t,l),a(l,e),e.checked=~s[5].indexOf(e.__value),a(t,r),a(t,i),a(i,g),a(g,$),a(i,k),a(i,d),a(d,R),a(t,O),v||(E=Ie(e,"change",s[16]),v=!0)},p(_,f){f&18&&n!==(n="available_lane_"+_[22].name)&&u(e,"id",n),f&18&&o!==(o=_[22].name)&&(e.__value=o,e.value=e.__value),f&32&&(e.checked=~_[5].indexOf(e.__value)),f&18&&y!==(y=_[22].name+"")&&K($,y),f&18&&A!==(A=Xe(_[22].type)+"")&&K(R,A),f&18&&w!==(w="available_lane_"+_[22].name)&&u(i,"for",w)},d(_){_&&c(t),s[17][1].splice(s[17][1].indexOf(e),1),v=!1,E()}}}function qt(s){let t;return{c(){t=N("Apply lane restrictions?")},l(l){t=I(l,"Apply lane restrictions?")},m(l,e){X(l,t,e)},d(l){l&&c(t)}}}function Jt(s){let t;return{c(){t=N("Remove lane restrictions?")},l(l){t=I(l,"Remove lane restrictions?")},m(l,e){X(l,t,e)},d(l){l&&c(t)}}}function Qt(s){let t,l;return{c(){t=m("p"),l=N("User does not have any lane restrictions applied."),this.h()},l(e){t=p(e,"P",{class:!0});var n=h(t);l=I(n,"User does not have any lane restrictions applied."),n.forEach(c),this.h()},h(){u(t,"class","text-center py-4 text-gray-500 italic text-sm")},m(e,n){X(e,t,n),a(t,l)},p:$e,d(e){e&&c(t)}}}function Xt(s){let t,l=s[4].filter(s[20]),e=[];for(let n=0;n<l.length;n+=1)e[n]=Pt(St(s,l,n));return{c(){t=m("fieldset");for(let n=0;n<e.length;n+=1)e[n].c()},l(n){t=p(n,"FIELDSET",{});var o=h(t);for(let r=0;r<e.length;r+=1)e[r].l(o);o.forEach(c)},m(n,o){X(n,t,o);for(let r=0;r<e.length;r+=1)e[r].m(t,null)},p(n,o){if(o&208){l=n[4].filter(n[20]);let r;for(r=0;r<l.length;r+=1){const i=St(n,l,r);e[r]?e[r].p(i,o):(e[r]=Pt(i),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(n){n&&c(t),ft(e,n)}}}function Pt(s){let t,l,e,n,o,r,i,g,y=s[22].name+"",$,k,d,A=Xe(s[22].type)+"",R,w,O,v,E;return{c(){t=m("div"),l=m("div"),e=m("input"),r=U(),i=m("label"),g=m("span"),$=N(y),k=U(),d=m("span"),R=N(A),O=U(),this.h()},l(_){t=p(_,"DIV",{class:!0});var f=h(t);l=p(f,"DIV",{class:!0});var V=h(l);e=p(V,"INPUT",{id:!0,name:!0,type:!0,class:!0}),V.forEach(c),r=j(f),i=p(f,"LABEL",{for:!0,class:!0});var C=h(i);g=p(C,"SPAN",{class:!0});var D=h(g);$=I(D,y),D.forEach(c),k=j(C),d=p(C,"SPAN",{class:!0});var x=h(d);R=I(x,A),x.forEach(c),C.forEach(c),O=j(f),f.forEach(c),this.h()},h(){u(e,"id",n="restricted_lane_"+s[22].name),u(e,"name","restricted_lanes"),u(e,"type","checkbox"),e.__value=o=s[22].name,e.value=e.__value,u(e,"class","h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"),s[17][0].push(e),u(l,"class","flex h-6 items-center"),u(g,"class","font-medium text-gray-700"),u(d,"class","inline-block text-gray-500 bg-gray-100 rounded-sm text-xs font-medium px-1 py-0.5 leading-tight"),u(i,"for",w="restricted_lane_"+s[22].name),u(i,"class","ml-3 px-1 py-0.5 text-sm w-full flex items-center justify-between rounded hover:bg-gray-50"),u(t,"class","relative flex items-start")},m(_,f){X(_,t,f),a(t,l),a(l,e),e.checked=~s[6].indexOf(e.__value),a(t,r),a(t,i),a(i,g),a(g,$),a(i,k),a(i,d),a(d,R),a(t,O),v||(E=Ie(e,"change",s[21]),v=!0)},p(_,f){f&144&&n!==(n="restricted_lane_"+_[22].name)&&u(e,"id",n),f&144&&o!==(o=_[22].name)&&(e.__value=o,e.value=e.__value),f&64&&(e.checked=~_[6].indexOf(e.__value)),f&144&&y!==(y=_[22].name+"")&&K($,y),f&144&&A!==(A=Xe(_[22].type)+"")&&K(R,A),f&144&&w!==(w="restricted_lane_"+_[22].name)&&u(i,"for",w)},d(_){_&&c(t),s[17][0].splice(s[17][0].indexOf(e),1),v=!1,E()}}}function Yt(s){let t,l,e,n=s[0].firstName+"",o,r,i=s[0].lastName+"",g,y,$,k,d,A,R=s[0].email+"",w,O,v,E,_,f,V,C,D,x,P,Q,ce,de,q,Y,_e=(s[5].length===s[2]?"Select none":"Select all")+"",B,L,T,G,le,J,W,Z,Ye,he,De,Ge,se,ne,We,ve,Pe,Ze,me,pe,be,et,ae,tt,Ue,lt,je,st,at,re,Ne=(s[6].length===s[8]?"Select none":"Select all")+"",Te,Ve,nt,ge,Re,z,rt,ct;k=new Se({props:{src:Ht,modifier:"text-gray-500"}});let M=s[0].isAdmin===!0&&It();function dt(b,S){return b[2]>0?Kt:Ft}let Be=dt(s),ee=Be(s);Z=new Lt({props:{$$slots:{default:[qt]},$$scope:{ctx:s}}}),Z.$on("confirm",s[18]),he=new Se({props:{src:zt,modifier:s[9].icon}}),ne=new Lt({props:{$$slots:{default:[Jt]},$$scope:{ctx:s}}}),ne.$on("confirm",s[19]),ve=new Se({props:{src:xt,modifier:s[9].icon}});function _t(b,S){return b[8]>0?Xt:Qt}let Oe=_t(s),te=Oe(s);return{c(){t=m("div"),l=m("div"),e=m("h2"),o=N(n),r=U(),g=N(i),y=U(),$=m("p"),oe(k.$$.fragment),d=U(),A=m("span"),w=N(R),O=U(),M&&M.c(),v=U(),E=m("div"),_=m("div"),f=m("div"),V=m("p"),C=N(`Available Lanes
          `),D=m("span"),x=N("("),P=N(s[2]),Q=N(" of "),ce=N(s[3]),de=N(")"),q=U(),Y=m("button"),B=N(_e),T=U(),G=m("div"),ee.c(),le=U(),J=m("div"),W=m("button"),oe(Z.$$.fragment),Ye=U(),oe(he.$$.fragment),Ge=U(),se=m("button"),oe(ne.$$.fragment),We=U(),oe(ve.$$.fragment),Ze=U(),me=m("div"),pe=m("div"),be=m("p"),et=N(`Restricted Lanes
          `),ae=m("span"),tt=N("("),Ue=N(s[8]),lt=N(" of "),je=N(s[3]),st=N(")"),at=U(),re=m("button"),Te=N(Ne),nt=U(),ge=m("div"),te.c(),this.h()},l(b){t=p(b,"DIV",{class:!0});var S=h(t);l=p(S,"DIV",{class:!0});var ye=h(l);e=p(ye,"H2",{class:!0});var Ee=h(e);o=I(Ee,n),r=j(Ee),g=I(Ee,i),Ee.forEach(c),y=j(ye),$=p(ye,"P",{class:!0});var ke=h($);ie(k.$$.fragment,ke),d=j(ke),A=p(ke,"SPAN",{});var mt=h(A);w=I(mt,R),mt.forEach(c),O=j(ke),M&&M.l(ke),ke.forEach(c),ye.forEach(c),v=j(S),E=p(S,"DIV",{class:!0});var Ae=h(E);_=p(Ae,"DIV",{class:!0});var Ce=h(_);f=p(Ce,"DIV",{class:!0});var Me=h(f);V=p(Me,"P",{class:!0});var ot=h(V);C=I(ot,`Available Lanes
          `),D=p(ot,"SPAN",{class:!0});var we=h(D);x=I(we,"("),P=I(we,s[2]),Q=I(we," of "),ce=I(we,s[3]),de=I(we,")"),we.forEach(c),ot.forEach(c),q=j(Me),Y=p(Me,"BUTTON",{class:!0});var pt=h(Y);B=I(pt,_e),pt.forEach(c),Me.forEach(c),T=j(Ce),G=p(Ce,"DIV",{class:!0});var ht=h(G);ee.l(ht),ht.forEach(c),Ce.forEach(c),le=j(Ae),J=p(Ae,"DIV",{class:!0});var He=h(J);W=p(He,"BUTTON",{class:!0});var xe=h(W);ie(Z.$$.fragment,xe),Ye=j(xe),ie(he.$$.fragment,xe),xe.forEach(c),Ge=j(He),se=p(He,"BUTTON",{class:!0});var ze=h(se);ie(ne.$$.fragment,ze),We=j(ze),ie(ve.$$.fragment,ze),ze.forEach(c),He.forEach(c),Ze=j(Ae),me=p(Ae,"DIV",{class:!0});var Fe=h(me);pe=p(Fe,"DIV",{class:!0});var Ke=h(pe);be=p(Ke,"P",{class:!0});var it=h(be);et=I(it,`Restricted Lanes
          `),ae=p(it,"SPAN",{class:!0});var Le=h(ae);tt=I(Le,"("),Ue=I(Le,s[8]),lt=I(Le," of "),je=I(Le,s[3]),st=I(Le,")"),Le.forEach(c),it.forEach(c),at=j(Ke),re=p(Ke,"BUTTON",{class:!0});var vt=h(re);Te=I(vt,Ne),vt.forEach(c),Ke.forEach(c),nt=j(Fe),ge=p(Fe,"DIV",{class:!0});var bt=h(ge);te.l(bt),bt.forEach(c),Fe.forEach(c),Ae.forEach(c),S.forEach(c),this.h()},h(){u(e,"class","text-lg font-medium text-gray-900"),u($,"class","mt-1 flex items-center gap-1 text-sm"),u(l,"class","px-2 py-2 border-b border-gray-300"),u(D,"class","font-base text-gray-500"),u(V,"class","font-medium text-sm"),Y.disabled=L=s[2]===0,u(Y,"class",""+(s[9].button+" px-1.5 py-0.5")),u(f,"class","flex items-center justify-between border-b border-gray-300 px-2 py-1"),u(G,"class","px-2 py-1 overflow-y-auto custom-scrollbar custom-scrollbar--xs"),u(_,"class","max-h-[calc(100%-1rem)] flex flex-col flex-1 bg-white border border-gray-300 shadow-sm rounded-md"),W.disabled=De=s[5].length===0,u(W,"class",""+(s[9].button+" px-1 py-1")),se.disabled=Pe=s[6].length===0,u(se,"class",""+(s[9].button+" px-1 py-1")),u(J,"class","flex flex-col gap-2 flex-shrink-0 rounded-md px-2"),u(ae,"class","font-base text-gray-500"),u(be,"class","font-medium text-sm"),re.disabled=Ve=s[8]===0,u(re,"class",""+(s[9].button+" px-1.5 py-0.5")),u(pe,"class","flex items-center justify-between border-b border-gray-300 px-2 py-1"),u(ge,"class","px-2 py-1"),u(me,"class","max-h-[calc(100%-1rem)] flex flex-col flex-1 bg-white border border-gray-300 shadow-sm rounded-md"),u(E,"class",Re="flex-grow flex items-center overflow-y-hidden "+(s[0].isAdmin?"pointer-events-none opacity-50":"")),u(t,"class","w-full h-full flex flex-col bg-gray-100 rounded-md px-4 overflow-y-hidden")},m(b,S){X(b,t,S),a(t,l),a(l,e),a(e,o),a(e,r),a(e,g),a(l,y),a(l,$),ue(k,$,null),a($,d),a($,A),a(A,w),a($,O),M&&M.m($,null),a(t,v),a(t,E),a(E,_),a(_,f),a(f,V),a(V,C),a(V,D),a(D,x),a(D,P),a(D,Q),a(D,ce),a(D,de),a(f,q),a(f,Y),a(Y,B),a(_,T),a(_,G),ee.m(G,null),a(E,le),a(E,J),a(J,W),ue(Z,W,null),a(W,Ye),ue(he,W,null),a(J,Ge),a(J,se),ue(ne,se,null),a(se,We),ue(ve,se,null),a(E,Ze),a(E,me),a(me,pe),a(pe,be),a(be,et),a(be,ae),a(ae,tt),a(ae,Ue),a(ae,lt),a(ae,je),a(ae,st),a(pe,at),a(pe,re),a(re,Te),a(me,nt),a(me,ge),te.m(ge,null),z=!0,rt||(ct=[Ie(Y,"click",s[12]),Ie(re,"click",s[13])],rt=!0)},p(b,[S]){(!z||S&1)&&n!==(n=b[0].firstName+"")&&K(o,n),(!z||S&1)&&i!==(i=b[0].lastName+"")&&K(g,i),(!z||S&1)&&R!==(R=b[0].email+"")&&K(w,R),b[0].isAdmin===!0?M?(M.p(b,S),S&1&&H(M,1)):(M=It(),M.c(),H(M,1),M.m($,null)):M&&(qe(),F(M,1,1,()=>{M=null}),Je()),(!z||S&4)&&K(P,b[2]),(!z||S&8)&&K(ce,b[3]),(!z||S&36)&&_e!==(_e=(b[5].length===b[2]?"Select none":"Select all")+"")&&K(B,_e),(!z||S&4&&L!==(L=b[2]===0))&&(Y.disabled=L),Be===(Be=dt(b))&&ee?ee.p(b,S):(ee.d(1),ee=Be(b),ee&&(ee.c(),ee.m(G,null)));const ye={};S&134217728&&(ye.$$scope={dirty:S,ctx:b}),Z.$set(ye),(!z||S&32&&De!==(De=b[5].length===0))&&(W.disabled=De);const Ee={};S&134217728&&(Ee.$$scope={dirty:S,ctx:b}),ne.$set(Ee),(!z||S&64&&Pe!==(Pe=b[6].length===0))&&(se.disabled=Pe),(!z||S&256)&&K(Ue,b[8]),(!z||S&8)&&K(je,b[3]),(!z||S&320)&&Ne!==(Ne=(b[6].length===b[8]?"Select none":"Select all")+"")&&K(Te,Ne),(!z||S&256&&Ve!==(Ve=b[8]===0))&&(re.disabled=Ve),Oe===(Oe=_t(b))&&te?te.p(b,S):(te.d(1),te=Oe(b),te&&(te.c(),te.m(ge,null))),(!z||S&1&&Re!==(Re="flex-grow flex items-center overflow-y-hidden "+(b[0].isAdmin?"pointer-events-none opacity-50":"")))&&u(E,"class",Re)},i(b){z||(H(k.$$.fragment,b),H(M),H(Z.$$.fragment,b),H(he.$$.fragment,b),H(ne.$$.fragment,b),H(ve.$$.fragment,b),z=!0)},o(b){F(k.$$.fragment,b),F(M),F(Z.$$.fragment,b),F(he.$$.fragment,b),F(ne.$$.fragment,b),F(ve.$$.fragment,b),z=!1},d(b){b&&c(t),fe(k),M&&M.d(),ee.d(),fe(Z),fe(he),fe(ne),fe(ve),te.d(),rt=!1,Bt(ct)}}}function Gt(s,t,l){let e,n,o,r,i,g,y;ut(s,kt,P=>l(4,y=P));const $={button:"bg-white text-gray-700 border-gray-300 hover:text-gray-800 hover:bg-gray-50 inline-flex items-center text-xs rounded border group disabled:opacity-50 disabled:cursor-not-allowed",icon:"text-gray-400 group-hover:text-gray-500"};let{user:k}=t,d=[],A=[];const R=async()=>{const P=o.filter(Q=>!d.includes(Q));Qe("handleRestrictLanes",P),await wt.core.setUserAvailableLanes(k.email,P),l(5,d=[]),l(6,A=[])},w=async()=>{const P=[...o,...A];Qe("handleUnrestrictLanes",P),await wt.core.setUserAvailableLanes(k.email,P),l(5,d=[]),l(6,A=[])},O=()=>{Qe("handleToggleAllAvailableLanes"),d.length===r?l(5,d=[]):l(5,d=o)},v=()=>{Qe("handleToggleAllRestrictedLanes"),A.length===g?l(6,A=[]):l(6,A=i)},E=[[],[]],_=P=>o.includes(P.name);function f(){d=$t(E[1],this.__value,this.checked),l(5,d)}const V=()=>{R()},C=()=>{w()},D=P=>i.includes(P.name);function x(){A=$t(E[0],this.__value,this.checked),l(6,A)}return s.$$set=P=>{"user"in P&&l(0,k=P.user)},s.$$.update=()=>{var P;s.$$.dirty&16&&l(14,e=y.map(Q=>Q.name)),s.$$.dirty&16&&l(3,n=y.length),s.$$.dirty&16385&&l(1,o=k.isAdmin?e:(P=k.lanes)!=null?P:[]),s.$$.dirty&2&&l(2,r=o.length),s.$$.dirty&19&&l(7,i=k.isAdmin?[]:Mt(y.map(Q=>Q.name),o)),s.$$.dirty&12&&l(8,g=n-r)},[k,o,r,n,y,d,A,i,g,$,R,w,O,v,e,_,f,E,V,C,D,x]}class Wt extends gt{constructor(t){super();yt(this,t,Gt,Yt,Et,{user:0})}}function Ut(s,t,l){var o,r;const e=s.slice();e[7]=t[l];const n=e[3]-((r=(o=e[7].lanes)==null?void 0:o.length)!=null?r:0);return e[8]=n,e}function jt(s){let t,l;return t=new Se({props:{src:At,size:4,modifier:"text-gray-500"}}),{c(){oe(t.$$.fragment)},l(e){ie(t.$$.fragment,e)},m(e,n){ue(t,e,n),l=!0},p:$e,i(e){l||(H(t.$$.fragment,e),l=!0)},o(e){F(t.$$.fragment,e),l=!1},d(e){fe(t,e)}}}function Tt(s){let t,l,e,n,o,r,i,g=s[7].firstName+"",y,$,k=s[7].lastName+"",d,A,R,w,O=s[7].email+"",v,E,_,f=(s[7].isAdmin||s[8]===0?"No lanes restricted":`${s[8]} lane${s[8]===1?"":"s"} restricted`)+"",V,C,D,x,P,Q,ce,de,q,Y,_e,B=s[7].isAdmin&&jt();return D=new Se({props:{src:Ct,modifier:s[0]===s[7].email?"text-blue-600":"text-white"}}),{c(){t=m("label"),l=m("input"),n=U(),o=m("span"),r=m("span"),i=m("span"),y=N(g),$=U(),d=N(k),A=U(),B&&B.c(),R=U(),w=m("span"),v=N(O),E=U(),_=m("span"),V=N(f),C=U(),oe(D.$$.fragment),x=U(),P=m("span"),ce=U(),this.h()},l(L){t=p(L,"LABEL",{class:!0});var T=h(t);l=p(T,"INPUT",{type:!0,name:!0,class:!0}),n=j(T),o=p(T,"SPAN",{class:!0});var G=h(o);r=p(G,"SPAN",{class:!0});var le=h(r);i=p(le,"SPAN",{class:!0});var J=h(i);y=I(J,g),$=j(J),d=I(J,k),A=j(J),B&&B.l(J),J.forEach(c),R=j(le),w=p(le,"SPAN",{class:!0});var W=h(w);v=I(W,O),W.forEach(c),E=j(le),_=p(le,"SPAN",{class:!0});var Z=h(_);V=I(Z,f),Z.forEach(c),le.forEach(c),G.forEach(c),C=j(T),ie(D.$$.fragment,T),x=j(T),P=p(T,"SPAN",{class:!0,"aria-hidden":!0}),h(P).forEach(c),ce=j(T),T.forEach(c),this.h()},h(){u(l,"type","radio"),u(l,"name","selected-user"),l.__value=e=s[7].email,l.value=l.__value,u(l,"class","sr-only"),s[6][0].push(l),u(i,"class","flex items-center gap-2 text-sm font-medium text-gray-900"),u(w,"class","mt-1 flex items-center text-xs text-gray-500"),u(_,"class","mt-3 text-xs font-medium text-gray-900 italic"),u(r,"class","flex flex-col"),u(o,"class","flex flex-1 mr-1"),u(P,"class",Q="pointer-events-none absolute -inset-px rounded-lg "+(s[0]===s[7].email?"border border-blue-500":"border-2 border-transparent")),u(P,"aria-hidden","true"),u(t,"class",de="relative flex cursor-pointer rounded-lg border bg-white px-3 py-2 shadow-sm focus:outline-none "+(s[0]===s[7].email?"border-transparent border-blue-500 ring-2 ring-blue-500":"border-gray-300"))},m(L,T){X(L,t,T),a(t,l),l.checked=l.__value===s[0],a(t,n),a(t,o),a(o,r),a(r,i),a(i,y),a(i,$),a(i,d),a(i,A),B&&B.m(i,null),a(r,R),a(r,w),a(w,v),a(r,E),a(r,_),a(_,V),a(t,C),ue(D,t,null),a(t,x),a(t,P),a(t,ce),q=!0,Y||(_e=Ie(l,"change",s[5]),Y=!0)},p(L,T){(!q||T&2&&e!==(e=L[7].email))&&(l.__value=e,l.value=l.__value),T&1&&(l.checked=l.__value===L[0]),(!q||T&2)&&g!==(g=L[7].firstName+"")&&K(y,g),(!q||T&2)&&k!==(k=L[7].lastName+"")&&K(d,k),L[7].isAdmin?B?(B.p(L,T),T&2&&H(B,1)):(B=jt(),B.c(),H(B,1),B.m(i,null)):B&&(qe(),F(B,1,1,()=>{B=null}),Je()),(!q||T&2)&&O!==(O=L[7].email+"")&&K(v,O),(!q||T&10)&&f!==(f=(L[7].isAdmin||L[8]===0?"No lanes restricted":`${L[8]} lane${L[8]===1?"":"s"} restricted`)+"")&&K(V,f);const G={};T&3&&(G.modifier=L[0]===L[7].email?"text-blue-600":"text-white"),D.$set(G),(!q||T&3&&Q!==(Q="pointer-events-none absolute -inset-px rounded-lg "+(L[0]===L[7].email?"border border-blue-500":"border-2 border-transparent")))&&u(P,"class",Q),(!q||T&3&&de!==(de="relative flex cursor-pointer rounded-lg border bg-white px-3 py-2 shadow-sm focus:outline-none "+(L[0]===L[7].email?"border-transparent border-blue-500 ring-2 ring-blue-500":"border-gray-300")))&&u(t,"class",de)},i(L){q||(H(B),H(D.$$.fragment,L),q=!0)},o(L){F(B),F(D.$$.fragment,L),q=!1},d(L){L&&c(t),s[6][0].splice(s[6][0].indexOf(l),1),B&&B.d(),fe(D),Y=!1,_e()}}}function Zt(s){let t,l;return t=new Wt({props:{user:s[2]}}),{c(){oe(t.$$.fragment)},l(e){ie(t.$$.fragment,e)},m(e,n){ue(t,e,n),l=!0},p(e,n){const o={};n&4&&(o.user=e[2]),t.$set(o)},i(e){l||(H(t.$$.fragment,e),l=!0)},o(e){F(t.$$.fragment,e),l=!1},d(e){fe(t,e)}}}function el(s){let t,l,e;return{c(){t=m("div"),l=m("p"),e=N("Select a user"),this.h()},l(n){t=p(n,"DIV",{class:!0});var o=h(t);l=p(o,"P",{class:!0});var r=h(l);e=I(r,"Select a user"),r.forEach(c),o.forEach(c),this.h()},h(){u(l,"class","text-gray-600 italic"),u(t,"class","w-full h-full flex justify-center items-center bg-gray-100 rounded-md")},m(n,o){X(n,t,o),a(t,l),a(l,e)},p:$e,i:$e,o:$e,d(n){n&&c(t)}}}function tl(s){let t,l,e,n,o,r,i,g,y,$,k=s[1].sort(Vt).sort(Rt),d=[];for(let v=0;v<k.length;v+=1)d[v]=Tt(Ut(s,k,v));const A=v=>F(d[v],1,1,()=>{d[v]=null}),R=[el,Zt],w=[];function O(v,E){return v[0]===null?0:typeof v[2]!="undefined"?1:-1}return~(g=O(s))&&(y=w[g]=R[g](s)),{c(){t=m("div"),l=m("div"),e=m("div"),n=m("fieldset"),o=m("div");for(let v=0;v<d.length;v+=1)d[v].c();r=U(),i=m("div"),y&&y.c(),this.h()},l(v){t=p(v,"DIV",{class:!0});var E=h(t);l=p(E,"DIV",{class:!0});var _=h(l);e=p(_,"DIV",{class:!0});var f=h(e);n=p(f,"FIELDSET",{});var V=h(n);o=p(V,"DIV",{class:!0});var C=h(o);for(let x=0;x<d.length;x+=1)d[x].l(C);C.forEach(c),V.forEach(c),f.forEach(c),r=j(_),i=p(_,"DIV",{class:!0});var D=h(i);y&&y.l(D),D.forEach(c),_.forEach(c),E.forEach(c),this.h()},h(){u(o,"class","flex flex-col gap-2"),u(e,"class","flex-shrink-0 overflow-y-auto custom-scrollbar custom-scrollber--sm py-2 px-4"),u(i,"class","w-full h-full p-2"),u(l,"class","flex h-full overflow-y-hidden"),u(t,"class","flex-grow py-2 bg-white rounded-b-lg overflow-y-hidden")},m(v,E){X(v,t,E),a(t,l),a(l,e),a(e,n),a(n,o);for(let _=0;_<d.length;_+=1)d[_].m(o,null);a(l,r),a(l,i),~g&&w[g].m(i,null),$=!0},p(v,[E]){if(E&11){k=v[1].sort(Vt).sort(Rt);let f;for(f=0;f<k.length;f+=1){const V=Ut(v,k,f);d[f]?(d[f].p(V,E),H(d[f],1)):(d[f]=Tt(V),d[f].c(),H(d[f],1),d[f].m(o,null))}for(qe(),f=k.length;f<d.length;f+=1)A(f);Je()}let _=g;g=O(v),g===_?~g&&w[g].p(v,E):(y&&(qe(),F(w[_],1,1,()=>{w[_]=null}),Je()),~g?(y=w[g],y?y.p(v,E):(y=w[g]=R[g](v),y.c()),H(y,1),y.m(i,null)):y=null)},i(v){if(!$){for(let E=0;E<k.length;E+=1)H(d[E]);H(y),$=!0}},o(v){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)F(d[E]);F(y),$=!1},d(v){v&&c(t),ft(d,v),~g&&w[g].d()}}}const Vt=(s,t)=>+t.createdAt-+s.createdAt,Rt=(s,t)=>+s.isAdmin-+t.isAdmin;function ll(s,t,l){let e,n,o,r;ut(s,Ot,$=>l(1,o=$)),ut(s,kt,$=>l(4,r=$));let i=null;const g=[[]];function y(){i=this.__value,l(0,i)}return s.$$.update=()=>{s.$$.dirty&16&&l(3,e=r.length),s.$$.dirty&3&&l(2,n=o.find($=>$.email===i))},[i,o,n,e,r,y,g]}class ml extends gt{constructor(t){super();yt(this,t,ll,tl,Et,{})}}export{ml as default};
