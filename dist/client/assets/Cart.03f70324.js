import{S as He,h as Ke,s as Qe,C as ne,D as de,E as ie,o as K,t as X,H as ue,L as re,Q as y,a6 as R,I as z,R as w,T as k,a7 as q,p as f,J as F,U as i,k as Q,a2 as n,ae as oe,aF as Ie,aG as Ze,l as _e,m as ge,ak as Ve,ap as me,a9 as Oe,K as ce,ao as We,ad as De,w as ve,af as Xe,ac as pe,j as Ne,av as Je}from"./vendor.3ae73048.js";import{aB as Le,z as Ye,cj as Ue}from"./index.146c2037.js";import{a2 as Ge,p as et,a3 as tt,bo as rt,K as lt,a4 as st,bp as Pe,aZ as ot}from"./router.1b465492.js";import{u as at,v as nt}from"./createNew.a4a688d1.js";import"./types.8cb6216c.js";import{t as it}from"./Spinner.012207c4.js";import{P as ut}from"./Panel.9c7a29b9.js";import{S as ct,J as ft}from"./JobList.93d8403c.js";import{M as Be,P as dt}from"./PinSlash.dc79993a.js";import{F as Ae,U as xe}from"./Unfold.f168270e.js";import"./jobs.7ab064ef.js";import"./helpers.7177ca38.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./index.2e3bb17a.js";import"./Icon.61279884.js";import"./ChevronUp.0ab7bee0.js";import"./Exclamation.f44359c6.js";import"./index.11580965.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./Search.fa01495d.js";import"./apply.0059decc.js";import"./ArrowCircleRight.3a96b815.js";import"./Download.0ce79951.js";import"./Trash.1e959d99.js";import"./MenuItemConfirmation.1afa248b.js";import"./Button.d254e004.js";import"./TagCount.d4471cb8.js";import"./purify.es.5cdb46dc.js";function ze(e,t,r){const l=e.slice();return l[33]=t[r][0],l[34]=t[r][1],l}function Fe(e,t,r){const l=e.slice();l[37]=t[r].count,l[38]=t[r].group;const a=l[17](l[38].uid.split("-")[0],l[38].name);return l[39]=a,l}function pt(e){return{c:pe,l:pe,m:pe,p:pe,d:pe}}function bt(e){let t;function r(s,p){return s[39]?ht:mt}let l=r(e),a=l(e);return{c(){a.c(),t=Ne()},l(s){a.l(s),t=Ne()},m(s,p){a.m(s,p),Q(s,t,p)},p(s,p){l===(l=r(s))&&a?a.p(s,p):(a.d(1),a=l(s),a&&(a.c(),a.m(t.parentNode,t)))},d(s){a.d(s),s&&f(t)}}}function mt(e){let t;return{c(){t=y("div"),this.h()},l(r){t=w(r,"DIV",{class:!0}),k(t).forEach(f),this.h()},h(){i(t,"class","w-10 h-10 border border-gray-400 border-dashed rounded")},m(r,l){Q(r,t,l)},p:pe,d(r){r&&f(t)}}}function ht(e){let t,r,l,a,s,p;return{c(){t=y("div"),r=y("img"),this.h()},l(o){t=w(o,"DIV",{class:!0});var u=k(t);r=w(u,"IMG",{class:!0,src:!0,alt:!0}),u.forEach(f),this.h()},h(){i(r,"class","w-12 bg-gray-400 rounded"),Je(r.src,l="/api/files/"+e[39])||i(r,"src",l),i(r,"alt",a=e[38].name),i(t,"class","w-10 h-10 bg-gray-400 rounded")},m(o,u){Q(o,t,u),n(t,r),s||(p=ce(r,"error",kt),s=!0)},p(o,u){u[0]&4&&!Je(r.src,l="/api/files/"+o[39])&&i(r,"src",l),u[0]&4&&a!==(a=o[38].name)&&i(r,"alt",a)},d(o){o&&f(t),s=!1,p()}}}function _t(e){let t;return{c(){t=y("div"),this.h()},l(r){t=w(r,"DIV",{class:!0}),k(t).forEach(f),this.h()},h(){i(t,"class","w-10 h-10 bg-gray-400 rounded")},m(r,l){Q(r,t,l)},p:pe,d(r){r&&f(t)}}}function gt(e){let t,r,l,a,s;r=new Be({props:{modifier:"text-gray-500"}});function p(){return e[29](e[38])}return{c(){t=y("button"),ne(r.$$.fragment),this.h()},l(o){t=w(o,"BUTTON",{type:!0,class:!0});var u=k(t);de(r.$$.fragment,u),u.forEach(f),this.h()},h(){i(t,"type","button"),i(t,"class","inline-flex items-center rounded border border-gray-300 bg-white p-1 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500")},m(o,u){Q(o,t,u),ie(r,t,null),l=!0,a||(s=ce(t,"click",p),a=!0)},p(o,u){e=o},i(o){l||(K(r.$$.fragment,o),l=!0)},o(o){X(r.$$.fragment,o),l=!1},d(o){o&&f(t),ue(r),a=!1,s()}}}function vt(e){let t,r,l,a,s,p,o,u,j,E,O,b,A,C,h,D,M,c;o=new Be({props:{modifier:"text-gray-500"}});function _(){return e[27](e[38])}h=new dt({props:{modifier:"text-gray-500"}});function S(){return e[28](e[38])}return{c(){t=y("label"),r=R("Count"),a=z(),s=y("div"),p=y("button"),ne(o.$$.fragment),u=z(),j=y("div"),E=y("input"),A=z(),C=y("button"),ne(h.$$.fragment),this.h()},l(d){t=w(d,"LABEL",{for:!0,class:!0});var $=k(t);r=q($,"Count"),$.forEach(f),a=F(d),s=w(d,"DIV",{class:!0});var J=k(s);p=w(J,"BUTTON",{type:!0,class:!0});var Y=k(p);de(o.$$.fragment,Y),Y.forEach(f),u=F(J),j=w(J,"DIV",{class:!0});var H=k(j);E=w(H,"INPUT",{type:!0,step:!0,min:!0,id:!0,class:!0}),H.forEach(f),A=F(J),C=w(J,"BUTTON",{type:!0,class:!0});var U=k(C);de(h.$$.fragment,U),U.forEach(f),J.forEach(f),this.h()},h(){i(t,"for",l=""+(e[1]+"."+e[38].uid)),i(t,"class","sr-only"),i(p,"type","button"),i(p,"class","-ml-px relative inline-flex items-center p-1 border border-gray-300 text-sm font-medium rounded-l text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:z-10 focus:ring-1 focus:ring-red-500 focus:border-red-500"),i(E,"type","number"),i(E,"step","1"),i(E,"min","0"),i(E,"id",O=""+(e[1]+"."+e[38].uid)),i(E,"class","focus:outline-none focus:ring-blue-500 focus:border-blue-500 block w-full rounded-none text-sm border-gray-300 text-center p-0"),E.value=b=e[37],E.readOnly=!0,i(j,"class","-ml-px w-12 relative flex items-stretch flex-grow focus-within:z-10 py-0"),i(C,"type","button"),i(C,"class","-ml-px relative inline-flex items-center p-1 border border-gray-300 text-sm font-medium rounded-r text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"),i(s,"class","mt-1 flex rounded-md shadow-sm")},m(d,$){Q(d,t,$),n(t,r),Q(d,a,$),Q(d,s,$),n(s,p),ie(o,p,null),n(s,u),n(s,j),n(j,E),n(s,A),n(s,C),ie(h,C,null),D=!0,M||(c=[ce(p,"click",_),ce(C,"click",S)],M=!0)},p(d,$){e=d,(!D||$[0]&6&&l!==(l=""+(e[1]+"."+e[38].uid)))&&i(t,"for",l),(!D||$[0]&6&&O!==(O=""+(e[1]+"."+e[38].uid)))&&i(E,"id",O),(!D||$[0]&4&&b!==(b=e[37])&&E.value!==b)&&(E.value=b)},i(d){D||(K(o.$$.fragment,d),K(h.$$.fragment,d),D=!0)},o(d){X(o.$$.fragment,d),X(h.$$.fragment,d),D=!1},d(d){d&&f(t),d&&f(a),d&&f(s),ue(o),ue(h),M=!1,De(c)}}}function Me(e){let t,r,l,a,s,p,o,u,j=e[38].uid+"",E,O,b,A,C=e[38].title+"",h,D,M,c,_=Le(e[38].num_items)+"",S,d,$=e[38].name+"",J,Y,H,U,x,P,B={ctx:e,current:null,token:null,hasCatch:!1,pending:_t,then:bt,catch:pt,value:39};Ie(l=e[39],B);const le=[vt,gt],Z=[];function ee(N,I){return N[38].type==="volume"?0:1}return U=ee(e),x=Z[U]=le[U](e),{c(){t=y("li"),r=y("div"),B.block.c(),a=z(),s=y("div"),p=y("p"),o=R(e[1]),u=R("."),E=R(j),O=z(),b=y("span"),A=R("("),h=R(C),D=R(")"),M=z(),c=y("p"),S=R(_),d=z(),J=R($),Y=z(),H=y("div"),x.c(),this.h()},l(N){t=w(N,"LI",{class:!0});var I=k(t);r=w(I,"DIV",{class:!0});var W=k(r);B.block.l(W),a=F(W),s=w(W,"DIV",{});var m=k(s);p=w(m,"P",{class:!0});var L=k(p);o=q(L,e[1]),u=q(L,"."),E=q(L,j),O=F(L),b=w(L,"SPAN",{class:!0});var te=k(b);A=q(te,"("),h=q(te,C),D=q(te,")"),te.forEach(f),L.forEach(f),M=F(m),c=w(m,"P",{class:!0});var G=k(c);S=q(G,_),d=F(G),J=q(G,$),G.forEach(f),m.forEach(f),W.forEach(f),Y=F(I),H=w(I,"DIV",{});var g=k(H);x.l(g),g.forEach(f),I.forEach(f),this.h()},h(){i(b,"class","inline-block text-xs text-gray-700 font-normal"),i(p,"class","text-sm font-medium text-gray-900"),i(c,"class","text-xs text-gray-600"),i(r,"class","flex items-center gap-2"),i(t,"class","py-2 flex justify-between items-center")},m(N,I){Q(N,t,I),n(t,r),B.block.m(r,B.anchor=null),B.mount=()=>r,B.anchor=a,n(r,a),n(r,s),n(s,p),n(p,o),n(p,u),n(p,E),n(p,O),n(p,b),n(b,A),n(b,h),n(b,D),n(s,M),n(s,c),n(c,S),n(c,d),n(c,J),n(t,Y),n(t,H),Z[U].m(H,null),P=!0},p(N,I){e=N,B.ctx=e,I[0]&4&&l!==(l=e[39])&&Ie(l,B)||Ze(B,e,I),(!P||I[0]&2)&&oe(o,e[1]),(!P||I[0]&4)&&j!==(j=e[38].uid+"")&&oe(E,j),(!P||I[0]&4)&&C!==(C=e[38].title+"")&&oe(h,C),(!P||I[0]&4)&&_!==(_=Le(e[38].num_items)+"")&&oe(S,_),(!P||I[0]&4)&&$!==($=e[38].name+"")&&oe(J,$);let W=U;U=ee(e),U===W?Z[U].p(e,I):(_e(),X(Z[W],1,1,()=>{Z[W]=null}),ge(),x=Z[U],x?x.p(e,I):(x=Z[U]=le[U](e),x.c()),K(x,1),x.m(H,null))},i(N){P||(K(x),P=!0)},o(N){X(x),P=!1},d(N){N&&f(t),B.block.d(),B.token=null,B=null,Z[U].d()}}}function Re(e){var M;let t,r,l=e[33]+"",a,s,p,o=((M=e[0])==null?void 0:M.filter(A).length)+"",u,j,E,O,b;function A(...c){return e[26](e[33],...c)}let C=Object.values(e[34]),h=[];for(let c=0;c<C.length;c+=1)h[c]=Me(Fe(e,C,c));const D=c=>X(h[c],1,1,()=>{h[c]=null});return{c(){t=y("div"),r=y("span"),a=R(l),s=z(),p=y("span"),u=R(o),j=z(),E=y("ul");for(let c=0;c<h.length;c+=1)h[c].c();O=z(),this.h()},l(c){t=w(c,"DIV",{class:!0});var _=k(t);r=w(_,"SPAN",{class:!0});var S=k(r);a=q(S,l),S.forEach(f),s=F(_),p=w(_,"SPAN",{});var d=k(p);u=q(d,o),d.forEach(f),_.forEach(f),j=F(c),E=w(c,"UL",{class:!0});var $=k(E);for(let J=0;J<h.length;J+=1)h[J].l($);O=F($),$.forEach(f),this.h()},h(){i(r,"class","capitalize"),i(t,"class","flex items-center justify-between border-t border-b border-gray-300 bg-gray-100 px-2 py-1 text-gray-700 font-semibold text-sm"),i(E,"class","divide-y divide-gray-200 px-2")},m(c,_){Q(c,t,_),n(t,r),n(r,a),n(t,s),n(t,p),n(p,u),Q(c,j,_),Q(c,E,_);for(let S=0;S<h.length;S+=1)h[S].m(E,null);n(E,O),b=!0},p(c,_){var S;if(e=c,(!b||_[0]&4)&&l!==(l=e[33]+"")&&oe(a,l),(!b||_[0]&5)&&o!==(o=((S=e[0])==null?void 0:S.filter(A).length)+"")&&oe(u,o),_[0]&131078){C=Object.values(e[34]);let d;for(d=0;d<C.length;d+=1){const $=Fe(e,C,d);h[d]?(h[d].p($,_),K(h[d],1)):(h[d]=Me($),h[d].c(),K(h[d],1),h[d].m(E,O))}for(_e(),d=C.length;d<h.length;d+=1)D(d);ge()}},i(c){if(!b){for(let _=0;_<C.length;_+=1)K(h[_]);b=!0}},o(c){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)X(h[_]);b=!1},d(c){c&&f(t),c&&f(j),c&&f(E),Ve(h,c)}}}function yt(e){let t,r,l,a,s,p,o,u,j,E,O,b,A,C,h,D,M,c,_,S,d,$,J=e[8].length+"",Y,H,U,x,P,B,le,Z,ee,N,I,W,m;var L=e[5]===!0?Ae:xe;function te(v){return{props:{modifier:"text-gray-600"}}}L&&(b=new L(te()));let G=Object.entries(e[2]),g=[];for(let v=0;v<G.length;v+=1)g[v]=Re(ze(e,G,v));const fe=v=>X(g[v],1,1,()=>{g[v]=null});return N=new ct({props:{searchValue:e[13],selectedTags:e[14],showSections:e[15],showLegacyJobs:e[16]}}),N.$on("search:top",function(){me(e[3].handleTop)&&e[3].handleTop.apply(this,arguments)}),N.$on("search:up",function(){me(e[3].handleUp)&&e[3].handleUp.apply(this,arguments)}),N.$on("search:down",function(){me(e[3].handleDown)&&e[3].handleDown.apply(this,arguments)}),N.$on("search:bottom",function(){me(e[3].handleBottom)&&e[3].handleBottom.apply(this,arguments)}),N.$on("search:enter",function(){me(e[3].handleEnter)&&e[3].handleEnter.apply(this,arguments)}),{c(){t=y("div"),r=y("div"),l=y("div"),a=y("h3"),s=R(e[6]),p=z(),o=y("div"),u=y("button"),j=R("Clear"),E=z(),O=y("button"),b&&ne(b.$$.fragment),h=z(),D=y("div");for(let v=0;v<g.length;v+=1)g[v].c();M=z(),c=y("div"),_=y("nav"),S=y("button"),d=R(`Applicable
          `),$=y("span"),Y=R(J),x=z(),P=y("button"),B=R("All"),Z=z(),ee=y("div"),ne(N.$$.fragment),this.h()},l(v){t=w(v,"DIV",{slot:!0,class:!0});var T=k(t);r=w(T,"DIV",{class:!0});var V=k(r);l=w(V,"DIV",{class:!0});var se=k(l);a=w(se,"H3",{class:!0});var ae=k(a);s=q(ae,e[6]),ae.forEach(f),p=F(se),o=w(se,"DIV",{class:!0});var be=k(o);u=w(be,"BUTTON",{type:!0,class:!0});var je=k(u);j=q(je,"Clear"),je.forEach(f),E=F(be),O=w(be,"BUTTON",{type:!0,class:!0});var ke=k(O);b&&de(b.$$.fragment,ke),ke.forEach(f),be.forEach(f),se.forEach(f),h=F(V),D=w(V,"DIV",{class:!0});var Ee=k(D);for(let we=0;we<g.length;we+=1)g[we].l(Ee);Ee.forEach(f),V.forEach(f),M=F(T),c=w(T,"DIV",{class:!0});var $e=k(c);_=w($e,"NAV",{class:!0});var he=k(_);S=w(he,"BUTTON",{type:!0,class:!0});var ye=k(S);d=q(ye,`Applicable
          `),$=w(ye,"SPAN",{class:!0});var Te=k($);Y=q(Te,J),Te.forEach(f),ye.forEach(f),x=F(he),P=w(he,"BUTTON",{type:!0,class:!0});var Ce=k(P);B=q(Ce,"All"),Ce.forEach(f),he.forEach(f),$e.forEach(f),Z=F(T),ee=w(T,"DIV",{class:!0});var Se=k(ee);de(N.$$.fragment,Se),Se.forEach(f),T.forEach(f),this.h()},h(){i(a,"class","font-medium text-gray-900"),i(u,"type","button"),i(u,"class","inline-flex items-center rounded border border-gray-300 bg-white px-1.5 py-1 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500 focus-visible:border-red-500"),i(O,"type","button"),i(O,"class","inline-flex items-center rounded border border-gray-300 bg-white px-1.5 py-1 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus-visible:ring-1 focus-visible:ring-blue-500 focus-visible:border-blue-500"),i(o,"class","inline-flex items-center gap-1"),i(l,"class",C="sticky top-0 flex justify-between items-center px-2 py-1 bg-gray-100 z-10 "+(e[5]?"border-b border-gray-300":"")),i(D,"class","-mt-px"),Oe(D,"hidden",!e[5]),i(r,"class","flex-shrink-0 border-b border-gray-300 max-h-80 overflow-y-auto custom-scrollbar relative"),i($,"class",H=""+((e[4]?"bg-gray-200 text-gray-800":"bg-blue-600 text-white")+" ml-1 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block")),i(S,"type","button"),i(S,"class",U=""+((e[4]?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":"border-blue-500 text-blue-600")+" focus:outline-none border-b-2 w-1/2 py-2 px-1 text-center font-medium text-sm")),i(P,"type","button"),i(P,"class",le=""+((e[4]?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" focus:outline-none w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm")),i(_,"class","-mb-px flex"),i(c,"class","flex-shrink-0 border-b border-gray-200 bg-white"),i(ee,"class","flex-shrink-0"),i(t,"slot","top"),i(t,"class","flex-shrink-0")},m(v,T){Q(v,t,T),n(t,r),n(r,l),n(l,a),n(a,s),n(l,p),n(l,o),n(o,u),n(u,j),n(o,E),n(o,O),b&&ie(b,O,null),n(r,h),n(r,D);for(let V=0;V<g.length;V+=1)g[V].m(D,null);n(t,M),n(t,c),n(c,_),n(_,S),n(S,d),n(S,$),n($,Y),n(_,x),n(_,P),n(P,B),n(t,Z),n(t,ee),ie(N,ee,null),I=!0,W||(m=[ce(u,"click",e[24]),ce(O,"click",e[25]),We(A=it.call(null,O,{content:e[5]?"Hide selected outputs":"Show selected outputs",delay:[300,0],placement:"left"})),ce(S,"click",e[30]),ce(P,"click",e[31])],W=!0)},p(v,T){if(e=v,(!I||T[0]&64)&&oe(s,e[6]),L!==(L=e[5]===!0?Ae:xe)){if(b){_e();const V=b;X(V.$$.fragment,1,0,()=>{ue(V,1)}),ge()}L?(b=new L(te()),ne(b.$$.fragment),K(b.$$.fragment,1),ie(b,O,null)):b=null}if(A&&me(A.update)&&T[0]&32&&A.update.call(null,{content:e[5]?"Hide selected outputs":"Show selected outputs",delay:[300,0],placement:"left"}),(!I||T[0]&32&&C!==(C="sticky top-0 flex justify-between items-center px-2 py-1 bg-gray-100 z-10 "+(e[5]?"border-b border-gray-300":"")))&&i(l,"class",C),T[0]&131079){G=Object.entries(e[2]);let V;for(V=0;V<G.length;V+=1){const se=ze(e,G,V);g[V]?(g[V].p(se,T),K(g[V],1)):(g[V]=Re(se),g[V].c(),K(g[V],1),g[V].m(D,null))}for(_e(),V=G.length;V<g.length;V+=1)fe(V);ge()}T[0]&32&&Oe(D,"hidden",!e[5]),(!I||T[0]&256)&&J!==(J=e[8].length+"")&&oe(Y,J),(!I||T[0]&16&&H!==(H=""+((e[4]?"bg-gray-200 text-gray-800":"bg-blue-600 text-white")+" ml-1 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block")))&&i($,"class",H),(!I||T[0]&16&&U!==(U=""+((e[4]?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":"border-blue-500 text-blue-600")+" focus:outline-none border-b-2 w-1/2 py-2 px-1 text-center font-medium text-sm")))&&i(S,"class",U),(!I||T[0]&16&&le!==(le=""+((e[4]?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" focus:outline-none w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm")))&&i(P,"class",le)},i(v){if(!I){b&&K(b.$$.fragment,v);for(let T=0;T<G.length;T+=1)K(g[T]);K(N.$$.fragment,v),I=!0}},o(v){b&&X(b.$$.fragment,v),g=g.filter(Boolean);for(let T=0;T<g.length;T+=1)X(g[T]);X(N.$$.fragment,v),I=!1},d(v){v&&f(t),b&&ue(b),Ve(g,v),ue(N),W=!1,De(m)}}}function qe(e){let t,r,l;return{c(){t=y("div"),r=y("p"),l=R("No applicable jobs based on selected outputs"),this.h()},l(a){t=w(a,"DIV",{class:!0});var s=k(t);r=w(s,"P",{class:!0});var p=k(r);l=q(p,"No applicable jobs based on selected outputs"),p.forEach(f),s.forEach(f),this.h()},h(){i(r,"class","italic"),i(t,"class","m-2 mt-0 px-3 py-2 text-red-700 text-sm text-base rounded border border-red-400 bg-red-50")},m(a,s){Q(a,t,s),n(t,r),n(r,l)},d(a){a&&f(t)}}}function wt(e){let t,r,l,a,s=e[8].length===0&&qe(),p={searchValue:e[9],selectedTags:e[10],showSections:e[11],showLegacyJobs:e[12],validLocation:e[7],isCart:!0,availableJobs:e[8],showAll:e[4]};return l=new ft({props:p}),e[23](l),l.$on("create",e[18]),{c(){t=y("div"),s&&s.c(),r=z(),ne(l.$$.fragment),this.h()},l(o){t=w(o,"DIV",{slot:!0});var u=k(t);s&&s.l(u),r=F(u),de(l.$$.fragment,u),u.forEach(f),this.h()},h(){i(t,"slot","content")},m(o,u){Q(o,t,u),s&&s.m(t,null),n(t,r),ie(l,t,null),a=!0},p(o,u){o[8].length===0?s||(s=qe(),s.c(),s.m(t,r)):s&&(s.d(1),s=null);const j={};u[0]&512&&(j.searchValue=o[9]),u[0]&1024&&(j.selectedTags=o[10]),u[0]&2048&&(j.showSections=o[11]),u[0]&4096&&(j.showLegacyJobs=o[12]),u[0]&128&&(j.validLocation=o[7]),u[0]&256&&(j.availableJobs=o[8]),u[0]&16&&(j.showAll=o[4]),l.$set(j)},i(o){a||(K(l.$$.fragment,o),a=!0)},o(o){X(l.$$.fragment,o),a=!1},d(o){o&&f(t),s&&s.d(),e[23](null),ue(l)}}}function jt(e){let t,r;return t=new ut({props:{title:"Job Cart",warningMessage:e[7]?"":e[1]!==null?`Navigate into a workspace in ${e[1]} to create a job`:"Navigate into a workspace to create a job",$$slots:{content:[wt],top:[yt]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},l(l){de(t.$$.fragment,l)},m(l,a){ie(t,l,a),r=!0},p(l,a){const s={};a[0]&130&&(s.warningMessage=l[7]?"":l[1]!==null?`Navigate into a workspace in ${l[1]} to create a job`:"Navigate into a workspace to create a job"),a[0]&8191|a[1]&2048&&(s.$$scope={dirty:a,ctx:l}),t.$set(s)},i(l){r||(K(t.$$.fragment,l),r=!0)},o(l){X(t.$$.fragment,l),r=!1},d(l){ue(t,l)}}}const kt=function(){(this==null?void 0:this.style)&&(this.style="display: none;")};function Et(e,t,r){let l,a,s,p,o,u,j,E,O,b,A,C,h,D;re(e,Ge,m=>r(0,o=m)),re(e,et,m=>r(20,u=m)),re(e,tt,m=>r(1,j=m)),re(e,at,m=>r(21,E=m)),re(e,rt,m=>r(2,O=m)),re(e,lt,m=>r(22,b=m));let M=ve("");re(e,M,m=>r(9,A=m));let c=ve([]);re(e,c,m=>r(10,C=m));let _=ve(!1);re(e,_,m=>r(11,h=m));let S=ve(!1);re(e,S,m=>r(12,D=m));let d,$=!1,J=!0;const Y=async(m,L)=>(await Ye(`/api/actions/jobs/single?project_uid=${j}&uid=${m}&fields=output_group_images`)).output_group_images[L],H=(m,L)=>{const te=Object.entries(L).map(([g,fe])=>({type:g,count:Object.values(fe).reduce((v,T)=>v+T.count,0),hasRepeats:Object.values(fe).some(v=>v.count>1)}));return Object.entries(m).filter(([,{inputGroups:g}])=>{if(!Ue(new Set(g==null?void 0:g.filter(v=>v.count_min!==0).map(v=>v.type)),new Set(Object.keys(L)))&&!Ue(new Set(g==null?void 0:g.map(v=>v.type)),new Set(Object.keys(L))))return!1;let fe=!0;for(const{type:v,count_min:T,count_max:V,repeat_allowed:se}of g!=null?g:[]){const ae=te.find(be=>be.type===v);if(!(typeof ae=="undefined"&&T===0)&&(typeof ae=="undefined"||ae.count<T||ae.count>(V||1/0)||ae.hasRepeats&&!se)){fe=!1;break}}return fe}).map(g=>g[0])},U=m=>{const L=m.detail;nt(L)};function x(m){Xe[m?"unshift":"push"](()=>{d=m,r(3,d)})}const P=()=>st(),B=()=>{r(5,J=!J)},le=(m,L)=>L.type===m,Z=m=>Pe(m),ee=m=>typeof j=="string"&&ot(j,m),N=m=>Pe(m),I=()=>{r(4,$=!1)},W=()=>{r(4,$=!0)};return e.$$.update=()=>{e.$$.dirty[0]&4194308&&r(8,l=H(b,O)),e.$$.dirty[0]&3145730&&r(7,a=E&&(j===null||j===u.projectUid)),e.$$.dirty[0]&1&&r(19,s=o.length),e.$$.dirty[0]&524288&&r(6,p=s===1?"1 Selected Output":`${s} Selected Outputs`)},[o,j,O,d,$,J,p,a,l,A,C,h,D,M,c,_,S,Y,U,s,u,E,b,x,P,B,le,Z,ee,N,I,W]}class tr extends He{constructor(t){super();Ke(this,t,Et,jt,Qe,{},null,[-1,-1])}}export{tr as default};
