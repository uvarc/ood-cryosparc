import{S as et,h as nt,s as ot,y as it,Q as z,I as R,C as H,R as j,T as q,J,D as M,p as g,U as B,a9 as N,k as T,a2 as x,E as Q,z as st,A as at,B as lt,o as U,t as V,H as X,q as ct,u as rt,X as dt,a5 as Y,a6 as A,a7 as F,ae as G,af as ft}from"./vendor.3ae73048.js";import{U as K,p as ut,c as mt,o as _t,f as pt,s as ht}from"./types.8cb6216c.js";import{B as O}from"./Button.d254e004.js";function vt(s){let t;return{c(){t=A("Confirm Selection?")},l(e){t=F(e,"Confirm Selection?")},m(e,a){T(e,t,a)},d(e){e&&g(t)}}}function gt(s){let t;return{c(){t=A(s[0])},l(e){t=F(e,s[0])},m(e,a){T(e,t,a)},p(e,a){a&1&&G(t,e[0])},d(e){e&&g(t)}}}function wt(s){let t;return{c(){t=A(s[1])},l(e){t=F(e,s[1])},m(e,a){T(e,t,a)},p(e,a){a&2&&G(t,e[1])},d(e){e&&g(t)}}}function bt(s){let t,e,a,d,f,w,r,p,u;const b=s[9].default,c=it(b,s,s[11],null),i=c||vt();return f=new O({props:{size:"small",kind:"success",modifier:"mr-1",$$slots:{default:[gt]},$$scope:{ctx:s}}}),f.$on("click",s[7]),r=new O({props:{size:"small",kind:"danger",$$slots:{default:[wt]},$$scope:{ctx:s}}}),r.$on("click",s[6]),{c(){t=z("div"),i&&i.c(),e=R(),a=z("div"),d=z("div"),H(f.$$.fragment),w=R(),H(r.$$.fragment),this.h()},l(o){t=j(o,"DIV",{id:!0,class:!0});var l=q(t);i&&i.l(l),e=J(l),a=j(l,"DIV",{class:!0});var m=q(a);d=j(m,"DIV",{class:!0});var _=q(d);M(f.$$.fragment,_),w=J(_),M(r.$$.fragment,_),_.forEach(g),m.forEach(g),l.forEach(g),this.h()},h(){B(d,"class","ml-auto"),B(a,"class","flex w-full mt-2"),B(t,"id",s[3]),B(t,"class",p="button-confirmation "+s[2]+" absolute py-2 px-3 text-xs border border-gray-300 rounded-md bg-white shadow-xs text-gray-600 whitespace-nowrap z-50"),N(t,"hidden",!s[4])},m(o,l){T(o,t,l),i&&i.m(t,null),x(t,e),x(t,a),x(a,d),Q(f,d,null),x(d,w),Q(r,d,null),s[10](t),u=!0},p(o,[l]){c&&c.p&&(!u||l&2048)&&st(c,b,o,o[11],u?lt(b,o[11],l,null):at(o[11]),null);const m={};l&2049&&(m.$$scope={dirty:l,ctx:o}),f.$set(m);const _={};l&2050&&(_.$$scope={dirty:l,ctx:o}),r.$set(_),(!u||l&4&&p!==(p="button-confirmation "+o[2]+" absolute py-2 px-3 text-xs border border-gray-300 rounded-md bg-white shadow-xs text-gray-600 whitespace-nowrap z-50"))&&B(t,"class",p),l&20&&N(t,"hidden",!o[4])},i(o){u||(U(i,o),U(f.$$.fragment,o),U(r.$$.fragment,o),u=!0)},o(o){V(i,o),V(f.$$.fragment,o),V(r.$$.fragment,o),u=!1},d(o){o&&g(t),i&&i.d(o),X(f),X(r),s[10](null)}}}function kt(s,t,e){let{$$slots:a={},$$scope:d}=t;var f=this&&this.__awaiter||function(n,h,k,E){function Z(y){return y instanceof k?y:new k(function(C){C(y)})}return new(k||(k=Promise))(function(y,C){function $(v){try{I(E.next(v))}catch(S){C(S)}}function tt(v){try{I(E.throw(v))}catch(S){C(S)}}function I(v){v.done?y(v.value):Z(v.value).then($,tt)}I((E=E.apply(n,h||[])).next())})};let{confirmButtonText:w="Yes"}=t,{declineButtonText:r="No"}=t,{modifier:p=""}=t,{position:u="top"}=t;const b=K.generateRandomId("button-confirmation");let c,i,o=!1;const l=ct(),m=n=>{n==null||n.stopPropagation(),e(4,o=!1),c==null||c.focus()},_=n=>{l("confirm"),m(n)},P=n=>{n.stopPropagation(),e(4,o=!0),mt(c,i,{placement:u,middleware:[_t(2),pt(),ht({padding:0})]}).then(({x:h,y:k})=>{e(5,i.style.left=`${h}px`,i),e(5,i.style.top=`${k}px`,i)}),Y().then(()=>{var h;(h=i==null?void 0:i.querySelector("button"))===null||h===void 0||h.focus()})},L=n=>{n.stopPropagation(),n.key==="Escape"&&m(n),K.trapFocus(n,i)},D=n=>{(i==null?void 0:i.contains(n.target))||m(n)};rt(()=>{c=i.closest("button"),c.addEventListener("click",P),ut(i)}),dt(()=>f(void 0,void 0,void 0,function*(){var n;c==null||c.removeEventListener("click",P),document.removeEventListener("keydown",L),window.removeEventListener("click",D),yield Y(),(n=document.getElementById(b))===null||n===void 0||n.remove()}));function W(n){ft[n?"unshift":"push"](()=>{i=n,e(5,i)})}return s.$$set=n=>{"confirmButtonText"in n&&e(0,w=n.confirmButtonText),"declineButtonText"in n&&e(1,r=n.declineButtonText),"modifier"in n&&e(2,p=n.modifier),"position"in n&&e(8,u=n.position),"$$scope"in n&&e(11,d=n.$$scope)},s.$$.update=()=>{s.$$.dirty&16&&o&&(document.addEventListener("keydown",L),window.addEventListener("click",D)),s.$$.dirty&16&&(o||(document.removeEventListener("keydown",L),window.removeEventListener("click",D)))},[w,r,p,b,o,i,m,_,u,a,W,d]}class Ct extends et{constructor(t){super();nt(this,t,kt,bt,ot,{confirmButtonText:0,declineButtonText:1,modifier:2,position:8,id:3})}get id(){return this.$$.ctx[3]}}export{Ct as B};
