import{S as k,h as U,s as y,Q as S,C,R as A,T as _,D as z,p as d,U as u,k as w,E,ao as X,K as G,ap as Y,o as b,t as v,H as I,ad as Z,L as J,$ as q,I as N,J as R,a2 as g,j as T,l as P,m as $,u as ee,a6 as B,a7 as M,ae as O,ac as H,ak as te,ah as D,ai as F}from"./vendor.3ae73048.js";import{q as se,p as re,aO as oe,e as ne,X as ie}from"./router.1b465492.js";import"./types.8cb6216c.js";import{I as ae}from"./Icon.61279884.js";import{S as ce}from"./SwitchHorizontal.0e438e3b.js";import{t as le}from"./Spinner.012207c4.js";import{S as fe}from"./Server.520ba5a5.js";import{J as ue,a as de}from"./Info.f60458c3.js";import{z as pe,aB as V}from"./index.146c2037.js";function he(n){let e,s,r,t,o,a,c;return s=new ae({props:{src:ce,size:4,modifier:"inline-block"}}),{c(){e=S("button"),C(s.$$.fragment),this.h()},l(i){e=A(i,"BUTTON",{class:!0});var l=_(e);z(s.$$.fragment,l),l.forEach(d),this.h()},h(){e.disabled=r=n[3]?!n[1]:!n[2],u(e,"class","inline-flex justify-center items-center h-6.5 w-7 text-xs rounded border group bg-white text-gray-500 border-gray-300 disabled:opacity-50 disabled:text-gray-500 disabled:cursor-not-allowed hover:text-gray-600 hover:bg-gray-50")},m(i,l){w(i,e,l),E(s,e,null),o=!0,a||(c=[X(t=le.call(null,e,{content:n[3]?"Switch to sessions view":"Switch to workspaces view",placement:"right"})),G(e,"click",n[7])],a=!0)},p(i,[l]){(!o||l&14&&r!==(r=i[3]?!i[1]:!i[2]))&&(e.disabled=r),t&&Y(t.update)&&l&8&&t.update.call(null,{content:i[3]?"Switch to sessions view":"Switch to workspaces view",placement:"right"})},i(i){o||(b(s.$$.fragment,i),o=!0)},o(i){v(s.$$.fragment,i),o=!1},d(i){i&&d(e),I(s),a=!1,Z(c)}}}function me(n,e,s){let r,t,o,a,c,i,l;J(n,se,h=>s(5,i=h)),J(n,re,h=>s(6,l=h));const x=()=>c&&q(`${window.pathPrefix}/browse/${c}-${r?"S*":"W*"}`);return n.$$.update=()=>{var h,j,p,f,m;n.$$.dirty&64&&s(3,r=l.type==="workspaces"),n.$$.dirty&64&&s(4,t=l.type==="sessions"),n.$$.dirty&112&&s(2,o=t&&(l.projectUid&&!((h=i==null?void 0:i.session_projects)==null?void 0:h.length)||!l.projectUid&&((j=i==null?void 0:i.session_projects)==null?void 0:j.length)===1)),n.$$.dirty&64&&s(1,a=l.projectUid),n.$$.dirty&96&&s(0,c=(m=l.projectUid)!=null?m:((p=i==null?void 0:i.session_projects)==null?void 0:p.length)===1?(f=i==null?void 0:i.session_projects)==null?void 0:f[0]:null)},[c,a,o,r,t,i,l,x]}class Te extends k{constructor(e){super();U(this,e,me,he,y,{})}}function K(n){let e,s,r,t,o,a;return s=new fe({props:{modifier:"text-gray-600 mr-1.5 flex-shrink-0"}}),o=new ue({props:{jobs:n[0]}}),{c(){e=S("div"),C(s.$$.fragment),r=N(),t=S("div"),C(o.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var i=_(e);z(s.$$.fragment,i),r=R(i),t=A(i,"DIV",{class:!0});var l=_(t);z(o.$$.fragment,l),l.forEach(d),i.forEach(d),this.h()},h(){u(t,"class","flex flex-wrap items-center gap-1.5"),u(e,"class","flex items-start gap-1")},m(c,i){w(c,e,i),E(s,e,null),g(e,r),g(e,t),E(o,t,null),a=!0},p(c,i){const l={};i&1&&(l.jobs=c[0]),o.$set(l)},i(c){a||(b(s.$$.fragment,c),b(o.$$.fragment,c),a=!0)},o(c){v(s.$$.fragment,c),v(o.$$.fragment,c),a=!1},d(c){c&&d(e),I(s),I(o)}}}function ge(n){let e=Array.isArray(n[0])&&n[0].length>0,s,r,t=e&&K(n);return{c(){t&&t.c(),s=T()},l(o){t&&t.l(o),s=T()},m(o,a){t&&t.m(o,a),w(o,s,a),r=!0},p(o,[a]){a&1&&(e=Array.isArray(o[0])&&o[0].length>0),e?t?(t.p(o,a),a&1&&b(t,1)):(t=K(o),t.c(),b(t,1),t.m(s.parentNode,s)):t&&(P(),v(t,1,1,()=>{t=null}),$())},i(o){r||(b(t),r=!0)},o(o){v(t),r=!1},d(o){t&&t.d(o),o&&d(s)}}}function _e(n,e,s){let r,t,o;J(n,oe,i=>s(3,t=i)),J(n,ne,i=>s(4,o=i));let{projectUid:a}=e,{workspaceUid:c}=e;return n.$$set=i=>{"projectUid"in i&&s(1,a=i.projectUid),"workspaceUid"in i&&s(2,c=i.workspaceUid)},n.$$.update=()=>{n.$$.dirty&30&&s(0,r=[...o.filter(i=>{var l;return i.project_uid===a&&((l=i.workspace_uids)==null?void 0:l.includes(c))}),...t.filter(i=>{var l;return i.project_uid===a&&((l=i.workspace_uids)==null?void 0:l.includes(c))})])},[r,a,c,t,o]}class He extends k{constructor(e){super();U(this,e,_e,ge,y,{projectUid:1,workspaceUid:2})}}function be(n){let e,s;return e=new de({props:{jobs:n[0]}}),{c(){C(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,t){E(e,r,t),s=!0},p(r,[t]){const o={};t&1&&(o.jobs=r[0]),e.$set(o)},i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),s=!1},d(r){I(e,r)}}}function we(n,e,s){let{projectUid:r}=e,{workspaceUid:t}=e,o=[];const a=async()=>{s(0,o=await pe(`/api/actions/jobs/recent?projectUid=${r}&workspaceUid=${t}`))};return ee(()=>{a()}),n.$$set=c=>{"projectUid"in c&&s(1,r=c.projectUid),"workspaceUid"in c&&s(2,t=c.workspaceUid)},[o,r,t]}class Ne extends k{constructor(e){super();U(this,e,we,be,y,{projectUid:1,workspaceUid:2})}}function L(n,e,s){const r=n.slice();return r[4]=e[s][0],r[5]=e[s][1],r}function Q(n){var h,j;let e,s=((j=(h=n[2].find(x))==null?void 0:h.title)!=null?j:n[4])+"",r,t,o,a=V(n[5])+"",c,i,l;function x(...p){return n[3](n[4],...p)}return{c(){e=S("a"),r=B(s),t=N(),o=S("span"),c=B(a),i=N(),this.h()},l(p){e=A(p,"A",{href:!0,class:!0});var f=_(e);r=M(f,s),t=R(f),o=A(f,"SPAN",{class:!0});var m=_(o);c=M(m,a),m.forEach(d),i=R(f),f.forEach(d),this.h()},h(){u(o,"class","ml-1.5 inline-flex items-center pl-1 py-1 text-xs leading-2 font-medium text-gray-800 border-l border-gray-300"),u(e,"href",l=""+(n[1]+"?job_category[]="+n[4])),u(e,"class","inline-flex items-center flex-shrink-0 px-1 py-0.5 rounded text-xs border border-gray-300 hover:bg-gray-100 text-gray-600 focus:outline-none focus-visible:ring-1 focus-visible:ring-inset focus-visible:ring-blue-500")},m(p,f){w(p,e,f),g(e,r),g(e,t),g(e,o),g(o,c),g(e,i)},p(p,f){var m,W;n=p,f&5&&s!==(s=((W=(m=n[2].find(x))==null?void 0:m.title)!=null?W:n[4])+"")&&O(r,s),f&1&&a!==(a=V(n[5])+"")&&O(c,a),f&3&&l!==(l=""+(n[1]+"?job_category[]="+n[4]))&&u(e,"href",l)},d(p){p&&d(e)}}}function ve(n){let e,s=Object.entries(n[0]),r=[];for(let t=0;t<s.length;t+=1)r[t]=Q(L(n,s,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},l(t){for(let o=0;o<r.length;o+=1)r[o].l(t);e=T()},m(t,o){for(let a=0;a<r.length;a+=1)r[a].m(t,o);w(t,e,o)},p(t,[o]){if(o&7){s=Object.entries(t[0]);let a;for(a=0;a<s.length;a+=1){const c=L(t,s,a);r[a]?r[a].p(c,o):(r[a]=Q(c),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}},i:H,o:H,d(t){te(r,t),t&&d(e)}}}function je(n,e,s){let r;J(n,ie,c=>s(2,r=c));let{sectionCounts:t={}}=e,{browseUrl:o=window.pathPrefix+"/browse/P*-J*"}=e;const a=(c,i)=>i.name===c;return n.$$set=c=>{"sectionCounts"in c&&s(0,t=c.sectionCounts),"browseUrl"in c&&s(1,o=c.browseUrl)},[t,o,r,a]}class Re extends k{constructor(e){super();U(this,e,je,ve,y,{sectionCounts:0,browseUrl:1})}}function ke(n){let e,s,r;return{c(){e=D("svg"),s=D("path"),this.h()},l(t){e=F(t,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0});var o=_(e);s=F(o,"path",{"fill-rule":!0,d:!0}),_(s).forEach(d),o.forEach(d),this.h()},h(){u(s,"fill-rule","evenodd"),u(s,"d","M1.75 2.5a.25.25 0 00-.25.25v1.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25v-1.5a.25.25 0 00-.25-.25H1.75zM0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v1.5A1.75 1.75 0 0114.25 6H1.75A1.75 1.75 0 010 4.25v-1.5zM1.75 7a.75.75 0 01.75.75v5.5c0 .138.112.25.25.25h10.5a.25.25 0 00.25-.25v-5.5a.75.75 0 111.5 0v5.5A1.75 1.75 0 0113.25 15H2.75A1.75 1.75 0 011 13.25v-5.5A.75.75 0 011.75 7zm4.5 1a.75.75 0 000 1.5h3.5a.75.75 0 100-1.5h-3.5z"),u(e,"class",r="inline-block w-4 h-4 "+n[0]),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor")},m(t,o){w(t,e,o),g(e,s)},p(t,[o]){o&1&&r!==(r="inline-block w-4 h-4 "+t[0])&&u(e,"class",r)},i:H,o:H,d(t){t&&d(e)}}}function Ue(n,e,s){let{modifier:r=""}=e;return n.$$set=t=>{"modifier"in t&&s(0,r=t.modifier)},[r]}class We extends k{constructor(e){super();U(this,e,Ue,ke,y,{modifier:0})}}export{We as A,He as C,Re as J,Ne as R,Te as W};
