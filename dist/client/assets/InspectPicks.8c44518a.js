var us=Object.defineProperty,hs=Object.defineProperties;var ds=Object.getOwnPropertyDescriptors;var Yt=Object.getOwnPropertySymbols;var fs=Object.prototype.hasOwnProperty,gs=Object.prototype.propertyIsEnumerable;var Gt=(s,e,t)=>e in s?us(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Wt=(s,e)=>{for(var t in e||(e={}))fs.call(e,t)&&Gt(s,t,e[t]);if(Yt)for(var t of Yt(e))gs.call(e,t)&&Gt(s,t,e[t]);return s},Ot=(s,e)=>hs(s,ds(e));import{aT as ms,w as W,e as he,g as x,S as Ge,h as Ke,s as Xe,Q as k,a6 as Ie,R as I,T as C,a7 as Re,p as M,U as v,k as pe,a2 as b,ae as Rt,C as O,I as $,D as q,J as N,E as Y,o as j,t as z,H as G,r as Ut,L as be,af as mt,at as Kt,K as we,ap as ps,au as Xt,ac as U,l as Ft,m as jt,an as Dt,ad as Nt,aM as H,u as At,P as Je,j as Jt,av as Pt,ay as bs}from"./vendor.3ae73048.js";import{w as Ee,cL as Se,be as _s,u as at,e as vs,z as Qt,cM as ws,aB as lt,cO as Ht,cN as Ts,aF as ys}from"./index.146c2037.js";import{c as Ce,h as Zt,B as Ms,i as xs,e as ks,f as es}from"./interactive.28807de7.js";import{m as Is,r as Rs}from"./Logout.c3964a48.js";import{l as ts}from"./lodash.7e9ccf5d.js";import{g as Ds,M as Ps,a as Es,D as Ss}from"./MicrographsTableHeader.ec2a5b28.js";import"./types.8cb6216c.js";import{S as Cs}from"./Spinner.012207c4.js";import{I as Us}from"./InteractiveErrorNotice.aa122c8a.js";import{I as zt}from"./Icon.61279884.js";import{C as Fs}from"./Cube.8308121f.js";import{C as js}from"./CursorClick.5587dbc0.js";import{S as As,a as zs}from"./ShieldCheck.8626649a.js";import{S as qt,O as Vs,E as $s}from"./OverviewHoverExposure.d1e49005.js";import{D as Ns}from"./DotsVertical.9505a1c9.js";import{P as Hs}from"./Popover.0a97ebac.js";import{P as Ls,B as Bs,S as Ws,C as ss,U as Os,E as qs,L as Ys}from"./ExposureViewer.31cd6713.js";import{n as Lt,w as Bt}from"./wNumb.f094d5b4.js";import"./helpers.7177ca38.js";import"./router.1b465492.js";import"./Authenticated.43a5e742.js";import"./auth.ae36c178.js";import"./createNew.a4a688d1.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./index.9987ff70.js";import"./index.11580965.js";import"./index.2e3bb17a.js";import"./ChevronUp.0ab7bee0.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./cleanupData.f259a128.js";import"./Exclamation.f44359c6.js";import"./TagCount.d4471cb8.js";import"./Tag.2b4e7c42.js";import"./Workflow.261abe6c.js";import"./Database.55c9be70.js";import"./Search.fa01495d.js";import"./LightningBolt.e8bda490.js";import"./SidebarLeftOpen.3b7701dd.js";import"./Download.0ce79951.js";import"./DocumentDownload.7e4b12e9.js";import"./Target.7baf7004.js";import"./plotly.2255cf4f.js";import"./SwitchHorizontal.0e438e3b.js";import"./Toggle.70c4dc3f.js";import"./QuestionMarkCircle.1d0a7a5c.js";import"./Move.f1d750f0.js";import"./Ruler.d04aefd7.js";import"./DownloadImage.d10f042a.js";import"./ArrowsExpand.dfc75310.js";const Gs=(s,e,t,r)=>{const n=W(ws?"localhost":s),o=W(e),l=W(t),g=W(r),c=ms(`${t}_${r}`),h=W([]),a=W(),d=W(!1),m=W(!1),w=W(!1),T=W(!1),y=he([w,T],([f,p])=>f&&p),_=W(0),A=W(100),E=W(null),D=he(E,f=>{var p;return(p=f==null?void 0:f.fields)!=null?p:[]}),i=he(E,f=>{var p;return(p=f==null?void 0:f.height_pix)!=null?p:null}),F=he(E,f=>{var p;return(p=f==null?void 0:f.width_pix)!=null?p:null}),S=he(E,f=>{var p;return(p=f==null?void 0:f.thumb_height_pix)!=null?p:null}),K=he(E,f=>{var p;return(p=f==null?void 0:f.thumb_width_pix)!=null?p:null}),ee=he(E,f=>{var p;return(p=f==null?void 0:f.psize_A)!=null?p:null}),R=he(E,f=>{var p;return(p=f==null?void 0:f.num_mics_total)!=null?p:null}),oe=he(E,f=>{var p;return(p=f==null?void 0:f.num_particles_total)!=null?p:null}),ge=he(E,f=>{var p;return(p=f==null?void 0:f.hist_file_id)!=null?p:null}),V=he(E,f=>{var p;return(p=f==null?void 0:f.curv_hist_file_id)!=null?p:null}),L=he(E,f=>{var p;return(p=f==null?void 0:f.sinu_hist_file_id)!=null?p:null}),P=he(E,f=>{var p;return(p=f==null?void 0:f.is_filament)!=null?p:!1}),X=he(E,f=>{var p;return(p=f==null?void 0:f.enable_thresholds)!=null?p:!1}),me=he(E,f=>{var p;return(p=f==null?void 0:f.has_preview_thumbnails)!=null?p:null}),de=he(E,f=>{var p;return(p=f==null?void 0:f.has_denoised_mics)!=null?p:null}),ie=W(!1),fe=W(0),B=W(1e3),ae=W(0),Ue=W(1e3),ve=W(0),je=W(1),Ae=W(1e3),ue=W(1e3),Fe=W(0),He=W(1e3),_e=W(0),re=W(1e3),J=Ee(Se(Ce.showPicks,x(c)),!0),Z=Ee(Se(Ce.showBox,x(c)),!1),ke=Ee(Se(Ce.lowpassFilter,x(c)),5),ze=Ee(Se(Ce.nccScoreThresh,x(c)),0),Te=W([]),le=W(null),Qe=he([Te,le],([f,p])=>f==null?void 0:f.find(Q=>(Q==null?void 0:Q.uid)===p)),Ve=W(null),ye=Ee(Se(Ce.boxsize,x(c)),360),Ze=Ee(Se(Ce.particleDiameter,x(c)),135),$e=W([]),De=he(Te,f=>f.reduce((p,Q)=>p+Q.num_particles_threshold,0)),Le=W(null),qe=he([Le,Te],([f,p])=>{var Q,ce;return(ce=(Q=p.find(Ne=>Ne.idx===f))==null?void 0:Q.uid)!=null?ce:null}),ct=he([Le,Te],([f,p])=>{var Q;return(Q=p.find(ce=>ce.idx===f))!=null?Q:null}),pt=W(0),bt=Ee(Se(Ce.picksColor,x(c)),"#00ff00"),ut=Ee(Se(Ce.boxColor,x(c)),"#8712B3"),_t=Ee(Se(Ce.showScale,x(c)),!0),et=Ee(Se(Ce.plotAxisX,x(c)),Zt.idx),Be=Ee(Se(Ce.plotAxisY,x(c)),Zt.num_particles),vt=Ee(Se(Ce.chartType,x(c)),Ms.scatter),tt=Ee(Se(Ce.nbinsx,x(c)),20),st=he(D,f=>f==null?void 0:f.filter(p=>xs.includes(p==null?void 0:p.name))),ne=W(null),We=Ee(Se(Ce.tableFilter,x(c)),ks.all),Me=(f,p)=>{h.update(Q=>[...Q,p]),console.error(`${f} error: `,p)},rt=f=>`/api/actions/interactive/exposure-thumbnail?${`host=${x(n)}&port=${x(o)}&mic_uid=${f}&zoom_level=${x(_s)}`}`,nt=async()=>{var f;w.set(!0);try{const p=await at.interactive.call(x(n),x(o),"get_micrograph_data",{mic_uid:x(le),lp_filter_A:x(ke)},!0,{signal:(f=x(a))==null?void 0:f.signal});if(!p)return;x(Ve)&&URL.revokeObjectURL(x(Ve));const Q=URL.createObjectURL(new Blob([p]));Ve.set(Q),w.set(!1)}catch{Me("getImage",`Could not get image for micrograph: ${x(le)}.`),w.set(!1)}},wt=ts.exports.throttle(async()=>await nt(),800),ht=async()=>{var f;try{T.set(!0);const p=await at.interactive.call(x(n),x(o),"get_picks",{mic_uid:x(le)},!1,{signal:(f=x(a))==null?void 0:f.signal});if(!p)return;$e.set(p),T.set(!1)}catch{Me("getPicks",`Could not get particle picks for micrograph: ${x(le)}.`),T.set(!1)}},Tt=ts.exports.throttle(async()=>await ht(),800),it=async()=>{try{await at.interactive.call(x(n),x(o),"set_thresholds",{ncc_score_thresh:x(ze),lpower_thresh_min:x(ae),lpower_thresh_max:x(Ue)})}catch{Me("setThresholds","Could not set NCC or Power thresholds.")}},yt=async()=>{try{await at.interactive.call(x(n),x(o),"set_filament_thresholds",{ncc_score_thresh:x(ze),lpower_thresh_min:x(ae),lpower_thresh_max:x(Ue),curv_thresh:x(Ae),sinu_thresh:x(ue)})}catch{Me("setFilamentThresholds","Could not set NCC, Power, Curvature, or Sinuosity filament thresholds.")}},Mt=async()=>{x(P)?await yt():await it(),await It()},xt=async f=>{try{if(f){const p=await at.interactive.call(x(n),x(o),"enable_denoise_preview",{});(p==null?void 0:p.success)&&ie.set(!0)}else{const p=await at.interactive.call(x(n),x(o),"disable_denoise_preview",{});(p==null?void 0:p.success)&&ie.set(!1)}nt()}catch{Me("toggleUseDenoised",`Could not ${f?"enable":"disable"} denoised preview.`)}},kt=async()=>{var f,p,Q,ce,Ne,te,ft,gt;d.set(!0);try{const se=await at.interactive.call(x(n),x(o),"get_interactive_info",{},!1,{signal:(f=x(a))==null?void 0:f.signal});if(!se)return;E.set(se),ae.set(Math.round((p=se.lpower_thresh_min)!=null?p:0)),Ue.set(Math.round((Q=se.lpower_thresh_max)!=null?Q:1e3)),fe.set(Math.round((ce=se.lpower_range_min)!=null?ce:0)),B.set(Math.round((Ne=se.lpower_range_max)!=null?Ne:1e3)),ve.set(parseFloat(((te=se.ncc_range_min)!=null?te:0).toFixed(2))),je.set(parseFloat(((ft=se.ncc_range_max)!=null?ft:1).toFixed(2))),ze.set((gt=se.ncc_score_thresh)!=null?gt:0),(se==null?void 0:se.use_denoised)&&ie.set(se.use_denoised),se.is_filament&&(Ae.set(se.curv_thresh),ue.set(se.sinu_thresh),Fe.set(se.sinu_range_min),He.set(se.sinu_range_max),_e.set(se.curv_range_min),re.set(se.curv_range_max)),d.set(!1)}catch{Me("getInteractiveInfo","Could not get interactive information to setup job."),d.set(!1)}},dt=f=>{var p;try{w.set(!0),T.set(!0),le.set(f),(p=x(a))==null||p.abort(),a.set(new AbortController),wt(),Tt()}catch(Q){vs("setMicrograph error: ",Q),w.set(!1),T.set(!1)}},It=async()=>{const f=x(ne),p=await Qt(`/api/actions/interactive/exposures?projectUid=${x(l)}&jobUid=${x(g)}&fields=uid,num_particles_threshold`);Te.update(Q=>Q.map(ce=>{const{num_particles_threshold:Ne}=p.data.find(te=>ce.uid===te.uid)||{};return Ne!==void 0?Ot(Wt({},ce),{num_particles_threshold:Ne}):ce})),f&&f.replaceData(Ds(x(Te),x(We),es.num_particles_threshold))};return{interactiveError:h,loadingInfo:d,loadingList:m,loadingImage:w,loadingDisplay:y,listSkip:_,listLimit:A,micrographsList:Te,currentImageUrl:Ve,currentPicks:$e,allPicksCount:De,showPicks:J,showBox:Z,hasDenoisedMics:de,useDenoised:ie,enableThresholds:X,hasThumbnails:me,boxsizeRawPix:ye,particleDiameter:Ze,lowPassFilter:ke,fields:D,micHeight:i,micWidth:F,thumbHeight:S,thumbWidth:K,pSize:ee,numMicsTotal:R,numParticlesTotal:oe,histFileId:ge,selectedMicUid:le,selectedMic:Qe,nccScoreThresh:ze,nccRangeMin:ve,nccRangeMax:je,lpowerRangeMin:fe,lpowerRangeMax:B,lpowerThreshMin:ae,lpowerThreshMax:Ue,curvThresh:Ae,sinuThresh:ue,isFilament:P,sinuRangeMin:Fe,sinuRangeMax:He,curvRangeMin:_e,curvRangeMax:re,curvHistFileId:V,sinuHistFileId:L,picksThreshold:pt,picksColor:bt,boxColor:ut,tableFilter:We,showScale:_t,overviewHoverUid:Le,overviewHoverUidFromIdx:qe,overviewHoverData:ct,plotAxisX:et,plotAxisY:Be,chartType:vt,nbinsx:tt,hoverAttributes:st,tabulatorTable:ne,getList:async()=>{var f,p,Q;try{m.set(!0);const ce=await Qt(`/api/actions/interactive/exposures?projectUid=${x(l)}&jobUid=${x(g)}`);if(((f=ce.data)==null?void 0:f.length)>0&&x(le)===null){const te=(Q=(p=ce.data)==null?void 0:p[0])==null?void 0:Q.uid;le.set(te),dt(te)}const Ne=ce.data.map(te=>{var ft,gt,se,Vt,$t,u;return Ot(Wt({},te),{fname:(gt=(ft=te==null?void 0:te.fname)==null?void 0:ft.split("/"))==null?void 0:gt.slice(-1)[0],df_avg:((se=parseFloat(te==null?void 0:te.df_avg))==null?void 0:se.toFixed(0)).toString(),ctf_fit_to_A:((Vt=parseFloat(te==null?void 0:te.ctf_fit_to_A))==null?void 0:Vt.toFixed(2)).toString(),pick_ncc_median:(($t=parseFloat(te==null?void 0:te.pick_ncc_median))==null?void 0:$t.toFixed(2)).toString(),pick_pow_median:((u=parseFloat(te==null?void 0:te.pick_pow_median))==null?void 0:u.toFixed(2)).toString()})});Te.set(Ne),m.set(!1)}catch{Me("getList",`Could get micrographs list for job ${x(l)} ${x(g)}.`),m.set(!1)}},getImage:nt,getPicks:ht,getInteractiveInfo:kt,getThumbnailUrl:rt,changeThresholds:Mt,toggleUseDenoised:xt,setMicrograph:dt,shutdown:async()=>{try{await at.interactive.call(x(n),x(o),"shutdown_interactive",{})}catch{Me("shutdown","Could not complete job.")}}}};function rs(s){let e,t,r,n;return{c(){e=k("p"),t=Ie("("),r=Ie(s[3]),n=Ie("%)"),this.h()},l(o){e=I(o,"P",{class:!0});var l=C(e);t=Re(l,"("),r=Re(l,s[3]),n=Re(l,"%)"),l.forEach(M),this.h()},h(){v(e,"class","ml-1 text-indigo-700 font-medium")},m(o,l){pe(o,e,l),b(e,t),b(e,r),b(e,n)},p(o,l){l&8&&Rt(r,o[3])},d(o){o&&M(e)}}}function Ks(s){let e,t,r,n,o,l,g,c,h=lt(s[4])+"",a,d,m,w,T,y,_,A,E,D=lt(s[5])+"",i,F,S,K,ee,R,oe,ge,V,L=lt(s[1])+"",P,X,me=lt(s[0])+"",de,ie,fe,B,ae,Ue,ve,je,Ae,ue,Fe,He,_e;r=new zt({props:{src:As,size:4,modifier:"mr-1.5 text-green-700"}}),w=new zt({props:{src:js,size:4,modifier:"mr-1.5 text-teal-700"}}),K=new zt({props:{src:zs,size:4,modifier:"mr-1.5 text-indigo-700"}});let re=s[0]>0&&rs(s);return ae=new zt({props:{src:Fs,type:"outline",size:4,modifier:"stroke-2 mr-1.5 text-blue-700"}}),{c(){e=k("div"),t=k("div"),O(r.$$.fragment),n=$(),o=k("p"),l=Ie("Total Micrographs:"),g=$(),c=k("p"),a=Ie(h),d=$(),m=k("div"),O(w.$$.fragment),T=$(),y=k("p"),_=Ie("Total Picks:"),A=$(),E=k("p"),i=Ie(D),F=$(),S=k("div"),O(K.$$.fragment),ee=$(),R=k("p"),oe=Ie("Selected:"),ge=$(),V=k("p"),P=Ie(L),X=Ie(" / "),de=Ie(me),ie=$(),re&&re.c(),fe=$(),B=k("div"),O(ae.$$.fragment),Ue=$(),ve=k("p"),je=Ie("Box Size Ratio:"),Ae=$(),ue=k("p"),Fe=Ie(s[2]),He=Ie("x"),this.h()},l(J){e=I(J,"DIV",{class:!0});var Z=C(e);t=I(Z,"DIV",{class:!0});var ke=C(t);q(r.$$.fragment,ke),n=N(ke),o=I(ke,"P",{class:!0});var ze=C(o);l=Re(ze,"Total Micrographs:"),ze.forEach(M),g=N(ke),c=I(ke,"P",{class:!0});var Te=C(c);a=Re(Te,h),Te.forEach(M),ke.forEach(M),d=N(Z),m=I(Z,"DIV",{class:!0});var le=C(m);q(w.$$.fragment,le),T=N(le),y=I(le,"P",{class:!0});var Qe=C(y);_=Re(Qe,"Total Picks:"),Qe.forEach(M),A=N(le),E=I(le,"P",{class:!0});var Ve=C(E);i=Re(Ve,D),Ve.forEach(M),le.forEach(M),F=N(Z),S=I(Z,"DIV",{class:!0});var ye=C(S);q(K.$$.fragment,ye),ee=N(ye),R=I(ye,"P",{class:!0});var Ze=C(R);oe=Re(Ze,"Selected:"),Ze.forEach(M),ge=N(ye),V=I(ye,"P",{class:!0});var $e=C(V);P=Re($e,L),X=Re($e," / "),de=Re($e,me),$e.forEach(M),ie=N(ye),re&&re.l(ye),ye.forEach(M),fe=N(Z),B=I(Z,"DIV",{class:!0});var De=C(B);q(ae.$$.fragment,De),Ue=N(De),ve=I(De,"P",{class:!0});var Le=C(ve);je=Re(Le,"Box Size Ratio:"),Le.forEach(M),Ae=N(De),ue=I(De,"P",{class:!0});var qe=C(ue);Fe=Re(qe,s[2]),He=Re(qe,"x"),qe.forEach(M),De.forEach(M),Z.forEach(M),this.h()},h(){v(o,"class","text-green-700 font-medium"),v(c,"class","ml-1 font-semibold text-green-700"),v(t,"class","relative inline-flex items-center py-1 px-2.5 rounded-full leading-4 bg-green-100"),v(y,"class","text-teal-700 font-medium"),v(E,"class","ml-1 font-semibold text-teal-700"),v(m,"class","relative inline-flex items-center py-1 px-2.5 rounded-full leading-4 bg-teal-100"),v(R,"class","mr-1 text-indigo-700 font-medium"),v(V,"class","text-indigo-700 font-semibold"),v(S,"class","relative inline-flex items-center py-1 px-2.5 leading-4 rounded-full bg-indigo-100"),v(ve,"class","text-blue-700 font-medium"),v(ue,"class","ml-1 font-semibold text-blue-700"),v(B,"class","relative inline-flex items-center py-1 px-2.5 rounded-full leading-4 bg-blue-100"),v(e,"class","flex flex-wrap items-center gap-x-2 gap-y-1 h-full text-xs")},m(J,Z){pe(J,e,Z),b(e,t),Y(r,t,null),b(t,n),b(t,o),b(o,l),b(t,g),b(t,c),b(c,a),b(e,d),b(e,m),Y(w,m,null),b(m,T),b(m,y),b(y,_),b(m,A),b(m,E),b(E,i),b(e,F),b(e,S),Y(K,S,null),b(S,ee),b(S,R),b(R,oe),b(S,ge),b(S,V),b(V,P),b(V,X),b(V,de),b(S,ie),re&&re.m(S,null),b(e,fe),b(e,B),Y(ae,B,null),b(B,Ue),b(B,ve),b(ve,je),b(B,Ae),b(B,ue),b(ue,Fe),b(ue,He),_e=!0},p(J,[Z]){(!_e||Z&16)&&h!==(h=lt(J[4])+"")&&Rt(a,h),(!_e||Z&32)&&D!==(D=lt(J[5])+"")&&Rt(i,D),(!_e||Z&2)&&L!==(L=lt(J[1])+"")&&Rt(P,L),(!_e||Z&1)&&me!==(me=lt(J[0])+"")&&Rt(de,me),J[0]>0?re?re.p(J,Z):(re=rs(J),re.c(),re.m(S,null)):re&&(re.d(1),re=null),(!_e||Z&4)&&Rt(Fe,J[2])},i(J){_e||(j(r.$$.fragment,J),j(w.$$.fragment,J),j(K.$$.fragment,J),j(ae.$$.fragment,J),_e=!0)},o(J){z(r.$$.fragment,J),z(w.$$.fragment,J),z(K.$$.fragment,J),z(ae.$$.fragment,J),_e=!1},d(J){J&&M(e),G(r),G(w),G(K),re&&re.d(),G(ae)}}}function Xs(s,e,t){let r,n,o,l,g,c,h,a,d,m;const{numMicsTotal:w,picksThreshold:T,currentPicks:y,boxsizeRawPix:_,allPicksCount:A,particleDiameter:E,pSize:D}=Ut("inspectPicksData");return be(s,w,i=>t(4,d=i)),be(s,T,i=>t(1,h=i)),be(s,y,i=>t(16,a=i)),be(s,_,i=>t(15,c=i)),be(s,A,i=>t(5,m=i)),be(s,E,i=>t(14,g=i)),be(s,D,i=>t(13,l=i)),s.$$.update=()=>{s.$$.dirty&65536&&t(0,r=a.length),s.$$.dirty&3&&t(3,n=(h/r*100).toFixed(0)),s.$$.dirty&57344&&t(2,o=(c/(g/(l!=null?l:0))).toFixed(2))},[r,h,o,n,d,m,w,T,y,_,A,E,D,l,g,c,a]}class Js extends Ge{constructor(e){super();Ke(this,e,Xs,Ks,Xe,{})}}function ns(s){let e,t;return e=new Os({props:{useDenoised:s[6],toggleUseDenoised:s[12]}}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},p:U,i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Qs(s){let e,t,r,n,o,l,g,c,h,a=s[1]&&ns(s);return n=new Ws({props:{showScale:s[4]}}),l=new ss({props:{title:"Picks Color",selectedColour:s[7]}}),c=new ss({props:{title:"Box Color",selectedColour:s[8]}}),{c(){e=k("div"),t=k("div"),a&&a.c(),r=$(),O(n.$$.fragment),o=$(),O(l.$$.fragment),g=$(),O(c.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var m=C(e);t=I(m,"DIV",{class:!0});var w=C(t);a&&a.l(w),r=N(w),q(n.$$.fragment,w),o=N(w),q(l.$$.fragment,w),g=N(w),q(c.$$.fragment,w),w.forEach(M),m.forEach(M),this.h()},h(){v(t,"class","flex flex-col space-y-1"),v(e,"class","p-1 bg-gray-100 border border-gray-300 rounded-md shadow-lg text-sm")},m(d,m){pe(d,e,m),b(e,t),a&&a.m(t,null),b(t,r),Y(n,t,null),b(t,o),Y(l,t,null),b(t,g),Y(c,t,null),h=!0},p(d,m){d[1]?a?(a.p(d,m),m&2&&j(a,1)):(a=ns(d),a.c(),j(a,1),a.m(t,r)):a&&(Ft(),z(a,1,1,()=>{a=null}),jt())},i(d){h||(j(a),j(n.$$.fragment,d),j(l.$$.fragment,d),j(c.$$.fragment,d),h=!0)},o(d){z(a),z(n.$$.fragment,d),z(l.$$.fragment,d),z(c.$$.fragment,d),h=!1},d(d){d&&M(e),a&&a.d(),G(n),G(l),G(c)}}}function Zs(s){let e,t,r,n,o,l,g,c,h,a,d,m,w,T,y,_;n=new Ls({props:{particleDiameter:s[10],showPicks:s[3],pSize:s[11],infoTooltop:!0}}),l=new Bs({props:{boxsizeRawPix:s[9],showBox:s[2],pSize:s[11],infoTooltip:!0}}),a=new zt({props:{src:Ns,size:4}});function A(D){s[13](D)}let E={modifier:"rounded-md",$$slots:{default:[Qs]},$$scope:{ctx:s}};return s[0]!==void 0&&(E.toggle=s[0]),m=new Hs({props:E}),mt.push(()=>Kt(m,"toggle",A)),{c(){e=k("div"),t=k("div"),r=k("div"),O(n.$$.fragment),o=$(),O(l.$$.fragment),g=$(),c=k("div"),h=k("button"),O(a.$$.fragment),d=$(),O(m.$$.fragment),this.h()},l(D){e=I(D,"DIV",{class:!0});var i=C(e);t=I(i,"DIV",{class:!0});var F=C(t);r=I(F,"DIV",{class:!0});var S=C(r);q(n.$$.fragment,S),o=N(S),q(l.$$.fragment,S),S.forEach(M),g=N(F),c=I(F,"DIV",{class:!0});var K=C(c);h=I(K,"BUTTON",{class:!0});var ee=C(h);q(a.$$.fragment,ee),ee.forEach(M),d=N(K),q(m.$$.fragment,K),K.forEach(M),F.forEach(M),i.forEach(M),this.h()},h(){v(r,"class","flex flex-col"),v(h,"class","p-1.5 m-0 rounded border border-gray-300 bg-white text-xs leading-4"),v(c,"class","flex items-start h-full"),v(t,"class","scroll-wrapper flex justify-between flex-wrap gap-x-2 gap-y-1 w-full px-2 py-1.5 overflow-x-auto svelte-197zwar"),v(e,"class","relative w-full flex items-start justify-between whitespace-nowrap border-b border-gray-200 bg-gray-100")},m(D,i){pe(D,e,i),b(e,t),b(t,r),Y(n,r,null),b(r,o),Y(l,r,null),b(t,g),b(t,c),b(c,h),Y(a,h,null),b(c,d),Y(m,c,null),T=!0,y||(_=we(h,"click",function(){ps(s[0])&&s[0].apply(this,arguments)}),y=!0)},p(D,[i]){s=D;const F={};i&16386&&(F.$$scope={dirty:i,ctx:s}),!w&&i&1&&(w=!0,F.toggle=s[0],Xt(()=>w=!1)),m.$set(F)},i(D){T||(j(n.$$.fragment,D),j(l.$$.fragment,D),j(a.$$.fragment,D),j(m.$$.fragment,D),T=!0)},o(D){z(n.$$.fragment,D),z(l.$$.fragment,D),z(a.$$.fragment,D),z(m.$$.fragment,D),T=!1},d(D){D&&M(e),G(n),G(l),G(a),G(m),y=!1,_()}}}function er(s,e,t){let r;const{showBox:n,showPicks:o,showScale:l,hasDenoisedMics:g,useDenoised:c,picksColor:h,boxColor:a,boxsizeRawPix:d,particleDiameter:m,pSize:w,toggleUseDenoised:T}=Ut("inspectPicksData");be(s,g,A=>t(1,r=A));let y;function _(A){y=A,t(0,y)}return[y,r,n,o,l,g,c,h,a,d,m,w,T,_]}class tr extends Ge{constructor(e){super();Ke(this,e,er,Zs,Xe,{})}}function sr(s){let e,t,r,n,o,l,g,c,h;return{c(){e=k("div"),t=k("div"),r=$(),n=k("input"),o=$(),l=k("div"),g=k("div"),this.h()},l(a){e=I(a,"DIV",{class:!0});var d=C(e);t=I(d,"DIV",{class:!0}),C(t).forEach(M),r=N(d),n=I(d,"INPUT",{class:!0,type:!0,step:!0}),o=N(d),l=I(d,"DIV",{class:!0});var m=C(l);g=I(m,"DIV",{class:!0,style:!0}),C(g).forEach(M),m.forEach(M),d.forEach(M),this.h()},h(){v(t,"class","w-23 -ml-px border-r border-t border-gray-300 bg-white"),v(n,"class","relative block w-16 px-2 py-1.5 border-0 border-t border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 hover:text-gray-600 focus:z-10"),v(n,"type","number"),v(n,"step","0.01"),n.value=s[4],v(g,"class","horizontal-slider slider-tooltip--top svelte-fcwqy1"),Dt(g,"width","100%"),v(l,"class","-ml-px relative inline-flex items-center w-full px-2.5 py-1.5 border-t border-l text-xs leading-4 font-medium border-gray-300 bg-white text-gray-700"),v(e,"class","flex w-full h-7 shadow-sm rounded-md")},m(a,d){pe(a,e,d),b(e,t),b(e,r),b(e,n),b(e,o),b(e,l),b(l,g),s[8](g),c||(h=[we(n,"change",s[5]),we(n,"blur",s[6]),we(n,"keydown",s[6])],c=!0)},p(a,[d]){d&16&&n.value!==a[4]&&(n.value=a[4])},i:U,o:U,d(a){a&&M(e),s[8](null),c=!1,Nt(h)}}}function rr(s,e,t){let r,n=U,o=()=>(n(),n=H(m,i=>t(4,r=i)),m),l,g=U,c=()=>(g(),g=H(T,i=>t(9,l=i)),T),h,a=U,d=()=>(a(),a=H(w,i=>t(10,h=i)),w);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>a());let{nccScoreThresh:m}=e;o();let{nccRangeMin:w}=e;d();let{nccRangeMax:T}=e;c();let{changeThresholds:y}=e,_;const A=i=>{var F;i.target.value.length>0&&(Je(m,r=parseFloat(i.target.value),r),(F=_==null?void 0:_.noUiSlider)==null||F.set([parseFloat(i.target.value)]))},E=i=>{i.type==="keydown"&&i.key==="Enter"&&i.target.blur(),!!i.target.value.length&&i.type==="blur"?y():i.target.value.length===0&&i.type==="blur"&&(i.target.value=r.toString())};At(()=>{var i,F;return Lt.create(_,{start:[r],range:{min:h,max:l},step:.01,format:Bt({decimals:2}),connect:[!0,!1],tooltips:!0}),(i=_==null?void 0:_.noUiSlider)==null||i.on("update",(S,K)=>{Je(m,r=parseFloat(S[K]),r)}),(F=_==null?void 0:_.noUiSlider)==null||F.on("change",()=>{y()}),()=>{var S;(S=_==null?void 0:_.noUiSlider)==null||S.destroy()}});function D(i){mt[i?"unshift":"push"](()=>{_=i,t(3,_)})}return s.$$set=i=>{"nccScoreThresh"in i&&o(t(0,m=i.nccScoreThresh)),"nccRangeMin"in i&&d(t(1,w=i.nccRangeMin)),"nccRangeMax"in i&&c(t(2,T=i.nccRangeMax)),"changeThresholds"in i&&t(7,y=i.changeThresholds)},[m,w,T,_,r,A,E,y,D]}class nr extends Ge{constructor(e){super();Ke(this,e,rr,sr,Xe,{nccScoreThresh:0,nccRangeMin:1,nccRangeMax:2,changeThresholds:7})}}function ir(s){let e,t,r,n,o,l,g,c,h;return{c(){e=k("div"),t=k("input"),r=$(),n=k("div"),o=k("div"),l=$(),g=k("input"),this.h()},l(a){e=I(a,"DIV",{class:!0});var d=C(e);t=I(d,"INPUT",{class:!0,type:!0}),r=N(d),n=I(d,"DIV",{class:!0});var m=C(n);o=I(m,"DIV",{class:!0,style:!0}),C(o).forEach(M),m.forEach(M),l=N(d),g=I(d,"INPUT",{class:!0,type:!0}),d.forEach(M),this.h()},h(){v(t,"class","relative block px-2 py-1.5 border-0 border-r border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 hover:text-gray-600 focus:z-10"),v(t,"type","number"),t.value=s[5],v(o,"class","vertical-slider slider-tooltip--right"),Dt(o,"height","100%"),v(n,"class","relative inline-flex justify-center items-center h-full px-2.5 py-1.5 rounded-none border text-xs leading-4 font-medium border-gray-300 bg-white text-gray-700"),v(g,"class","relative block px-2 py-1.5 border-0 border-r border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 hover:text-gray-600 focus:z-10"),v(g,"type","number"),g.value=s[6],v(e,"class","absolute top-0 left-0 flex flex-col h-full w-18 shadow-sm rounded-md")},m(a,d){pe(a,e,d),b(e,t),b(e,r),b(e,n),b(n,o),s[13](o),b(e,l),b(e,g),c||(h=[we(t,"change",s[8]),we(t,"blur",s[9]),we(t,"keydown",s[9]),we(g,"change",s[7]),we(g,"blur",s[9]),we(g,"keydown",s[9])],c=!0)},p(a,[d]){d&32&&t.value!==a[5]&&(t.value=a[5]),d&64&&g.value!==a[6]&&(g.value=a[6])},i:U,o:U,d(a){a&&M(e),s[13](null),c=!1,Nt(h)}}}function or(s,e,t){let r,n=U,o=()=>(n(),n=H(E,R=>t(5,r=R)),E),l,g=U,c=()=>(g(),g=H(A,R=>t(6,l=R)),A),h,a=U,d=()=>(a(),a=H(_,R=>t(11,h=R)),_),m,w=U,T=()=>(w(),w=H(y,R=>t(12,m=R)),y);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>a()),s.$$.on_destroy.push(()=>w());let{lpowerRangeMin:y}=e;T();let{lpowerRangeMax:_}=e;d();let{lpowerThreshMin:A}=e;c();let{lpowerThreshMax:E}=e;o();let{changeThresholds:D}=e,i;const F=R=>{var oe;R.target.value.length>0&&((oe=i==null?void 0:i.noUiSlider)==null||oe.set([parseInt(R.target.value),r]))},S=R=>{var oe;R.target.value.length>0&&((oe=i==null?void 0:i.noUiSlider)==null||oe.set([l,parseInt(R.target.value)]))},K=R=>{((R==null?void 0:R.key)==="Enter"||R.type==="blur")&&D()};At(()=>{var R,oe;Lt.create(i,{start:[l,r],range:{min:m,max:h},behaviour:"drag",orientation:"vertical",direction:"rtl",tooltips:!0,connect:!0,format:Bt({decimals:0})}),(R=i==null?void 0:i.noUiSlider)==null||R.on("update",(ge,V)=>{V===0?Je(A,l=parseInt(ge[V]),l):Je(E,r=parseInt(ge[V]),r)}),(oe=i==null?void 0:i.noUiSlider)==null||oe.on("change",()=>{D()})});function ee(R){mt[R?"unshift":"push"](()=>{i=R,t(4,i)})}return s.$$set=R=>{"lpowerRangeMin"in R&&T(t(0,y=R.lpowerRangeMin)),"lpowerRangeMax"in R&&d(t(1,_=R.lpowerRangeMax)),"lpowerThreshMin"in R&&c(t(2,A=R.lpowerThreshMin)),"lpowerThreshMax"in R&&o(t(3,E=R.lpowerThreshMax)),"changeThresholds"in R&&t(10,D=R.changeThresholds)},s.$$.update=()=>{var R;s.$$.dirty&6256&&(l||r)&&i&&((R=i==null?void 0:i.noUiSlider)==null||R.updateOptions({start:[l,r],range:{min:m,max:h}},!0))},[y,_,A,E,i,r,l,F,S,K,D,h,m,ee]}class ar extends Ge{constructor(e){super();Ke(this,e,or,ir,Xe,{lpowerRangeMin:0,lpowerRangeMax:1,lpowerThreshMin:2,lpowerThreshMax:3,changeThresholds:10})}}function is(s){let e,t;return e=new qt({props:{heading:"Power Histogram",modifier:"border-t",$$slots:{default:[lr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},p(r,n){const o={};n&4100&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function lr(s){let e,t,r,n,o,l,g,c,h;return t=new ar({props:{lpowerRangeMin:s[7],lpowerRangeMax:s[8],lpowerThreshMin:s[9],lpowerThreshMax:s[10],changeThresholds:s[11]}}),c=new nr({props:{nccScoreThresh:s[4],nccRangeMin:s[5],nccRangeMax:s[6],changeThresholds:s[11]}}),{c(){e=k("div"),O(t.$$.fragment),r=$(),n=k("div"),o=k("img"),g=$(),O(c.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var d=C(e);q(t.$$.fragment,d),r=N(d),n=I(d,"DIV",{class:!0});var m=C(n);o=I(m,"IMG",{class:!0,src:!0,alt:!0}),m.forEach(M),d.forEach(M),g=N(a),q(c.$$.fragment,a),this.h()},h(){v(o,"class","mx-auto"),Pt(o.src,l="/api/files/"+s[2])||v(o,"src",l),v(o,"alt","Power histogram"),v(n,"class","histogram-container mx-auto py-4"),v(e,"class","relative pl-16")},m(a,d){pe(a,e,d),Y(t,e,null),b(e,r),b(e,n),b(n,o),pe(a,g,d),Y(c,a,d),h=!0},p(a,d){(!h||d&4&&!Pt(o.src,l="/api/files/"+a[2]))&&v(o,"src",l)},i(a){h||(j(t.$$.fragment,a),j(c.$$.fragment,a),h=!0)},o(a){z(t.$$.fragment,a),z(c.$$.fragment,a),h=!1},d(a){a&&M(e),G(t),a&&M(g),G(c,a)}}}function cr(s){let e,t,r=(s[0]!==0||s[1]!==0)&&is(s);return{c(){r&&r.c(),e=Jt()},l(n){r&&r.l(n),e=Jt()},m(n,o){r&&r.m(n,o),pe(n,e,o),t=!0},p(n,[o]){n[0]!==0||n[1]!==0?r?(r.p(n,o),o&3&&j(r,1)):(r=is(n),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Ft(),z(r,1,1,()=>{r=null}),jt())},i(n){t||(j(r),t=!0)},o(n){z(r),t=!1},d(n){r&&r.d(n),n&&M(e)}}}function ur(s,e,t){let r,n,o;const{histFileId:l,nccScoreThresh:g,nccRangeMin:c,nccRangeMax:h,lpowerRangeMin:a,lpowerRangeMax:d,lpowerThreshMin:m,lpowerThreshMax:w,changeThresholds:T}=Ut("inspectPicksData");return be(s,l,y=>t(2,o=y)),be(s,d,y=>t(0,r=y)),be(s,w,y=>t(1,n=y)),[r,n,o,l,g,c,h,a,d,m,w,T]}class hr extends Ge{constructor(e){super();Ke(this,e,ur,cr,Xe,{})}}function dr(s){let e,t,r,n,o,l,g;return{c(){e=k("div"),t=k("input"),r=$(),n=k("div"),o=k("div"),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=C(e);t=I(h,"INPUT",{class:!0,type:!0,step:!0}),r=N(h),n=I(h,"DIV",{class:!0});var a=C(n);o=I(a,"DIV",{class:!0,style:!0}),C(o).forEach(M),a.forEach(M),h.forEach(M),this.h()},h(){v(t,"class","relative block w-24 px-2.5 py-1.5 border-0 border-t border-r border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 focus:z-10 hover:text-gray-600"),v(t,"type","number"),v(t,"step","0.00001"),t.value=s[4],v(o,"class","horizontal-slider slider-tooltip--top svelte-fcwqy1"),Dt(o,"width","100%"),v(n,"class","relative inline-flex items-center w-full px-2.5 py-1.5 border-t text-xs leading-4 font-medium border-gray-300 bg-white text-gray-700"),v(e,"class","flex w-full h-7 mt-auto")},m(c,h){pe(c,e,h),b(e,t),b(e,r),b(e,n),b(n,o),s[10](o),l||(g=[we(t,"change",s[5]),we(t,"blur",s[6]),we(t,"keydown",s[6])],l=!0)},p(c,[h]){h&16&&t.value!==c[4]&&(t.value=c[4])},i:U,o:U,d(c){c&&M(e),s[10](null),l=!1,Nt(g)}}}function fr(s,e,t){let r,n=U,o=()=>(n(),n=H(T,i=>t(4,r=i)),T),l,g=U,c=()=>(g(),g=H(w,i=>t(8,l=i)),w),h,a=U,d=()=>(a(),a=H(m,i=>t(9,h=i)),m);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>a());let{curvRangeMin:m}=e;d();let{curvRangeMax:w}=e;c();let{curvThresh:T}=e;o();let{changeThresholds:y}=e,_;const A=i=>{var F;i.target.value.length>0&&(Je(T,r=parseFloat(i.target.value),r),(F=_==null?void 0:_.noUiSlider)==null||F.set([parseFloat(i.target.value)]))},E=i=>{i.type==="keydown"&&i.keyCode===13&&i.target.blur(),!!i.target.value.length&&i.type==="blur"?y():i.target.value.length===0&&i.type==="blur"&&(i.target.value=r.toString())};At(()=>{var i,F;return Lt.create(_,{start:[r],range:{min:h,max:l},step:Ht(h,l),format:Bt({decimals:5}),connect:[!0,!1],tooltips:!0}),(i=_==null?void 0:_.noUiSlider)==null||i.on("update",(S,K)=>{Je(T,r=parseFloat(S[K]),r)}),(F=_==null?void 0:_.noUiSlider)==null||F.on("change",()=>{y()}),()=>{var S;(S=_==null?void 0:_.noUiSlider)==null||S.destroy()}});function D(i){mt[i?"unshift":"push"](()=>{_=i,t(3,_)})}return s.$$set=i=>{"curvRangeMin"in i&&d(t(0,m=i.curvRangeMin)),"curvRangeMax"in i&&c(t(1,w=i.curvRangeMax)),"curvThresh"in i&&o(t(2,T=i.curvThresh)),"changeThresholds"in i&&t(7,y=i.changeThresholds)},s.$$.update=()=>{var i;s.$$.dirty&792&&(h||l)&&_&&((i=_==null?void 0:_.noUiSlider)==null||i.updateOptions({start:[r],range:{min:h,max:l},step:Ht(h,l)},!0))},[m,w,T,_,r,A,E,y,l,h,D]}class gr extends Ge{constructor(e){super();Ke(this,e,fr,dr,Xe,{curvRangeMin:0,curvRangeMax:1,curvThresh:2,changeThresholds:7})}}function mr(s){let e,t,r,n,o,l,g;return{c(){e=k("div"),t=k("input"),r=$(),n=k("div"),o=k("div"),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=C(e);t=I(h,"INPUT",{class:!0,type:!0,step:!0}),r=N(h),n=I(h,"DIV",{class:!0});var a=C(n);o=I(a,"DIV",{class:!0,style:!0}),C(o).forEach(M),a.forEach(M),h.forEach(M),this.h()},h(){v(t,"class","relative block w-24 px-2.5 py-1.5 border-0 border-t border-r border-gray-300 bg-white text-xs leading-4 font-medium text-gray-700 focus:z-10 hover:text-gray-600"),v(t,"type","number"),v(t,"step","0.00001"),t.value=s[4],v(o,"class","horizontal-slider slider-tooltip--top svelte-fcwqy1"),Dt(o,"width","100%"),v(n,"class","relative inline-flex items-center w-full px-2.5 py-1.5 border-t text-xs leading-4 font-medium border-gray-300 bg-white text-gray-700"),v(e,"class","flex w-full h-7 mt-auto")},m(c,h){pe(c,e,h),b(e,t),b(e,r),b(e,n),b(n,o),s[10](o),l||(g=[we(t,"change",s[5]),we(t,"blur",s[6]),we(t,"keydown",s[6])],l=!0)},p(c,[h]){h&16&&t.value!==c[4]&&(t.value=c[4])},i:U,o:U,d(c){c&&M(e),s[10](null),l=!1,Nt(g)}}}function pr(s,e,t){let r,n=U,o=()=>(n(),n=H(T,i=>t(4,r=i)),T),l,g=U,c=()=>(g(),g=H(w,i=>t(8,l=i)),w),h,a=U,d=()=>(a(),a=H(m,i=>t(9,h=i)),m);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>a());let{sinuRangeMin:m}=e;d();let{sinuRangeMax:w}=e;c();let{sinuThresh:T}=e;o();let{changeThresholds:y}=e,_;const A=i=>{var F;i.target.value.length>0&&(Je(T,r=parseFloat(i.target.value),r),(F=_==null?void 0:_.noUiSlider)==null||F.set([parseFloat(i.target.value)]))},E=i=>{i.type==="keydown"&&i.code==="Enter"&&i.target.blur(),!!i.target.value.length&&i.type==="blur"?y():i.target.value.length===0&&i.type==="blur"&&(i.target.value=r==null?void 0:r.toString())};At(()=>{var i,F;return Lt.create(_,{start:[r],range:{min:h,max:l},step:Ht(h,l),format:Bt({decimals:5}),connect:[!0,!1],tooltips:!0}),(i=_==null?void 0:_.noUiSlider)==null||i.on("update",(S,K)=>{Je(T,r=parseFloat(S[K]),r)}),(F=_==null?void 0:_.noUiSlider)==null||F.on("change",()=>{y()}),()=>{var S;(S=_==null?void 0:_.noUiSlider)==null||S.destroy()}});function D(i){mt[i?"unshift":"push"](()=>{_=i,t(3,_)})}return s.$$set=i=>{"sinuRangeMin"in i&&d(t(0,m=i.sinuRangeMin)),"sinuRangeMax"in i&&c(t(1,w=i.sinuRangeMax)),"sinuThresh"in i&&o(t(2,T=i.sinuThresh)),"changeThresholds"in i&&t(7,y=i.changeThresholds)},s.$$.update=()=>{var i;s.$$.dirty&792&&(h||l)&&_&&((i=_==null?void 0:_.noUiSlider)==null||i.updateOptions({start:[r],range:{min:h,max:l},step:Ht(h,l)},!0))},[m,w,T,_,r,A,E,y,l,h,D]}class br extends Ge{constructor(e){super();Ke(this,e,pr,mr,Xe,{sinuRangeMin:0,sinuRangeMax:1,sinuThresh:2,changeThresholds:7})}}function _r(s){let e,t,r,n,o,l,g,c,h,a,d,m,w;return l=new gr({props:{curvRangeMin:s[4],curvRangeMax:s[5],curvThresh:s[6],changeThresholds:s[10]}}),m=new br({props:{sinuRangeMin:s[7],sinuRangeMax:s[8],sinuThresh:s[9],changeThresholds:s[10]}}),{c(){e=k("div"),t=k("div"),r=k("img"),o=$(),O(l.$$.fragment),g=$(),c=k("div"),h=k("img"),d=$(),O(m.$$.fragment),this.h()},l(T){e=I(T,"DIV",{class:!0});var y=C(e);t=I(y,"DIV",{class:!0});var _=C(t);r=I(_,"IMG",{src:!0,class:!0,alt:!0}),o=N(_),q(l.$$.fragment,_),_.forEach(M),g=N(y),c=I(y,"DIV",{class:!0});var A=C(c);h=I(A,"IMG",{src:!0,class:!0,alt:!0}),d=N(A),q(m.$$.fragment,A),A.forEach(M),y.forEach(M),this.h()},h(){Pt(r.src,n="/api/files/"+s[0])||v(r,"src",n),v(r,"class","mx-auto"),v(r,"alt","Filament curv histogram"),v(t,"class","flex flex-col w-[50%] pt-4"),Pt(h.src,a="/api/files/"+s[1])||v(h,"src",a),v(h,"class","mx-auto"),v(h,"alt","Filament sinu histogram"),v(c,"class","flex flex-col w-[50%] pt-4"),v(e,"class","flex divide-x")},m(T,y){pe(T,e,y),b(e,t),b(t,r),b(t,o),Y(l,t,null),b(e,g),b(e,c),b(c,h),b(c,d),Y(m,c,null),w=!0},p(T,y){(!w||y&1&&!Pt(r.src,n="/api/files/"+T[0]))&&v(r,"src",n),(!w||y&2&&!Pt(h.src,a="/api/files/"+T[1]))&&v(h,"src",a)},i(T){w||(j(l.$$.fragment,T),j(m.$$.fragment,T),w=!0)},o(T){z(l.$$.fragment,T),z(m.$$.fragment,T),w=!1},d(T){T&&M(e),G(l),G(m)}}}function vr(s){let e,t;return e=new qt({props:{heading:"Filament Histograms",modifier:"border-t",$$slots:{default:[_r]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},p(r,[n]){const o={};n&2051&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function wr(s,e,t){let r,n;const{curvHistFileId:o,sinuHistFileId:l,curvRangeMin:g,curvRangeMax:c,curvThresh:h,sinuRangeMin:a,sinuRangeMax:d,sinuThresh:m,changeThresholds:w}=Ut("inspectPicksData");return be(s,o,T=>t(0,r=T)),be(s,l,T=>t(1,n=T)),[r,n,o,l,g,c,h,a,d,m,w]}class Tr extends Ge{constructor(e){super();Ke(this,e,wr,vr,Xe,{})}}function yr(s){let e,t,r;return{c(){e=k("canvas"),this.h()},l(n){e=I(n,"CANVAS",{id:!0,class:!0,style:!0,width:!0,height:!0}),C(e).forEach(M),this.h()},h(){var n,o;v(e,"id","exposure-canvas"),v(e,"class","absolute top-0 left-0 h-full w-full"),Dt(e,"opacity",s[25]===!1&&s[26]!==null&&s[27]===!1?"1":"0"),v(e,"width",t=(n=s[24])!=null?n:0),v(e,"height",r=(o=s[23])!=null?o:0)},m(n,o){pe(n,e,o),s[40](e)},p(n,o){var l,g;o[0]&234881024&&Dt(e,"opacity",n[25]===!1&&n[26]!==null&&n[27]===!1?"1":"0"),o[0]&16777216&&t!==(t=(l=n[24])!=null?l:0)&&v(e,"width",t),o[0]&8388608&&r!==(r=(g=n[23])!=null?g:0)&&v(e,"height",r)},i:U,o:U,d(n){n&&M(e),s[40](null)}}}function Mr(s,e,t){let r,n=U,o=()=>(n(),n=H(wt,u=>t(28,r=u)),wt),l,g=U,c=()=>(g(),g=H(rt,u=>t(29,l=u)),rt),h,a=U,d=()=>(a(),a=H(ht,u=>t(30,h=u)),ht),m,w=U,T=()=>(w(),w=H(nt,u=>t(31,m=u)),nt),y,_=U,A=()=>(_(),_=H(f,u=>t(32,y=u)),f),E,D=U,i=()=>(D(),D=H(St,u=>t(33,E=u)),St),F,S=U,K=()=>(S(),S=H(It,u=>t(34,F=u)),It),ee,R=U,oe=()=>(R(),R=H(dt,u=>t(35,ee=u)),dt),ge,V=U,L=()=>(V(),V=H(kt,u=>t(36,ge=u)),kt),P,X=U,me=()=>(X(),X=H(xt,u=>t(37,P=u)),xt),de,ie=U,fe=()=>(ie(),ie=H(Mt,u=>t(38,de=u)),Mt),B,ae=U,Ue=()=>(ae(),ae=H(yt,u=>t(39,B=u)),yt),ve,je=U,Ae=()=>(je(),je=H(Q,u=>t(23,ve=u)),Q),ue,Fe=U,He=()=>(Fe(),Fe=H(p,u=>t(24,ue=u)),p),_e,re=U,J=()=>(re(),re=H(ne,u=>t(41,_e=u)),ne),Z,ke=U,ze=()=>(ke(),ke=H(it,u=>t(42,Z=u)),it),Te,le=U,Qe=()=>(le(),le=H(Tt,u=>t(43,Te=u)),Tt),Ve,ye=U,Ze=()=>(ye(),ye=H(Et,u=>t(44,Ve=u)),Et),$e,De=U,Le=()=>(De(),De=H(Me,u=>t(45,$e=u)),Me),qe,ct=U,pt=()=>(ct(),ct=H(st,u=>t(25,qe=u)),st),bt,ut=U,_t=()=>(ut(),ut=H(We,u=>t(26,bt=u)),We),et,Be=U,vt=()=>(Be(),Be=H(tt,u=>t(27,et=u)),tt);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>a()),s.$$.on_destroy.push(()=>w()),s.$$.on_destroy.push(()=>_()),s.$$.on_destroy.push(()=>D()),s.$$.on_destroy.push(()=>S()),s.$$.on_destroy.push(()=>R()),s.$$.on_destroy.push(()=>V()),s.$$.on_destroy.push(()=>X()),s.$$.on_destroy.push(()=>ie()),s.$$.on_destroy.push(()=>ae()),s.$$.on_destroy.push(()=>je()),s.$$.on_destroy.push(()=>Fe()),s.$$.on_destroy.push(()=>re()),s.$$.on_destroy.push(()=>ke()),s.$$.on_destroy.push(()=>le()),s.$$.on_destroy.push(()=>ye()),s.$$.on_destroy.push(()=>De()),s.$$.on_destroy.push(()=>ct()),s.$$.on_destroy.push(()=>ut()),s.$$.on_destroy.push(()=>Be());let{loadingDisplay:tt}=e;vt();let{loadingImage:st}=e;pt();let{micWidth:ne}=e;J();let{currentImageUrl:We}=e;_t();let{enableThresholds:Me}=e;Le();let{showPicks:rt}=e;c();let{picksColor:nt}=e;T();let{showBox:wt}=e;o();let{boxColor:ht}=e;d();let{pSize:Tt}=e;Qe();let{picksThreshold:it}=e;ze();let{currentPicks:yt}=e;Ue();let{boxsizeRawPix:Mt}=e;fe();let{particleDiameter:xt}=e;me();let{nccScoreThresh:kt}=e;L();let{lpowerThreshMin:dt}=e;oe();let{lpowerThreshMax:It}=e;K();let{isFilament:Et}=e;Ze();let{curvThresh:St}=e;i();let{sinuThresh:f}=e;A();let{thumbWidth:p}=e;He();let{thumbHeight:Q}=e;Ae();let ce;const Ne=u=>{if(!$e)return!0;const[Oe,xe,Pe,Ye]=u;return Oe>ge&&xe>ee&&xe<F&&(!Ve||Pe<E&&Ye<y)},te=(u,Oe,xe,Pe)=>{if(typeof u=="undefined"||u===null)return;const Ye=ue*Oe,ot=ve*(1-xe);u.beginPath(),u.arc(Ye,ot,Pe*ue,0,2*Math.PI,!1),u.lineWidth=2,u.strokeStyle=m,u.stroke()},ft=(u,Oe)=>{Je(it,Z=0,Z);const xe=Math.round(P/Te)/_e/2;u.globalCompositeOperation="destination-over",B.forEach(Pe=>{const[Ye,ot,...Ct]=Pe;Ne(Ct)&&(Oe&&te(u,Ye,ot,xe),Je(it,Z+=1,Z))})},gt=(u,Oe,xe,Pe)=>{if(typeof u=="undefined"||u===null)return;const Ye=ue*Oe-Pe/2,ot=ve*(1-xe)-Pe/2,{r:Ct,g:ls,b:cs}=Ts(h);u.lineWidth=2,u.fillStyle=`rgba(${Ct}, ${ls}, ${cs}, 0.4)`,u.strokeStyle=h,u.strokeRect(Ye,ot,Pe,Pe),u.fillRect(Ye,ot,Pe,Pe)},se=(u,Oe)=>{if(!Oe)return;const xe=de/_e*ue;B.forEach(Pe=>{const[Ye,ot,...Ct]=Pe;Ne(Ct)&&gt(u,Ye,ot,xe)})},Vt=(u=!0,Oe=!0)=>{const xe=ce.getContext("2d");typeof xe=="undefined"||xe===null||(xe.clearRect(0,0,ue,ve),ft(xe,u),se(xe,Oe))};function $t(u){mt[u?"unshift":"push"](()=>{ce=u,t(22,ce)})}return s.$$set=u=>{"loadingDisplay"in u&&vt(t(0,tt=u.loadingDisplay)),"loadingImage"in u&&pt(t(1,st=u.loadingImage)),"micWidth"in u&&J(t(2,ne=u.micWidth)),"currentImageUrl"in u&&_t(t(3,We=u.currentImageUrl)),"enableThresholds"in u&&Le(t(4,Me=u.enableThresholds)),"showPicks"in u&&c(t(5,rt=u.showPicks)),"picksColor"in u&&T(t(6,nt=u.picksColor)),"showBox"in u&&o(t(7,wt=u.showBox)),"boxColor"in u&&d(t(8,ht=u.boxColor)),"pSize"in u&&Qe(t(9,Tt=u.pSize)),"picksThreshold"in u&&ze(t(10,it=u.picksThreshold)),"currentPicks"in u&&Ue(t(11,yt=u.currentPicks)),"boxsizeRawPix"in u&&fe(t(12,Mt=u.boxsizeRawPix)),"particleDiameter"in u&&me(t(13,xt=u.particleDiameter)),"nccScoreThresh"in u&&L(t(14,kt=u.nccScoreThresh)),"lpowerThreshMin"in u&&oe(t(15,dt=u.lpowerThreshMin)),"lpowerThreshMax"in u&&K(t(16,It=u.lpowerThreshMax)),"isFilament"in u&&Ze(t(17,Et=u.isFilament)),"curvThresh"in u&&i(t(18,St=u.curvThresh)),"sinuThresh"in u&&A(t(19,f=u.sinuThresh)),"thumbWidth"in u&&He(t(20,p=u.thumbWidth)),"thumbHeight"in u&&Ae(t(21,Q=u.thumbHeight))},s.$$.update=()=>{s.$$.dirty[0]&1883242496|s.$$.dirty[1]&511&&ce&&Array.isArray(B)&&(de||P||ge||ee||F||E||y||m||h)&&Vt(l,r)},[tt,st,ne,We,Me,rt,nt,wt,ht,Tt,it,yt,Mt,xt,kt,dt,It,Et,St,f,p,Q,ce,ve,ue,qe,bt,et,r,l,h,m,y,E,F,ee,ge,P,de,B,$t]}class xr extends Ge{constructor(e){super();Ke(this,e,Mr,yr,Xe,{loadingDisplay:0,loadingImage:1,micWidth:2,currentImageUrl:3,enableThresholds:4,showPicks:5,picksColor:6,showBox:7,boxColor:8,pSize:9,picksThreshold:10,currentPicks:11,boxsizeRawPix:12,particleDiameter:13,nccScoreThresh:14,lpowerThreshMin:15,lpowerThreshMax:16,isFilament:17,curvThresh:18,sinuThresh:19,thumbWidth:20,thumbHeight:21},null,[-1,-1])}}function kr(s){let e,t,r,n;return r=new Cs({}),{c(){e=k("div"),t=k("span"),O(r.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var l=C(e);t=I(l,"SPAN",{class:!0});var g=C(t);q(r.$$.fragment,g),g.forEach(M),l.forEach(M),this.h()},h(){v(t,"class","absolute-center"),v(e,"class","absolute top-0 left-0 h-full w-full bg-white")},m(o,l){pe(o,e,l),b(e,t),Y(r,t,null),n=!0},p:U,i(o){n||(j(r.$$.fragment,o),n=!0)},o(o){z(r.$$.fragment,o),n=!1},d(o){o&&M(e),G(r)}}}function Ir(s){let e,t,r,n,o,l,g,c,h,a,d,m,w,T,y,_,A,E,D,i,F,S,K,ee,R,oe,ge;t=new Js({}),d=new qt({props:{heading:"Exposure Plot",$$slots:{default:[Rr]},$$scope:{ctx:s}}});let V=s[2]&&s[3]&&os(),L=s[4]&&s[5]&&s[3]&&as();return y=new Ps({props:{tableFilter:s[21],tabulatorTable:s[50],selectedMic:s[19]}}),A=new Es({props:{fields:s[17],micrographsList:s[18],selectedMic:s[19],setMicrograph:s[20],tableFilter:s[21],tabulatorTable:s[50],overviewHoverUid:s[42],hasThumbnails:s[27],hoverAnchorNode:s[1],filterAttribute:s[53]}}),D=new Vs({props:{hoverAnchorNode:s[6],overviewHoverUid:s[48],hasThumbnails:s[7],overviewHoverData:s[47],hoverAttributes:s[49],getThumbnailUrl:s[52]}}),S=new tr({}),ee=new qs({props:{loadingDisplay:s[9],loadingImage:s[10],currentImageUrl:s[11],selectedMicUid:s[12],micWidth:s[13],pSize:s[14],showScale:s[28],thumbWidth:s[15],thumbHeight:s[16],$$slots:{canvas:[Er],"lowpass-filter":[Pr],"download-image":[Dr]},$$scope:{ctx:s}}}),{c(){e=k("div"),O(t.$$.fragment),r=$(),n=k("div"),o=k("button"),l=Ie("Done Picking | Output Locations"),g=$(),c=k("div"),h=k("div"),a=k("div"),O(d.$$.fragment),m=$(),V&&V.c(),w=$(),L&&L.c(),T=$(),O(y.$$.fragment),_=$(),O(A.$$.fragment),E=$(),O(D.$$.fragment),i=$(),F=k("div"),O(S.$$.fragment),K=$(),O(ee.$$.fragment),this.h()},l(P){e=I(P,"DIV",{class:!0});var X=C(e);q(t.$$.fragment,X),r=N(X),n=I(X,"DIV",{class:!0});var me=C(n);o=I(me,"BUTTON",{type:!0,class:!0});var de=C(o);l=Re(de,"Done Picking | Output Locations"),de.forEach(M),me.forEach(M),X.forEach(M),g=N(P),c=I(P,"DIV",{class:!0});var ie=C(c);h=I(ie,"DIV",{class:!0});var fe=C(h);a=I(fe,"DIV",{class:!0});var B=C(a);q(d.$$.fragment,B),m=N(B),V&&V.l(B),w=N(B),L&&L.l(B),T=N(B),q(y.$$.fragment,B),_=N(B),q(A.$$.fragment,B),B.forEach(M),E=N(fe),q(D.$$.fragment,fe),fe.forEach(M),i=N(ie),F=I(ie,"DIV",{class:!0});var ae=C(F);q(S.$$.fragment,ae),K=N(ae),q(ee.$$.fragment,ae),ae.forEach(M),ie.forEach(M),this.h()},h(){v(o,"type","button"),v(o,"class","inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs leading-4 font-medium rounded whitespace-nowrap text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:border-green-700 focus:shadow-outline-green active:bg-green-700 transition ease-in-out duration-150"),v(n,"class","inline-flex rounded shadow-sm"),v(e,"class","w-full flex items-start justify-between px-2 py-1.5 whitespace-nowrap border-b border-gray-200 bg-white"),v(a,"class","flex flex-col h-full"),v(h,"class","table-col interactive-panel col-span-1 flex flex-col max-h-full bg-white border-r border-gray-300 overflow-y-auto"),v(F,"class","flex flex-col col-span-1 overflow-y-hidden"),v(c,"class","grid grid-cols-2 h-full overflow-hidden")},m(P,X){pe(P,e,X),Y(t,e,null),b(e,r),b(e,n),b(n,o),b(o,l),pe(P,g,X),pe(P,c,X),b(c,h),b(h,a),Y(d,a,null),b(a,m),V&&V.m(a,null),b(a,w),L&&L.m(a,null),b(a,T),Y(y,a,null),b(a,_),Y(A,a,null),b(h,E),Y(D,h,null),b(c,i),b(c,F),Y(S,F,null),b(F,K),Y(ee,F,null),R=!0,oe||(ge=we(o,"click",s[55]),oe=!0)},p(P,X){const me={};X[0]&2|X[2]&16&&(me.$$scope={dirty:X,ctx:P}),d.$set(me),P[2]&&P[3]?V?X[0]&12&&j(V,1):(V=os(),V.c(),j(V,1),V.m(a,w)):V&&(Ft(),z(V,1,1,()=>{V=null}),jt()),P[4]&&P[5]&&P[3]?L?X[0]&56&&j(L,1):(L=as(),L.c(),j(L,1),L.m(a,T)):L&&(Ft(),z(L,1,1,()=>{L=null}),jt());const de={};X[0]&2&&(de.hoverAnchorNode=P[1]),A.$set(de);const ie={};X[0]&64&&(ie.hoverAnchorNode=P[6]),X[0]&128&&(ie.hasThumbnails=P[7]),D.$set(ie);const fe={};X[2]&16&&(fe.$$scope={dirty:X,ctx:P}),ee.$set(fe)},i(P){R||(j(t.$$.fragment,P),j(d.$$.fragment,P),j(V),j(L),j(y.$$.fragment,P),j(A.$$.fragment,P),j(D.$$.fragment,P),j(S.$$.fragment,P),j(ee.$$.fragment,P),R=!0)},o(P){z(t.$$.fragment,P),z(d.$$.fragment,P),z(V),z(L),z(y.$$.fragment,P),z(A.$$.fragment,P),z(D.$$.fragment,P),z(S.$$.fragment,P),z(ee.$$.fragment,P),R=!1},d(P){P&&M(e),G(t),P&&M(g),P&&M(c),G(d),V&&V.d(),L&&L.d(),G(y),G(A),G(D),G(S),G(ee),oe=!1,ge()}}}function Rr(s){let e,t,r;function n(l){s[56](l)}let o={exposures:s[18],fields:s[17],setMicrograph:s[54],overviewHoverUid:s[42],plotAxisX:s[43],plotAxisY:s[44],chartType:s[45],nbinsx:s[46]};return s[1]!==void 0&&(o.hoverAnchorNode=s[1]),e=new $s({props:o}),mt.push(()=>Kt(e,"hoverAnchorNode",n)),{c(){O(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,g){Y(e,l,g),r=!0},p(l,g){const c={};!t&&g[0]&2&&(t=!0,c.hoverAnchorNode=l[1],Xt(()=>t=!1)),e.$set(c)},i(l){r||(j(e.$$.fragment,l),r=!0)},o(l){z(e.$$.fragment,l),r=!1},d(l){G(e,l)}}}function os(s){let e,t;return e=new hr({}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function as(s){let e,t;return e=new Tr({}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Dr(s){let e,t;return e=new Ss({props:{slot:"download-image",currentImageUrl:s[11],selectedMicUid:s[12]}}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},p:U,i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Pr(s){let e,t;return e=new Ys({props:{slot:"lowpass-filter",lowPassFilter:s[22],getImage:s[51]}}),{c(){O(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){Y(e,r,n),t=!0},p:U,i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Er(s){let e,t,r;return t=new xr({props:{loadingDisplay:s[9],loadingImage:s[10],micWidth:s[13],currentImageUrl:s[11],enableThresholds:s[26],showPicks:s[29],showBox:s[30],picksColor:s[31],boxColor:s[32],picksThreshold:s[36],currentPicks:s[37],boxsizeRawPix:s[33],particleDiameter:s[34],pSize:s[14],nccScoreThresh:s[35],lpowerThreshMin:s[38],lpowerThreshMax:s[39],isFilament:s[23],curvThresh:s[40],sinuThresh:s[41],thumbWidth:s[15],thumbHeight:s[16]}}),{c(){e=k("div"),O(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{slot:!0,class:!0});var o=C(e);q(t.$$.fragment,o),o.forEach(M),this.h()},h(){v(e,"slot","canvas"),v(e,"class","h-full w-full")},m(n,o){pe(n,e,o),Y(t,e,null),r=!0},p:U,i(n){r||(j(t.$$.fragment,n),r=!0)},o(n){z(t.$$.fragment,n),r=!1},d(n){n&&M(e),G(t)}}}function Sr(s){let e,t,r,n,o,l;t=new Us({props:{errors:s[8]}});const g=[Ir,kr],c=[];function h(a,d){return a[0]?1:0}return n=h(s),o=c[n]=g[n](s),{c(){e=k("div"),O(t.$$.fragment),r=$(),o.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var d=C(e);q(t.$$.fragment,d),r=N(d),o.l(d),d.forEach(M),this.h()},h(){v(e,"class","relative w-full h-full flex flex-col bg-white")},m(a,d){pe(a,e,d),Y(t,e,null),b(e,r),c[n].m(e,null),l=!0},p(a,d){let m=n;n=h(a),n===m?c[n].p(a,d):(Ft(),z(c[m],1,1,()=>{c[m]=null}),jt(),o=c[n],o?o.p(a,d):(o=c[n]=g[n](a),o.c()),j(o,1),o.m(e,null))},i(a){l||(j(t.$$.fragment,a),j(o),l=!0)},o(a){z(t.$$.fragment,a),z(o),l=!1},d(a){a&&M(e),G(t),c[n].d()}}}function Cr(s,e,t){let r,n,o,l,g,c,h=U,a=()=>(h(),h=H(Be,ne=>t(6,c=ne)),Be),d;s.$$.on_destroy.push(()=>h());const{host:m,port:w,projectUid:T,jobUid:y}=Ut("jobData"),_=Gs(m,w,T,y);bs("inspectPicksData",_);const{interactiveError:A,loadingDisplay:E,loadingImage:D,currentImageUrl:i,selectedMicUid:F,micWidth:S,pSize:K,thumbWidth:ee,thumbHeight:R,fields:oe,micrographsList:ge,selectedMic:V,setMicrograph:L,tableFilter:P,lowPassFilter:X,isFilament:me,histFileId:de,curvHistFileId:ie,enableThresholds:fe,hasThumbnails:B,showScale:ae,showPicks:Ue,showBox:ve,picksColor:je,boxColor:Ae,boxsizeRawPix:ue,particleDiameter:Fe,nccScoreThresh:He,picksThreshold:_e,currentPicks:re,lpowerThreshMin:J,lpowerThreshMax:Z,curvThresh:ke,sinuThresh:ze,overviewHoverUid:Te,plotAxisX:le,plotAxisY:Qe,chartType:Ve,nbinsx:ye,overviewHoverData:Ze,overviewHoverUidFromIdx:$e,hoverAttributes:De,tabulatorTable:Le,getImage:qe,getList:ct,getInteractiveInfo:pt,getThumbnailUrl:bt,shutdown:ut}=_;be(s,ge,ne=>t(57,r=ne)),be(s,me,ne=>t(4,l=ne)),be(s,de,ne=>t(2,n=ne)),be(s,ie,ne=>t(5,g=ne)),be(s,fe,ne=>t(3,o=ne)),be(s,B,ne=>t(7,d=ne));const _t=es.num_particles_threshold;let et=!0,Be;const vt=ne=>{var Me;const We=r.find(rt=>rt.idx===ne);L((Me=We==null?void 0:We.uid)!=null?Me:"")},tt=()=>{ut(),Is.set(ys.log),Rs.set(!0)};At(async()=>{t(0,et=!0),await pt(),await ct(),t(0,et=!1)});function st(ne){Be=ne,a(t(1,Be))}return[et,Be,n,o,l,g,c,d,A,E,D,i,F,S,K,ee,R,oe,ge,V,L,P,X,me,de,ie,fe,B,ae,Ue,ve,je,Ae,ue,Fe,He,_e,re,J,Z,ke,ze,Te,le,Qe,Ve,ye,Ze,$e,De,Le,qe,bt,_t,vt,tt,st]}class Un extends Ge{constructor(e){super();Ke(this,e,Cr,Sr,Xe,{},null,[-1,-1,-1])}}export{Un as default};
