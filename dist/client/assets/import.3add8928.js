import{e as d,w as s,g as e}from"./vendor.3ae73048.js";import{aw as h,b as i,u as p,e as m,ah as u}from"./index.146c2037.js";import{f as b}from"./router.1b465492.js";const c=s(""),n=s(""),r=s(null),l=s(null),P=s([]),g=d(c,t=>t.length>0&&t.startsWith("/")),w=d([n,r,l],([t,o,a])=>t.length>0&&t.startsWith("/")&&o&&a),j=()=>{i("import","closeAttachProject"),c.set(""),u()},S=()=>{const t=e(c);h(t.length>0?t:null,o=>{c.set(o)},"Select project container directory")},U=()=>{const t=e(n);h(t.length>0?t:null,o=>{n.set(o)},"Select absolute job directory")},v=async()=>{const t=e(c);e(g)&&(i("import","handleAttachProject",{path:t}),await p.core.attachProject(t),j())},A=async()=>{try{const t=e(n),o=e(r),a=e(l);if(e(w)){if(i("import","handleImportJob",t,e(r),e(l)),!o||!a)throw new Error("No project or workspace uid specified");await p.core.importJob(o,a,t),j()}}catch(t){m("handleImportJob failed: ",t)}},x=async()=>{const o=(await b("getWorkspaceList",{deleted:!1,pUids:e(r)===null?[]:[e(r)]},{uid:1,title:1},{created_at:-1})).map(a=>({uid:a.uid,text:`${a.uid}: ${a.title}`}));P.set(o!=null?o:[])};export{v as a,g as b,U as c,A as d,r as e,l as f,x as g,S as h,w as i,n as j,c as p,P as w};
