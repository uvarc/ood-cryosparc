var $s=Object.defineProperty,Es=Object.defineProperties;var js=Object.getOwnPropertyDescriptors;var os=Object.getOwnPropertySymbols;var Ds=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable;var as=(r,e,t)=>e in r?$s(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ze=(r,e)=>{for(var t in e||(e={}))Ds.call(e,t)&&as(r,t,e[t]);if(os)for(var t of os(e))Ts.call(e,t)&&as(r,t,e[t]);return r},et=(r,e)=>Es(r,js(e));import{S as tt,h as st,s as rt,Q as h,I as x,a6 as E,R as p,T as _,p as f,J,a7 as j,U as c,k as K,a2 as n,ae as W,ac as ne,u as ns,K as dt,ad as As,L as ke,c as is,y as wt,z as kt,A as $t,B as Et,o as H,t as q,l as jt,m as Dt,C as ie,D as ue,E as ce,H as fe,ax as Ms,aM as xs,w as Js,P as Ps,af as us,at as cs,au as fs,e as Ss,j as ds,V as Cs,W as Is}from"./vendor.3ae73048.js";import{aB as B,z as Us,cf as Ns,cg as Rs,ao as hs,bo as ht,C as ps,E as _s,u as Hs,bp as Vs,ch as Fs,x as Ws,y as qs}from"./index.146c2037.js";import{i as Bs,a as Os,u as Ks,bm as Ys}from"./helpers.7177ca38.js";import{x as zs,a as Qs,K as Ls,af as Gs,bn as Xs,a6 as Tt}from"./router.1b465492.js";import"./types.8cb6216c.js";import{Q as Zs}from"./Spinner.012207c4.js";import{P as er}from"./Panel.9c7a29b9.js";import{c as tr}from"./jobs.7ab064ef.js";import{C as sr}from"./TagCount.d4471cb8.js";import{C as rr}from"./ChevronUp.41d1c7f8.js";import{J as lr}from"./JobCardsMenu.42df5f55.js";import"./index.2e3bb17a.js";import"./Icon.61279884.js";import"./ChevronUp.0ab7bee0.js";import"./Exclamation.f44359c6.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./apply.0059decc.js";import"./createNew.a4a688d1.js";import"./index.11580965.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./MenuInfo.722434b0.js";import"./MenuItemConfirmation.1afa248b.js";import"./Button.d254e004.js";import"./MenuNested.51f47e2f.js";import"./JobTagsEditMenu.a5153cee.js";function or(r){var Mt,xt,Jt,Pt,St,Ct,It,Ut,Nt,Rt,Ht,Vt,Ft,Wt,qt,Bt,Ot,Kt;let e,t,s,o,l,a,u,d,m,i,b,P,g,D,A,T,k,v,M,X,V,Y,$=B((xt=(Mt=r[0])==null?void 0:Mt.project)==null?void 0:xt.weekly)+"",y,C,O,F,z,G=B((Pt=(Jt=r[0])==null?void 0:Jt.project)==null?void 0:Pt.monthly)+"",pe,_e,Me,me,L,I=B((Ct=(St=r[0])==null?void 0:St.project)==null?void 0:Ct.all)+"",$e,oe,S,w,U,ee,ae,Q,be=B((Ut=(It=r[0])==null?void 0:It.workspace)==null?void 0:Ut.weekly)+"",Ee,te,xe,de,ge,Je=B((Rt=(Nt=r[0])==null?void 0:Nt.workspace)==null?void 0:Rt.monthly)+"",lt,ot,_t,Pe,je,Se=B((Vt=(Ht=r[0])==null?void 0:Ht.workspace)==null?void 0:Vt.all)+"",at,mt,Z,De,bt,gt,Ce,ve,Ie=B((Wt=(Ft=r[0])==null?void 0:Ft.job)==null?void 0:Wt.weekly)+"",nt,it,vt,Ue,ye,Ne=B((Bt=(qt=r[0])==null?void 0:qt.job)==null?void 0:Bt.monthly)+"",ut,ct,yt,Re,Te,He=B((Kt=(Ot=r[0])==null?void 0:Ot.job)==null?void 0:Kt.all)+"",ft;return{c(){e=h("div"),t=h("table"),s=h("thead"),o=h("tr"),l=h("th"),a=x(),u=h("th"),d=E("This Week"),m=x(),i=h("th"),b=E("This Month"),P=x(),g=h("th"),D=E("All"),A=x(),T=h("tbody"),k=h("tr"),v=h("th"),M=E("Projects"),X=x(),V=h("td"),Y=h("a"),y=E($),O=x(),F=h("td"),z=h("a"),pe=E(G),Me=x(),me=h("td"),L=h("a"),$e=E(I),oe=x(),S=h("tr"),w=h("th"),U=E("Workspaces"),ee=x(),ae=h("td"),Q=h("a"),Ee=E(be),xe=x(),de=h("td"),ge=h("a"),lt=E(Je),_t=x(),Pe=h("td"),je=h("a"),at=E(Se),mt=x(),Z=h("tr"),De=h("th"),bt=E("Jobs"),gt=x(),Ce=h("td"),ve=h("a"),nt=E(Ie),vt=x(),Ue=h("td"),ye=h("a"),ut=E(Ne),yt=x(),Re=h("td"),Te=h("a"),ft=E(He),this.h()},l(N){e=p(N,"DIV",{class:!0});var R=_(e);t=p(R,"TABLE",{class:!0});var Ae=_(t);s=p(Ae,"THEAD",{class:!0});var Ve=_(s);o=p(Ve,"TR",{});var se=_(o);l=p(se,"TH",{scope:!0,class:!0}),_(l).forEach(f),a=J(se),u=p(se,"TH",{scope:!0,class:!0});var Fe=_(u);d=j(Fe,"This Week"),Fe.forEach(f),m=J(se),i=p(se,"TH",{scope:!0,class:!0});var We=_(i);b=j(We,"This Month"),We.forEach(f),P=J(se),g=p(se,"TH",{scope:!0,class:!0});var qe=_(g);D=j(qe,"All"),qe.forEach(f),se.forEach(f),Ve.forEach(f),A=J(Ae),T=p(Ae,"TBODY",{});var he=_(T);k=p(he,"TR",{class:!0});var re=_(k);v=p(re,"TH",{scope:!0,class:!0});var Be=_(v);M=j(Be,"Projects"),Be.forEach(f),X=J(re),V=p(re,"TD",{});var Oe=_(V);Y=p(Oe,"A",{href:!0,class:!0});var Ke=_(Y);y=j(Ke,$),Ke.forEach(f),Oe.forEach(f),O=J(re),F=p(re,"TD",{});var Ye=_(F);z=p(Ye,"A",{href:!0,class:!0});var ze=_(z);pe=j(ze,G),ze.forEach(f),Ye.forEach(f),Me=J(re),me=p(re,"TD",{});var Qe=_(me);L=p(Qe,"A",{href:!0,class:!0});var Le=_(L);$e=j(Le,I),Le.forEach(f),Qe.forEach(f),re.forEach(f),oe=J(he),S=p(he,"TR",{class:!0});var le=_(S);w=p(le,"TH",{scope:!0,class:!0});var Ge=_(w);U=j(Ge,"Workspaces"),Ge.forEach(f),ee=J(le),ae=p(le,"TD",{});var Xe=_(ae);Q=p(Xe,"A",{href:!0,class:!0});var Yt=_(Q);Ee=j(Yt,be),Yt.forEach(f),Xe.forEach(f),xe=J(le),de=p(le,"TD",{});var zt=_(de);ge=p(zt,"A",{href:!0,class:!0});var Qt=_(ge);lt=j(Qt,Je),Qt.forEach(f),zt.forEach(f),_t=J(le),Pe=p(le,"TD",{});var Lt=_(Pe);je=p(Lt,"A",{href:!0,class:!0});var Gt=_(je);at=j(Gt,Se),Gt.forEach(f),Lt.forEach(f),le.forEach(f),mt=J(he),Z=p(he,"TR",{class:!0});var we=_(Z);De=p(we,"TH",{scope:!0,class:!0});var Xt=_(De);bt=j(Xt,"Jobs"),Xt.forEach(f),gt=J(we),Ce=p(we,"TD",{});var Zt=_(Ce);ve=p(Zt,"A",{href:!0,class:!0});var es=_(ve);nt=j(es,Ie),es.forEach(f),Zt.forEach(f),vt=J(we),Ue=p(we,"TD",{});var ts=_(Ue);ye=p(ts,"A",{href:!0,class:!0});var ss=_(ye);ut=j(ss,Ne),ss.forEach(f),ts.forEach(f),yt=J(we),Re=p(we,"TD",{});var rs=_(Re);Te=p(rs,"A",{href:!0,class:!0});var ls=_(Te);ft=j(ls,He),ls.forEach(f),rs.forEach(f),we.forEach(f),he.forEach(f),Ae.forEach(f),R.forEach(f),this.h()},h(){c(l,"scope","col"),c(l,"class","py-1 px-2"),c(u,"scope","col"),c(u,"class","py-1 px-2 font-semibold"),c(i,"scope","col"),c(i,"class","py-1 px-2 font-semibold"),c(g,"scope","col"),c(g,"class","py-1 px-2 font-semibold"),c(s,"class","text-2xs text-gray-900 uppercase whitespace-nowrap"),c(v,"scope","row"),c(v,"class","py-1 px-2 text-center font-semibold font-medium text-2xs uppercase text-gray-900 whitespace-nowrap"),c(Y,"href",C=window.pathPrefix+"/browse/P*"+r[2]),c(Y,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(z,"href",_e=window.pathPrefix+"/browse/P*"+r[1]),c(z,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(L,"href",window.pathPrefix+"/browse/P*"),c(L,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(k,"class","bg-white"),c(w,"scope","row"),c(w,"class","py-1 px-2 text-center font-semibold font-medium text-2xs uppercase text-gray-900 whitespace-nowrap"),c(Q,"href",te=window.pathPrefix+"/browse/P*-W*"+r[2]),c(Q,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(ge,"href",ot=window.pathPrefix+"/browse/P*-W*"+r[1]),c(ge,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(je,"href",window.pathPrefix+"/browse/P*-W*"),c(je,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(S,"class","bg-white dark:bg-gray-800"),c(De,"scope","row"),c(De,"class","py-1 px-2 text-center font-semibold font-medium text-2xs uppercase text-gray-900 whitespace-nowrap"),c(ve,"href",it=window.pathPrefix+"/browse/P*-J*"+r[2]+"&sort_order=desc"),c(ve,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(ye,"href",ct=window.pathPrefix+"/browse/P*-J*"+r[1]+"&sort_order=desc"),c(ye,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(Te,"href",window.pathPrefix+"/browse/P*-J*?sort_order=desc"),c(Te,"class","inline-block w-full h-full py-1 px-2 rounded cursor-pointer hover:bg-gray-100 hover:text-gray-600"),c(Z,"class","bg-white dark:bg-gray-800"),c(t,"class","w-full text-xs text-left text-gray-500"),c(e,"class","p-1.5 pl-0 pt-1 border border-gray-300 rounded-md shadow-sm bg-white overflow-x-auto custom-scrollbar")},m(N,R){K(N,e,R),n(e,t),n(t,s),n(s,o),n(o,l),n(o,a),n(o,u),n(u,d),n(o,m),n(o,i),n(i,b),n(o,P),n(o,g),n(g,D),n(t,A),n(t,T),n(T,k),n(k,v),n(v,M),n(k,X),n(k,V),n(V,Y),n(Y,y),n(k,O),n(k,F),n(F,z),n(z,pe),n(k,Me),n(k,me),n(me,L),n(L,$e),n(T,oe),n(T,S),n(S,w),n(w,U),n(S,ee),n(S,ae),n(ae,Q),n(Q,Ee),n(S,xe),n(S,de),n(de,ge),n(ge,lt),n(S,_t),n(S,Pe),n(Pe,je),n(je,at),n(T,mt),n(T,Z),n(Z,De),n(De,bt),n(Z,gt),n(Z,Ce),n(Ce,ve),n(ve,nt),n(Z,vt),n(Z,Ue),n(Ue,ye),n(ye,ut),n(Z,yt),n(Z,Re),n(Re,Te),n(Te,ft)},p(N,[R]){var Ae,Ve,se,Fe,We,qe,he,re,Be,Oe,Ke,Ye,ze,Qe,Le,le,Ge,Xe;R&1&&$!==($=B((Ve=(Ae=N[0])==null?void 0:Ae.project)==null?void 0:Ve.weekly)+"")&&W(y,$),R&4&&C!==(C=window.pathPrefix+"/browse/P*"+N[2])&&c(Y,"href",C),R&1&&G!==(G=B((Fe=(se=N[0])==null?void 0:se.project)==null?void 0:Fe.monthly)+"")&&W(pe,G),R&2&&_e!==(_e=window.pathPrefix+"/browse/P*"+N[1])&&c(z,"href",_e),R&1&&I!==(I=B((qe=(We=N[0])==null?void 0:We.project)==null?void 0:qe.all)+"")&&W($e,I),R&1&&be!==(be=B((re=(he=N[0])==null?void 0:he.workspace)==null?void 0:re.weekly)+"")&&W(Ee,be),R&4&&te!==(te=window.pathPrefix+"/browse/P*-W*"+N[2])&&c(Q,"href",te),R&1&&Je!==(Je=B((Oe=(Be=N[0])==null?void 0:Be.workspace)==null?void 0:Oe.monthly)+"")&&W(lt,Je),R&2&&ot!==(ot=window.pathPrefix+"/browse/P*-W*"+N[1])&&c(ge,"href",ot),R&1&&Se!==(Se=B((Ye=(Ke=N[0])==null?void 0:Ke.workspace)==null?void 0:Ye.all)+"")&&W(at,Se),R&1&&Ie!==(Ie=B((Qe=(ze=N[0])==null?void 0:ze.job)==null?void 0:Qe.weekly)+"")&&W(nt,Ie),R&4&&it!==(it=window.pathPrefix+"/browse/P*-J*"+N[2]+"&sort_order=desc")&&c(ve,"href",it),R&1&&Ne!==(Ne=B((le=(Le=N[0])==null?void 0:Le.job)==null?void 0:le.monthly)+"")&&W(ut,Ne),R&2&&ct!==(ct=window.pathPrefix+"/browse/P*-J*"+N[1]+"&sort_order=desc")&&c(ye,"href",ct),R&1&&He!==(He=B((Xe=(Ge=N[0])==null?void 0:Ge.job)==null?void 0:Xe.all)+"")&&W(ft,He)},i:ne,o:ne,d(N){N&&f(e)}}}function ar(r,e,t){let s,o,l,a,u,d;const m=()=>{const i=new Date,b=Ns(i),P=Rs(i.getFullYear(),i.getMonth());t(3,a=`${i.getFullYear()}-${i.getMonth()+1}-${i.getDate()}`),t(4,u=`${b.getFullYear()}-${b.getMonth()+1}-${b.getDate()}`),t(5,d=`${P.getFullYear()}-${P.getMonth()+1}-${P.getDate()}`)};return ns(()=>{m(),Us("/api/reports/instance_counts").then(i=>{t(0,l=i==null?void 0:i.data)})}),r.$$.update=()=>{r.$$.dirty&24&&t(2,s=`?created_at=${u}/${a}`),r.$$.dirty&40&&t(1,o=`?created_at=${d}/${a}`)},[l,o,s,a,u,d]}class nr extends tt{constructor(e){super();st(this,e,ar,or,rt,{})}}function ir(r){var o;let e,t=((o=r[2])==null?void 0:o.fullName)+"",s;return{c(){e=E("Created by "),s=E(t)},l(l){e=j(l,"Created by "),s=j(l,t)},m(l,a){K(l,e,a),K(l,s,a)},p(l,a){var u;a&4&&t!==(t=((u=l[2])==null?void 0:u.fullName)+"")&&W(s,t)},d(l){l&&f(e),l&&f(s)}}}function ur(r){let e;return{c(){e=E("Created by me")},l(t){e=j(t,"Created by me")},m(t,s){K(t,e,s)},p:ne,d(t){t&&f(e)}}}function cr(r){let e,t,s,o;return{c(){e=h("p"),t=E("Completed "),s=E(r[3]),o=E(" ago"),this.h()},l(l){e=p(l,"P",{class:!0});var a=_(e);t=j(a,"Completed "),s=j(a,r[3]),o=j(a," ago"),a.forEach(f),this.h()},h(){c(e,"class","text-xs text-gray-500")},m(l,a){K(l,e,a),n(e,t),n(e,s),n(e,o)},p(l,a){a&8&&W(s,l[3])},d(l){l&&f(e)}}}function fr(r){let e,t,s,o;return{c(){e=h("p"),t=E("Failed "),s=E(r[3]),o=E(" ago"),this.h()},l(l){e=p(l,"P",{class:!0});var a=_(e);t=j(a,"Failed "),s=j(a,r[3]),o=j(a," ago"),a.forEach(f),this.h()},h(){c(e,"class","text-xs text-gray-500")},m(l,a){K(l,e,a),n(e,t),n(e,s),n(e,o)},p(l,a){a&8&&W(s,l[3])},d(l){l&&f(e)}}}function dr(r){let e,t,s=is(r[0].killed_at,{includeSeconds:!0})+"",o,l;return{c(){e=h("p"),t=E("Killed "),o=E(s),l=E(" ago"),this.h()},l(a){e=p(a,"P",{class:!0});var u=_(e);t=j(u,"Killed "),o=j(u,s),l=j(u," ago"),u.forEach(f),this.h()},h(){c(e,"class","text-xs text-gray-500")},m(a,u){K(a,e,u),n(e,t),n(e,o),n(e,l)},p(a,u){u&1&&s!==(s=is(a[0].killed_at,{includeSeconds:!0})+"")&&W(o,s)},d(a){a&&f(e)}}}function hr(r){let e,t,s,o,l,a,u,d=r[0].project_uid+"",m,i,b=r[0].uid+"",P,g,D,A=r[0].status+"",T,k,v,M,X=(r[0].job_type&&r[6][r[0].job_type]?r[6][r[0].job_type].title:r[0].job_type)+"",V,Y,$,y,C,O,F,z,G=r[8]()+"",pe,_e,Me;function me(w,U){var ee;if(w[2]&&w[0].created_by_user_id&&w[0].created_by_user_id===((ee=w[7])==null?void 0:ee.id))return ur;if(w[2]&&w[0].created_by_user_id)return ir}let L=me(r),I=L&&L(r);function $e(w,U){if(w[0].killed_at)return dr;if(w[0].failed_at)return fr;if(w[0].completed_at)return cr}let oe=$e(r),S=oe&&oe(r);return{c(){e=h("button"),t=h("div"),s=h("div"),o=h("p"),l=h("span"),u=x(),m=E(d),i=x(),P=E(b),g=x(),D=h("span"),T=E(A),v=x(),M=h("p"),V=E(X),Y=x(),$=h("div"),y=h("p"),I&&I.c(),C=x(),S&&S.c(),O=x(),F=h("p"),z=E("Duration: "),pe=E(G),this.h()},l(w){e=p(w,"BUTTON",{type:!0,class:!0});var U=_(e);t=p(U,"DIV",{class:!0});var ee=_(t);s=p(ee,"DIV",{class:!0});var ae=_(s);o=p(ae,"P",{class:!0});var Q=_(o);l=p(Q,"SPAN",{class:!0}),_(l).forEach(f),u=J(Q),m=j(Q,d),i=J(Q),P=j(Q,b),Q.forEach(f),g=J(ae),D=p(ae,"SPAN",{class:!0});var be=_(D);T=j(be,A),be.forEach(f),ae.forEach(f),v=J(ee),M=p(ee,"P",{class:!0});var Ee=_(M);V=j(Ee,X),Ee.forEach(f),ee.forEach(f),Y=J(U),$=p(U,"DIV",{class:!0});var te=_($);y=p(te,"P",{class:!0});var xe=_(y);I&&I.l(xe),xe.forEach(f),C=J(te),S&&S.l(te),O=J(te),F=p(te,"P",{class:!0});var de=_(F);z=j(de,"Duration: "),pe=j(de,G),de.forEach(f),te.forEach(f),U.forEach(f),this.h()},h(){c(l,"class",a="mr-1.5 inline-block w-2 h-2 rounded-full "+hs(r[0].status)),c(o,"class","flex items-center justify-between text-xs font-medium text-gray-900"),c(D,"class",k="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-"+ht(r[0].status)+"-100 text-"+ht(r[0].status)+"-700"),c(s,"class","flex items-center justify-between w-full"),c(M,"class","w-full text-sm text-gray-500 truncate"),c(t,"class","flex flex-col items-start px-2.5 py-1.5"),c(y,"class","text-xs text-gray-500"),c(F,"class","text-xs text-gray-500"),c($,"class","border-t border-gray-200 border-dashed px-2.5 py-1.5"),c(e,"type","button"),c(e,"class","w-full text-left relative rounded-md border border-gray-300 bg-white shadow-sm hover:border-gray-400 focus:outline-none focus-visible:border-blue-500 focus-visible:ring-1 focus-visible:ring-blue-500")},m(w,U){K(w,e,U),n(e,t),n(t,s),n(s,o),n(o,l),n(o,u),n(o,m),n(o,i),n(o,P),n(s,g),n(s,D),n(D,T),n(t,v),n(t,M),n(M,V),n(e,Y),n(e,$),n($,y),I&&I.m(y,null),n($,C),S&&S.m($,null),n($,O),n($,F),n(F,z),n(F,pe),_e||(Me=[dt(e,"contextmenu",r[13]),dt(e,"click",r[14])],_e=!0)},p(w,[U]){U&1&&a!==(a="mr-1.5 inline-block w-2 h-2 rounded-full "+hs(w[0].status))&&c(l,"class",a),U&1&&d!==(d=w[0].project_uid+"")&&W(m,d),U&1&&b!==(b=w[0].uid+"")&&W(P,b),U&1&&A!==(A=w[0].status+"")&&W(T,A),U&1&&k!==(k="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-"+ht(w[0].status)+"-100 text-"+ht(w[0].status)+"-700")&&c(D,"class",k),U&65&&X!==(X=(w[0].job_type&&w[6][w[0].job_type]?w[6][w[0].job_type].title:w[0].job_type)+"")&&W(V,X),L===(L=me(w))&&I?I.p(w,U):(I&&I.d(1),I=L&&L(w),I&&(I.c(),I.m(y,null))),oe===(oe=$e(w))&&S?S.p(w,U):(S&&S.d(1),S=oe&&oe(w),S&&(S.c(),S.m($,O)))},i:ne,o:ne,d(w){w&&f(e),I&&I.d(),S&&S.d(),_e=!1,As(Me)}}}function pr(r,e,t){let s,o,l,a,u,d,m,i;ke(r,zs,v=>t(10,a=v)),ke(r,Qs,v=>t(11,u=v)),ke(r,Bs,v=>t(12,d=v)),ke(r,Ls,v=>t(6,m=v)),ke(r,Os,v=>t(7,i=v));let{doc:b}=e,{showMenu:P}=e,g="-";const D=async(v,M)=>{await Hs.core.killJob(v,M)},A=()=>Vs(Fs(b));ns(()=>{let v=ps(b);v.getTime()!==0&&(new Date().getTime()-v.getTime())/1e3>60?t(3,g=_s(v,!1,!0)):t(3,g="< 1 min");const M=setInterval(()=>{v=ps(b),v.getTime()!==0&&t(3,g=_s(v,!1,!0))},6e4);return()=>clearInterval(M)});const T=v=>s&&P(v,l),k=()=>Gs(b.project_uid,b.uid);return r.$$set=v=>{"doc"in v&&t(0,b=v.doc),"showMenu"in v&&t(1,P=v.showMenu)},r.$$.update=()=>{r.$$.dirty&6145&&t(5,s=d||u.includes(b.project_uid)),r.$$.dirty&1025&&t(2,o=a.find(v=>v.id===b.created_by_user_id)),r.$$.dirty&1&&t(4,l=tr(b))},[b,P,o,g,l,s,m,i,A,D,a,u,d,T,k]}class _r extends tt{constructor(e){super();st(this,e,pr,hr,rt,{doc:0,showMenu:1,killJob:9})}get killJob(){return this.$$.ctx[9]}}const mr=r=>({}),ms=r=>({}),br=r=>({}),bs=r=>({});function gr(r){let e,t;return e=new sr({props:{modifier:"text-gray-600"}}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){ce(e,s,o),t=!0},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function vr(r){let e,t;return e=new rr({props:{modifier:"text-gray-600"}}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){ce(e,s,o),t=!0},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function gs(r){let e,t;const s=r[3].default,o=wt(s,r,r[2],null);return{c(){e=h("div"),o&&o.c(),this.h()},l(l){e=p(l,"DIV",{class:!0});var a=_(e);o&&o.l(a),a.forEach(f),this.h()},h(){c(e,"class","max-w-9xl w-full mx-auto px-2 py-1")},m(l,a){K(l,e,a),o&&o.m(e,null),t=!0},p(l,a){o&&o.p&&(!t||a&4)&&kt(o,s,l,l[2],t?Et(s,l[2],a,null):$t(l[2]),null)},i(l){t||(H(o,l),t=!0)},o(l){q(o,l),t=!1},d(l){l&&f(e),o&&o.d(l)}}}function yr(r){let e,t,s,o,l,a,u,d,m,i,b,P,g,D,A;const T=r[3].icon,k=wt(T,r,r[2],bs),v=r[3].badge,M=wt(v,r,r[2],ms),X=[vr,gr],V=[];function Y(y,C){return y[0]?0:1}i=Y(r),b=V[i]=X[i](r);let $=r[0]&&gs(r);return{c(){e=h("div"),t=h("button"),s=h("div"),k&&k.c(),o=x(),l=h("h3"),a=E(r[1]),u=x(),d=h("div"),M&&M.c(),m=x(),b.c(),P=x(),$&&$.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var C=_(e);t=p(C,"BUTTON",{type:!0,class:!0});var O=_(t);s=p(O,"DIV",{class:!0});var F=_(s);k&&k.l(F),o=J(F),l=p(F,"H3",{class:!0});var z=_(l);a=j(z,r[1]),z.forEach(f),F.forEach(f),u=J(O),d=p(O,"DIV",{class:!0});var G=_(d);M&&M.l(G),m=J(G),b.l(G),G.forEach(f),O.forEach(f),P=J(C),$&&$.l(C),C.forEach(f),this.h()},h(){c(l,"class","text-sm leading-6 font-medium text-gray-900 dark:text-gray-100"),c(s,"class","flex items-center space-x-1"),c(d,"class","inline-flex items-center gap-x-2"),c(t,"type","button"),c(t,"class","sticky top-0 flex justify-between items-center flex-shrink-0 w-full max-w-9xl mx-auto px-3 h-9 font-medium bg-gray-100 z-3 3xl:top-2 3xl:rounded-md hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-3 focus-visible:ring-offset-gray-100 focus-visible:ring-inset"),c(e,"class","flex flex-col")},m(y,C){K(y,e,C),n(e,t),n(t,s),k&&k.m(s,null),n(s,o),n(s,l),n(l,a),n(t,u),n(t,d),M&&M.m(d,null),n(d,m),V[i].m(d,null),n(e,P),$&&$.m(e,null),g=!0,D||(A=dt(t,"click",r[4]),D=!0)},p(y,[C]){k&&k.p&&(!g||C&4)&&kt(k,T,y,y[2],g?Et(T,y[2],C,br):$t(y[2]),bs),(!g||C&2)&&W(a,y[1]),M&&M.p&&(!g||C&4)&&kt(M,v,y,y[2],g?Et(v,y[2],C,mr):$t(y[2]),ms);let O=i;i=Y(y),i!==O&&(jt(),q(V[O],1,1,()=>{V[O]=null}),Dt(),b=V[i],b||(b=V[i]=X[i](y),b.c()),H(b,1),b.m(d,null)),y[0]?$?($.p(y,C),C&1&&H($,1)):($=gs(y),$.c(),H($,1),$.m(e,null)):$&&(jt(),q($,1,1,()=>{$=null}),Dt())},i(y){g||(H(k,y),H(M,y),H(b),H($),g=!0)},o(y){q(k,y),q(M,y),q(b),q($),g=!1},d(y){y&&f(e),k&&k.d(y),M&&M.d(y),V[i].d(),$&&$.d(),D=!1,A()}}}function wr(r,e,t){let{$$slots:s={},$$scope:o}=e,{title:l=""}=e,{expanded:a=!1}=e;const u=()=>{t(0,a=!a)};return r.$$set=d=>{"title"in d&&t(1,l=d.title),"expanded"in d&&t(0,a=d.expanded),"$$scope"in d&&t(2,o=d.$$scope)},[a,l,o,s,u]}class vs extends tt{constructor(e){super();st(this,e,wr,yr,rt,{title:1,expanded:0})}}function kr(r){let e,t,s,o,l,a,u,d,m,i,b,P,g;return{c(){e=h("div"),t=h("button"),s=h("span"),o=E("My Jobs"),l=x(),a=h("span"),u=E("All Jobs"),d=x(),m=h("span"),this.h()},l(D){e=p(D,"DIV",{class:!0});var A=_(e);t=p(A,"BUTTON",{type:!0,id:!0,class:!0,role:!0,"aria-checked":!0});var T=_(t);s=p(T,"SPAN",{class:!0});var k=_(s);o=j(k,"My Jobs"),k.forEach(f),l=J(T),a=p(T,"SPAN",{class:!0});var v=_(a);u=j(v,"All Jobs"),v.forEach(f),d=J(T),m=p(T,"SPAN",{"aria-hidden":!0,class:!0}),_(m).forEach(f),T.forEach(f),A.forEach(f),this.h()},h(){c(s,"class","font-medium text-2xs whitespace-nowrap z-5 hover:text-gray-800"),c(a,"class","font-medium text-2xs whitespace-nowrap z-5 hover:text-gray-800"),c(m,"aria-hidden","true"),c(m,"class",i=""+((r[1]===!0?"translate-x-14.5":"translate-x-0")+" absolute left-0 top-0 h-5.5 w-14.5 rounded bg-white shadow pointer-events-none transform ring-0 transition ease-in-out duration-200")),c(t,"type","button"),c(t,"id","user-toggle"),c(t,"class","relative inline-flex flex-shrink-0 justify-around items-center gap-x-1 h-6.5 w-30 border-2 border-transparent rounded bg-gray-200 cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-600"),c(t,"role","switch"),c(t,"aria-checked",b=r[1]===!0?"true":"false"),c(e,"class","flex gap-1.5 rounded-md shadow-inner border border-gray-300")},m(D,A){K(D,e,A),n(e,t),n(t,s),n(s,o),n(t,l),n(t,a),n(a,u),n(t,d),n(t,m),P||(g=dt(t,"click",Ms(r[2])),P=!0)},p(D,[A]){A&2&&i!==(i=""+((D[1]===!0?"translate-x-14.5":"translate-x-0")+" absolute left-0 top-0 h-5.5 w-14.5 rounded bg-white shadow pointer-events-none transform ring-0 transition ease-in-out duration-200"))&&c(m,"class",i),A&2&&b!==(b=D[1]===!0?"true":"false")&&c(t,"aria-checked",b)},i:ne,o:ne,d(D){D&&f(e),P=!1,g()}}}function $r(r,e,t){let s,o=ne,l=()=>(o(),o=xs(a,d=>t(1,s=d)),a);r.$$.on_destroy.push(()=>o());let{showAllUsers:a=Js(!1)}=e;l();const u=()=>{Ps(a,s=!s,s)};return r.$$set=d=>{"showAllUsers"in d&&l(t(0,a=d.showAllUsers))},[a,s,u]}class Er extends tt{constructor(e){super();st(this,e,$r,kr,rt,{showAllUsers:0})}}function ys(r,e,t){const s=r.slice();return s[11]=e[t],s}function jr(r){let e,t;return e=new nr({}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){ce(e,s,o),t=!0},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function ws(r){let e,t,s,o;return{c(){e=h("div"),t=h("h3"),s=E("No applicable recent jobs"),o=x(),this.h()},l(l){e=p(l,"DIV",{class:!0});var a=_(e);t=p(a,"H3",{class:!0});var u=_(t);s=j(u,"No applicable recent jobs"),u.forEach(f),o=J(a),a.forEach(f),this.h()},h(){c(t,"class","font-medium text-sm text-blue-500"),c(e,"class","flex justify-center items-center py-2.5 mt-1 rounded-md border border-blue-300 bg-blue-100")},m(l,a){K(l,e,a),n(e,t),n(t,s),n(e,o)},p:ne,d(l){l&&f(e)}}}function ks(r,e){let t,s,o;return s=new _r({props:{doc:e[11],showMenu:e[0]}}),{key:r,first:null,c(){t=ds(),ie(s.$$.fragment),this.h()},l(l){t=ds(),ue(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,a){K(l,t,a),ce(s,l,a),o=!0},p(l,a){e=l;const u={};a&4&&(u.doc=e[11]),a&1&&(u.showMenu=e[0]),s.$set(u)},i(l){o||(H(s.$$.fragment,l),o=!0)},o(l){q(s.$$.fragment,l),o=!1},d(l){l&&f(t),fe(s,l)}}}function Dr(r){let e,t=[],s=new Map,o,l=r[2];const a=d=>`${d[11].project_uid}-${d[11].uid}`;for(let d=0;d<l.length;d+=1){let m=ys(r,l,d),i=a(m);s.set(i,t[d]=ks(i,m))}let u=null;return l.length||(u=ws()),{c(){e=h("div");for(let d=0;d<t.length;d+=1)t[d].c();u&&u.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var m=_(e);for(let i=0;i<t.length;i+=1)t[i].l(m);u&&u.l(m),m.forEach(f),this.h()},h(){c(e,"class","flex flex-col gap-y-1.5")},m(d,m){K(d,e,m);for(let i=0;i<t.length;i+=1)t[i].m(e,null);u&&u.m(e,null),o=!0},p(d,m){m&5&&(l=d[2],jt(),t=Cs(t,m,a,1,d,l,s,e,Is,ks,null,ys),Dt(),!l.length&&u?u.p(d,m):l.length?u&&(u.d(1),u=null):(u=ws(),u.c(),u.m(e,null)))},i(d){if(!o){for(let m=0;m<l.length;m+=1)H(t[m]);o=!0}},o(d){for(let m=0;m<t.length;m+=1)q(t[m]);o=!1},d(d){d&&f(e);for(let m=0;m<t.length;m+=1)t[m].d();u&&u.d()}}}function Tr(r){let e,t;return e=new Er({props:{slot:"badge",showAllUsers:At}}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){ce(e,s,o),t=!0},p:ne,i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function Ar(r){let e,t,s,o,l;return t=new vs({props:{title:"Instance Stats",expanded:!0,$$slots:{default:[jr]},$$scope:{ctx:r}}}),o=new vs({props:{title:"Recent Jobs",expanded:!0,$$slots:{badge:[Tr],default:[Dr]},$$scope:{ctx:r}}}),{c(){e=h("div"),ie(t.$$.fragment),s=x(),ie(o.$$.fragment),this.h()},l(a){e=p(a,"DIV",{slot:!0,class:!0});var u=_(e);ue(t.$$.fragment,u),s=J(u),ue(o.$$.fragment,u),u.forEach(f),this.h()},h(){c(e,"slot","content"),c(e,"class","flex-grow pt-0.5")},m(a,u){K(a,e,u),ce(t,e,null),n(e,s),ce(o,e,null),l=!0},p(a,u){const d={};u&16384&&(d.$$scope={dirty:u,ctx:a}),t.$set(d);const m={};u&16389&&(m.$$scope={dirty:u,ctx:a}),o.$set(m)},i(a){l||(H(t.$$.fragment,a),H(o.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),q(o.$$.fragment,a),l=!1},d(a){a&&f(e),fe(t),fe(o)}}}function Mr(r){let e,t;return e=new lr({props:{args:r[10],closeMenu:r[1]}}),{c(){ie(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){ce(e,s,o),t=!0},p(s,o){const l={};o&1024&&(l.args=s[10]),o&2&&(l.closeMenu=s[1]),e.$set(l)},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function xr(r){let e,t,s,o,l,a;e=new er({props:{header:!1,$$slots:{content:[Ar]},$$scope:{ctx:r}}});function u(i){r[6](i)}function d(i){r[7](i)}let m={modifier:"text-xs",$$slots:{default:[Mr,({args:i})=>({10:i}),({args:i})=>i?1024:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(m.handleShowMenu=r[0]),r[1]!==void 0&&(m.closeMenu=r[1]),s=new Zs({props:m}),us.push(()=>cs(s,"handleShowMenu",u)),us.push(()=>cs(s,"closeMenu",d)),{c(){ie(e.$$.fragment),t=x(),ie(s.$$.fragment)},l(i){ue(e.$$.fragment,i),t=J(i),ue(s.$$.fragment,i)},m(i,b){ce(e,i,b),K(i,t,b),ce(s,i,b),a=!0},p(i,[b]){const P={};b&16389&&(P.$$scope={dirty:b,ctx:i}),e.$set(P);const g={};b&17410&&(g.$$scope={dirty:b,ctx:i}),!o&&b&1&&(o=!0,g.handleShowMenu=i[0],fs(()=>o=!1)),!l&&b&2&&(l=!0,g.closeMenu=i[1],fs(()=>l=!1)),s.$set(g)},i(i){a||(H(e.$$.fragment,i),H(s.$$.fragment,i),a=!0)},o(i){q(e.$$.fragment,i),q(s.$$.fragment,i),a=!1},d(i){fe(e,i),i&&f(t),fe(s,i)}}}const At=Ws(qs.recentJobsUserFilter,!1);let pt=20;function Jr(r,e,t){let s,o,l;ke(r,Ks,g=>t(4,s=g)),ke(r,At,g=>t(5,o=g));let a,u;const d=g=>{var D,A,T,k,v,M;return et(Ze({},g),{updated_at:new Date(Math.max((A=(D=g.completed_at)==null?void 0:D.getTime())!=null?A:0,(k=(T=g.failed_at)==null?void 0:T.getTime())!=null?k:0,(M=(v=g.killed_at)==null?void 0:v.getTime())!=null?M:0))})},m=(g,D)=>!g||!D?0:Ys(g,D,"desc"),i=Ss([Xs,At],([g,D])=>g.filter(A=>D?!0:A.created_by_user_id===s).map(A=>d(A)).sort((A,T)=>m(A.updated_at,T.updated_at)).slice(0,pt));ke(r,i,g=>t(2,l=g));function b(g){a=g,t(0,a)}function P(g){u=g,t(1,u)}return r.$$.update=()=>{r.$$.dirty&48&&Tt("sidebarRecentCompletedJobs","recentJobs",null,et(Ze({},o?{}:{created_by_user_id:s}),{status:["completed"],sort_option:"completed_at",sort_order:-1,limit:pt})),r.$$.dirty&48&&Tt("sidebarRecentFailedJobs","recentJobs",null,et(Ze({},o?{}:{created_by_user_id:s}),{status:["failed"],sort_option:"failed_at",sort_order:-1,limit:pt})),r.$$.dirty&48&&Tt("sidebarRecentKilledJobs","recentJobs",null,et(Ze({},o?{}:{created_by_user_id:s}),{status:["killed"],sort_option:"killed_at",sort_order:-1,limit:pt}))},[a,u,l,i,s,o,b,P]}class al extends tt{constructor(e){super();st(this,e,Jr,xr,rt,{})}}export{al as default};
