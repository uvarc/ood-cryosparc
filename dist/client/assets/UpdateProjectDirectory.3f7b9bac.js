import{S as Ue,h as Pe,s as ke,C as be,D as ye,E as ge,o as ve,t as _e,H as we,L as Ae,Q as i,I as w,a6 as g,R as c,T as u,p as d,J as x,a7 as v,U as s,a9 as xe,k as Te,a2 as e,aa as je,K as oe,ae as Ce,a3 as Ne,a4 as $e,ad as Ve}from"./vendor.3ae73048.js";import{a as De}from"./index.2e3bb17a.js";import{u as Se,c9 as Fe}from"./index.146c2037.js";import{b7 as Ee,aM as Ie}from"./router.1b465492.js";import"./types.8cb6216c.js";import{A as Re}from"./Alert.ff361b6c.js";import{I as Be}from"./Icon.61279884.js";import{F as He}from"./FolderAdd.663a788a.js";function Le(a){let r,o,t,n,l,S,p,F,U,z,O,b,P,q,J,k,K,M,A,Q,Z,_,I,G,W,m,X,j,Y,ee,$,y,te,R,ae,D,re,E,T,se,le;return l=new Be({props:{src:He,modifier:"stroke-2 text-blue-600",size:6,type:"outline"}}),{c(){r=i("div"),o=i("div"),t=i("div"),n=i("div"),be(l.$$.fragment),S=w(),p=i("h2"),F=g("Update "),U=g(a[2]),z=g(" Directory Name"),O=w(),b=i("div"),P=i("h3"),q=g("This action will change the project directory name on disk and update the project directory path in the database."),J=w(),k=i("p"),K=g("Do not use this function to register with CryoSPARC a directory name change that has already occurred on disk."),M=w(),A=i("p"),Q=g("The new directory name must not cause the full directory path to match the path of any existing project."),Z=w(),_=i("div"),I=i("label"),G=g("Please type a new directory name (not the entire path)."),W=w(),m=i("input"),X=w(),j=i("span"),Y=g("Invalid directory name"),ee=w(),$=i("div"),y=i("button"),te=g("Update"),ae=w(),D=i("button"),re=g("Cancel"),this.h()},l(f){r=c(f,"DIV",{class:!0});var h=u(r);o=c(h,"DIV",{class:!0});var C=u(o);t=c(C,"DIV",{class:!0});var B=u(t);n=c(B,"DIV",{class:!0});var ie=u(n);ye(l.$$.fragment,ie),ie.forEach(d),S=x(B),p=c(B,"H2",{class:!0,id:!0});var H=u(p);F=v(H,"Update "),U=v(H,a[2]),z=v(H," Directory Name"),H.forEach(d),B.forEach(d),O=x(C),b=c(C,"DIV",{class:!0});var N=u(b);P=c(N,"H3",{class:!0});var ce=u(P);q=v(ce,"This action will change the project directory name on disk and update the project directory path in the database."),ce.forEach(d),J=x(N),k=c(N,"P",{class:!0});var de=u(k);K=v(de,"Do not use this function to register with CryoSPARC a directory name change that has already occurred on disk."),de.forEach(d),M=x(N),A=c(N,"P",{class:!0});var ue=u(A);Q=v(ue,"The new directory name must not cause the full directory path to match the path of any existing project."),ue.forEach(d),N.forEach(d),Z=x(C),_=c(C,"DIV",{});var V=u(_);I=c(V,"LABEL",{for:!0,class:!0});var me=u(I);G=v(me,"Please type a new directory name (not the entire path)."),me.forEach(d),W=x(V),m=c(V,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),X=x(V),j=c(V,"SPAN",{class:!0});var fe=u(j);Y=v(fe,"Invalid directory name"),fe.forEach(d),V.forEach(d),C.forEach(d),ee=x(h),$=c(h,"DIV",{class:!0});var L=u($);y=c(L,"BUTTON",{type:!0,class:!0});var pe=u(y);te=v(pe,"Update"),pe.forEach(d),ae=x(L),D=c(L,"BUTTON",{type:!0,class:!0});var he=u(D);re=v(he,"Cancel"),he.forEach(d),L.forEach(d),h.forEach(d),this.h()},h(){s(n,"class","flex items-center justify-center h-12 w-12 mx-auto mb-4 rounded-full bg-blue-100"),s(p,"class","text-lg leading-6 font-medium text-gray-900"),s(p,"id","modal-headline"),s(t,"class","mb-6 text-center"),s(P,"class","mb-2 text-sm font-semibold text-gray-700"),s(k,"class","text-sm text-gray-700"),s(A,"class","mt-1 text-sm text-gray-700"),s(b,"class","mb-6 py-3 px-4 bg-gray-100 rounded-md text-left"),s(I,"for","new-project-directory"),s(I,"class","block ml-1 mb-1 text-xs text-left text-gray-700"),s(m,"type","text"),s(m,"name","new-project-directory"),s(m,"id","new-project-directory"),s(m,"class","shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"),s(m,"placeholder","Directory name"),s(j,"class","text-xs text-red-600 opacity-0"),xe(j,"opacity-100",a[0].length&&!a[1]),s(o,"class","mb-2"),y.disabled=R=!a[1],s(y,"type","button"),s(y,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-40 disabled:cursor-not-allowed sm:col-start-2 sm:text-sm"),s(D,"type","button"),s(D,"class","mt-3 w-full inline-flex justify-center rounded-md border border-red-400 shadow-sm px-4 py-2 bg-white text-base font-medium text-red-600 hover:bg-gray-50 hover:text-red-700 hover:border-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:col-start-1 sm:text-sm"),s($,"class","sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"),s(r,"class","flex flex-col justify-between w-100 px-4 pt-5 pb-4 bg-white rounded-lg text-left shadow-xl transform transition-all sm:align-middle sm:max-w-md w-full")},m(f,h){Te(f,r,h),e(r,o),e(o,t),e(t,n),ge(l,n,null),e(t,S),e(t,p),e(p,F),e(p,U),e(p,z),e(o,O),e(o,b),e(b,P),e(P,q),e(b,J),e(b,k),e(k,K),e(b,M),e(b,A),e(A,Q),e(o,Z),e(o,_),e(_,I),e(I,G),e(_,W),e(_,m),je(m,a[0]),e(_,X),e(_,j),e(j,Y),e(r,ee),e(r,$),e($,y),e(y,te),e($,ae),e($,D),e(D,re),T=!0,se||(le=[oe(m,"input",a[5]),oe(y,"click",a[3]),oe(D,"click",a[4])],se=!0)},p(f,h){a=f,(!T||h&4)&&Ce(U,a[2]),h&1&&m.value!==a[0]&&je(m,a[0]),h&3&&xe(j,"opacity-100",a[0].length&&!a[1]),(!T||h&2&&R!==(R=!a[1]))&&(y.disabled=R)},i(f){T||(ve(l.$$.fragment,f),Ne(()=>{E||(E=$e(r,De,{duration:ne,start:.95},!0)),E.run(1)}),T=!0)},o(f){_e(l.$$.fragment,f),E||(E=$e(r,De,{duration:ne,start:.95},!1)),E.run(0),T=!1},d(f){f&&d(r),we(l),f&&E&&E.end(),se=!1,Ve(le)}}}function ze(a){let r,o;return r=new Re({props:{$$slots:{default:[Le]},$$scope:{ctx:a}}}),{c(){be(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,n){ge(r,t,n),o=!0},p(t,[n]){const l={};n&71&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){o||(ve(r.$$.fragment,t),o=!0)},o(t){_e(r.$$.fragment,t),o=!1},d(t){we(r,t)}}}const ne=250,Oe=/^([a-zA-Z0-9][^*/><?|:]*)$/;function qe(a,r,o){let t,n;Ae(a,Ee,U=>o(2,n=U));let l="";const S=()=>{!t||!n||(Se.core.renameProjectDirectory(n,l),Ie.set(!1))},p=async()=>{Ie.set(!1),await Fe(ne),Ee.set(null)};function F(){l=this.value,o(0,l)}return a.$$.update=()=>{a.$$.dirty&1&&o(1,t=Oe.test(l))},[l,t,n,S,p,F]}class Ye extends Ue{constructor(r){super();Pe(this,r,qe,ze,ke,{})}}export{Ye as default};
