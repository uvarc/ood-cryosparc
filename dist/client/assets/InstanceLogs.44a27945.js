var ve=Object.defineProperty;var Y=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var ee=(t,e,n)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||(e={}))be.call(e,n)&&ee(t,n,e[n]);if(Y)for(var n of Y(e))we.call(e,n)&&ee(t,n,e[n]);return t};import{S as ye,h as Ee,s as Se,Q as v,a6 as J,R as b,T as w,a7 as P,p as g,k as F,a2 as u,ac as ne,I as A,C as oe,J as U,D as se,U as y,a3 as ae,ar as B,E as re,K as H,ae as De,o as ie,t as le,ak as ce,H as de,ad as Ie,as as ue}from"./vendor.3ae73048.js";import{bg as ke}from"./jobs.7ab064ef.js";import{ai as je,u as K}from"./index.146c2037.js";import{I as pe}from"./Icon.61279884.js";import{D as fe}from"./Download.0ce79951.js";import{R as Q}from"./Refresh.40401873.js";import"./router.1b465492.js";import"./helpers.7177ca38.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";const Oe=async()=>{const t=new ke,e=je.map(s=>K.core.getLog(s).then(l=>{t.file(`${s}_${new Date().toISOString().replace(/[:-]/gi,"_")}.log`,l)})),n=K.core.getRuntimeDiagnostics().then(s=>{t.file(`runtime_diagnostics_${new Date().toISOString().replace(/[:-]/gi,"_")}.json`,JSON.stringify(s))}),r=()=>{var l,S;const s={};window&&(s.user_agent=window.navigator.userAgent,window.navigator.userAgentData&&(s.user_agent_data=te({},window.navigator.userAgentData.toJSON())),s.screen={width:window.screen.width,height:window.screen.height,color_depth:window.screen.colorDepth,orientation:(S=(l=window==null?void 0:window.screen)==null?void 0:l.orientation)==null?void 0:S.type},s.inner_width=window.innerWidth,s.inner_height=window.innerHeight,s.device_pixel_ratio=window.devicePixelRatio),t.file(`browser_diagnostics_${new Date().toISOString().replace(/[:-]/gi,"_")}.json`,JSON.stringify(s))};await Promise.all([...e,n,r()]);const c=await t.generateAsync({type:"base64"}),i=document.createElement("a");i.href=`data:application/zip;base64,${c}`,i.download=`system_report_${new Date().toISOString().replace(/[:-]/gi,"_")}.zip`,i.click()};function _e(t,e,n){const r=t.slice();return r[12]=e[n],r}function ge(t,e,n){const r=t.slice();return r[15]=e[n],r}function he(t){let e,n=t[15]+"",r,c;return{c(){e=v("option"),r=J(n),this.h()},l(i){e=b(i,"OPTION",{});var s=w(e);r=P(s,n),s.forEach(g),this.h()},h(){e.__value=c=t[15],e.value=e.__value},m(i,s){F(i,e,s),u(e,r)},p:ne,d(i){i&&g(e)}}}function me(t){let e,n=t[12]+"",r,c,i;return{c(){e=v("option"),r=J(n),c=J(" latest lines"),this.h()},l(s){e=b(s,"OPTION",{});var l=w(e);r=P(l,n),c=P(l," latest lines"),l.forEach(g),this.h()},h(){e.__value=i=t[12],e.value=e.__value},m(s,l){F(s,e,l),u(e,r),u(e,c)},p:ne,d(s){s&&g(e)}}}function Re(t){let e,n,r,c,i,s,l,S,h,m,T,E,D,N,C,I,O,z,V,q,W,R=t[5],f=[];for(let o=0;o<R.length;o+=1)f[o]=he(ge(t,R,o));let $=t[6],_=[];for(let o=0;o<$.length;o+=1)_[o]=me(_e(t,$,o));return m=new pe({props:{src:Q,modifier:t[3]?"animate-spin animate-reverse":""}}),D=new pe({props:{src:t[4]?Q:fe,modifier:"mr-1 "+(t[4]?"animate-spin animate-reverse":"")}}),{c(){e=v("div"),n=v("div"),r=v("div"),c=v("select");for(let o=0;o<f.length;o+=1)f[o].c();i=A(),s=v("div"),l=v("select");for(let o=0;o<_.length;o+=1)_[o].c();S=A(),h=v("button"),oe(m.$$.fragment),T=A(),E=v("button"),oe(D.$$.fragment),N=J(`
      Download Report`),C=A(),I=v("div"),O=v("pre"),z=J(t[2]),this.h()},l(o){e=b(o,"DIV",{class:!0});var p=w(e);n=b(p,"DIV",{class:!0});var d=w(n);r=b(d,"DIV",{class:!0});var L=w(r);c=b(L,"SELECT",{class:!0});var a=w(c);for(let j=0;j<f.length;j+=1)f[j].l(a);a.forEach(g),L.forEach(g),i=U(d),s=b(d,"DIV",{class:!0});var k=w(s);l=b(k,"SELECT",{class:!0});var Z=w(l);for(let j=0;j<_.length;j+=1)_[j].l(Z);Z.forEach(g),k.forEach(g),S=U(d),h=b(d,"BUTTON",{type:!0,class:!0});var G=w(h);se(m.$$.fragment,G),G.forEach(g),T=U(d),E=b(d,"BUTTON",{type:!0,class:!0});var x=w(E);se(D.$$.fragment,x),N=P(x,`
      Download Report`),x.forEach(g),d.forEach(g),C=U(p),I=b(p,"DIV",{class:!0});var M=w(I);O=b(M,"PRE",{class:!0});var X=w(O);z=P(X,t[2]),X.forEach(g),M.forEach(g),p.forEach(g),this.h()},h(){y(c,"class","block text-sm px-2 py-1 pr-8 leading-5 rounded-md border border-gray-300 transition duration-150 ease-in-out"),t[0]===void 0&&ae(()=>t[9].call(c)),y(r,"class","inline-block rounded-md shadow-sm"),y(l,"class","block text-sm px-2 py-1 pr-8 leading-5 rounded-md border border-gray-300 transition duration-150 ease-in-out"),t[1]===void 0&&ae(()=>t[10].call(l)),y(s,"class","inline-block rounded-md shadow-sm"),y(h,"type","button"),y(h,"class","ml-2 inline-flex items-center p-1 border border-gray-300 rounded-md text-gray-500 bg-white hover:text-gray-600 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150"),y(E,"type","button"),y(E,"class","inline-flex items-center justify-center px-1.5 py-1 border border-transparent shadow-sm text-sm font-medium rounded-md text-blue-800 bg-blue-100 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500"),y(n,"class","sticky top-0 flex items-center bg-gray-50 border-b border-gray-200 space-x-2 px-4 py-2"),y(O,"class","svelte-civ2t0"),y(I,"class","px-4 py-4"),y(e,"class","h-full overflow-auto")},m(o,p){F(o,e,p),u(e,n),u(n,r),u(r,c);for(let d=0;d<f.length;d+=1)f[d].m(c,null);B(c,t[0]),u(n,i),u(n,s),u(s,l);for(let d=0;d<_.length;d+=1)_[d].m(l,null);B(l,t[1]),u(n,S),u(n,h),re(m,h,null),u(n,T),u(n,E),re(D,E,null),u(E,N),u(e,C),u(e,I),u(I,O),u(O,z),V=!0,q||(W=[H(c,"change",t[9]),H(l,"change",t[10]),H(h,"click",t[11]),H(E,"click",t[8])],q=!0)},p(o,[p]){if(p&32){R=o[5];let a;for(a=0;a<R.length;a+=1){const k=ge(o,R,a);f[a]?f[a].p(k,p):(f[a]=he(k),f[a].c(),f[a].m(c,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=R.length}if(p&33&&B(c,o[0]),p&64){$=o[6];let a;for(a=0;a<$.length;a+=1){const k=_e(o,$,a);_[a]?_[a].p(k,p):(_[a]=me(k),_[a].c(),_[a].m(l,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=$.length}p&66&&B(l,o[1]);const d={};p&8&&(d.modifier=o[3]?"animate-spin animate-reverse":""),m.$set(d);const L={};p&16&&(L.src=o[4]?Q:fe),p&16&&(L.modifier="mr-1 "+(o[4]?"animate-spin animate-reverse":"")),D.$set(L),(!V||p&4)&&De(z,o[2])},i(o){V||(ie(m.$$.fragment,o),ie(D.$$.fragment,o),V=!0)},o(o){le(m.$$.fragment,o),le(D.$$.fragment,o),V=!1},d(o){o&&g(e),ce(f,o),ce(_,o),de(m),de(D),q=!1,Ie(W)}}}function $e(t,e,n){const r=["command_core","command_vis","command_rtp","database","app","app_api","app_legacy"],c=[10,50,100,200,500];let i=r[0],s=c[1],l=null,S=!1,h=!1;const m=async(C,I)=>{n(3,S=!0),n(2,l=await K.core.getLatestSupervisorLogs(C,I)),n(3,S=!1)},T=async()=>{n(4,h=!0),await Oe(),n(4,h=!1)};function E(){i=ue(this),n(0,i),n(5,r)}function D(){s=ue(this),n(1,s),n(6,c)}const N=()=>typeof i=="string"&&i!=="none"&&typeof s=="number"&&m(i,s);return t.$$.update=()=>{t.$$.dirty&3&&typeof i=="string"&&i!=="none"&&typeof s=="number"&&m(i,s)},[i,s,l,S,h,r,c,m,T,E,D,N]}class He extends ye{constructor(e){super();Ee(this,e,$e,Re,Se,{})}}export{He as default};
