import{S as X,h as Z,s as G,y as ne,Q as I,I as P,R as V,T as A,p,J as U,U as w,k as $,a2 as y,K as ae,z as ie,A as ce,B as ue,o as L,t as C,am as fe,l as B,m as R,u as me,a6 as N,a7 as z,ac as Q,ae as H,C as q,D as F,E as J,H as K,ak as x}from"./vendor.3ae73048.js";import{z as de}from"./index.146c2037.js";import{E as he}from"./Empty.1c3f0e9c.js";import{V as _e}from"./VolumeViewer.a8fbe7df.js";import{I as pe}from"./Icon.61279884.js";import"./router.1b465492.js";import"./lodash.7e9ccf5d.js";import"./index.9987ff70.js";import"./jobs.d50d1674.js";import"./helpers.7177ca38.js";import"./types.8cb6216c.js";import"./index.2e3bb17a.js";import"./Spinner.012207c4.js";import"./ChevronUp.0ab7bee0.js";import"./wNumb.f094d5b4.js";import"./ArrowsExpand.dfc75310.js";import"./CloudDownload.c1bd053b.js";import"./Authenticated.43a5e742.js";import"./auth.ae36c178.js";import"./createNew.a4a688d1.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./Logout.c3964a48.js";import"./index.11580965.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./cleanupData.f259a128.js";import"./Exclamation.f44359c6.js";import"./TagCount.d4471cb8.js";import"./Tag.2b4e7c42.js";import"./Workflow.261abe6c.js";import"./Database.55c9be70.js";import"./Search.fa01495d.js";import"./LightningBolt.e8bda490.js";import"./SidebarLeftOpen.3b7701dd.js";import"./Pause.3d6c3608.js";import"./Play.c51ba567.js";var be=[[{"fill-rule":"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z","clip-rule":"evenodd"}],[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"}]];function ge(r){let e;return{c(){e=I("span"),this.h()},l(t){e=V(t,"SPAN",{class:!0}),A(e).forEach(p),this.h()},h(){w(e,"class","inline-block w-2 h-2 rounded-full group-hover:bg-gray-300")},m(t,l){$(t,e,l)},d(t){t&&p(e)}}}function ke(r){let e;return{c(){e=I("span"),this.h()},l(t){e=V(t,"SPAN",{class:!0}),A(e).forEach(p),this.h()},h(){w(e,"class","inline-block w-2 h-2 rounded-full bg-blue-600")},m(t,l){$(t,e,l)},d(t){t&&p(e)}}}function ve(r){let e,t,l,s,n,o,a,i,d;function M(m,j){return m[0]?ke:ge}let E=M(r),f=E(r);const S=r[4].default,v=ne(S,r,r[3],null);return{c(){e=I("button"),t=I("div"),f.c(),s=P(),n=I("p"),v&&v.c(),this.h()},l(m){e=V(m,"BUTTON",{type:!0,class:!0});var j=A(e);t=V(j,"DIV",{class:!0});var h=A(t);f.l(h),h.forEach(p),s=U(j),n=V(j,"P",{class:!0});var g=A(n);v&&v.l(g),g.forEach(p),j.forEach(p),this.h()},h(){w(t,"class",l="w-4 h-4 rounded-full flex items-center justify-center border text-white "+(r[0]?r[2].checked:r[2].unchecked)),w(n,"class","ml-2 font-medium text-gray-700"),w(e,"type","button"),w(e,"class",o="w-full flex items-center group hover:bg-gray-100 rounded-md p-1 group "+r[1])},m(m,j){$(m,e,j),y(e,t),f.m(t,null),y(e,s),y(e,n),v&&v.m(n,null),a=!0,i||(d=ae(e,"click",r[5]),i=!0)},p(m,[j]){E!==(E=M(m))&&(f.d(1),f=E(m),f&&(f.c(),f.m(t,null))),(!a||j&1&&l!==(l="w-4 h-4 rounded-full flex items-center justify-center border text-white "+(m[0]?m[2].checked:m[2].unchecked)))&&w(t,"class",l),v&&v.p&&(!a||j&8)&&ie(v,S,m,m[3],a?ue(S,m[3],j,null):ce(m[3]),null),(!a||j&2&&o!==(o="w-full flex items-center group hover:bg-gray-100 rounded-md p-1 group "+m[1]))&&w(e,"class",o)},i(m){a||(L(v,m),a=!0)},o(m){C(v,m),a=!1},d(m){m&&p(e),f.d(),v&&v.d(m),i=!1,d()}}}function je(r,e,t){let{$$slots:l={},$$scope:s}=e,{checked:n=!1}=e,{modifier:o=""}=e;const a={checked:"bg-white border-blue-600",unchecked:"bg-white border-gray-300"};function i(d){fe.call(this,r,d)}return r.$$set=d=>{"checked"in d&&t(0,n=d.checked),"modifier"in d&&t(1,o=d.modifier),"$$scope"in d&&t(3,s=d.$$scope)},[n,o,a,s,l,i]}class ee extends X{constructor(e){super();Z(this,e,je,ve,G,{checked:0,modifier:1})}}function te(r,e,t){const l=r.slice();return l[18]=e[t],l}function le(r,e,t){const l=r.slice();return l[21]=e[t],l}function we(r){let e,t;return{c(){e=I("p"),t=N("No volumes"),this.h()},l(l){e=V(l,"P",{class:!0});var s=A(e);t=z(s,"No volumes"),s.forEach(p),this.h()},h(){w(e,"class","p-4 italic text-sm text-gray-500")},m(l,s){$(l,e,s),y(e,t)},p:Q,i:Q,o:Q,d(l){l&&p(e)}}}function ye(r){let e,t,l=r[2],s=[];for(let o=0;o<l.length;o+=1)s[o]=se(te(r,l,o));const n=o=>C(s[o],1,1,()=>{s[o]=null});return{c(){e=I("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=V(o,"UL",{class:!0});var a=A(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(p),this.h()},h(){w(e,"class","flex flex-col gap-1 p-2")},m(o,a){$(o,e,a);for(let i=0;i<s.length;i+=1)s[i].m(e,null);t=!0},p(o,a){if(a&1823){l=o[2];let i;for(i=0;i<l.length;i+=1){const d=te(o,l,i);s[i]?(s[i].p(d,a),L(s[i],1)):(s[i]=se(d),s[i].c(),L(s[i],1),s[i].m(e,null))}for(B(),i=l.length;i<s.length;i+=1)n(i);R()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)L(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)C(s[a]);t=!1},d(o){o&&p(e),x(s,o)}}}function Ee(r){let e=r[18].name+"",t,l,s=r[21].name+"",n;return{c(){t=N(e),l=N("."),n=N(s)},l(o){t=z(o,e),l=z(o,"."),n=z(o,s)},m(o,a){$(o,t,a),$(o,l,a),$(o,n,a)},p(o,a){a&4&&e!==(e=o[18].name+"")&&H(t,e),a&4&&s!==(s=o[21].name+"")&&H(n,s)},d(o){o&&p(t),o&&p(l),o&&p(n)}}}function re(r){let e,t,l;function s(){return r[15](r[18],r[21])}return t=new ee({props:{checked:r[0]===r[18].name&&r[1]===r[21].name,$$slots:{default:[Ee]},$$scope:{ctx:r}}}),t.$on("click",s),{c(){e=I("li"),q(t.$$.fragment),this.h()},l(n){e=V(n,"LI",{class:!0});var o=A(e);F(t.$$.fragment,o),o.forEach(p),this.h()},h(){w(e,"class","ml-7 text-2xs font-mono font-medium")},m(n,o){$(n,e,o),J(t,e,null),l=!0},p(n,o){r=n;const a={};o&7&&(a.checked=r[0]===r[18].name&&r[1]===r[21].name),o&16777220&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){l||(L(t.$$.fragment,n),l=!0)},o(n){C(t.$$.fragment,n),l=!1},d(n){n&&p(e),K(t)}}}function oe(r){let e,t,l;function s(){return r[16](r[18])}return t=new ee({props:{checked:r[0]===r[18].name&&r[3].length>0,$$slots:{default:[Se]},$$scope:{ctx:r}}}),t.$on("click",s),{c(){e=I("li"),q(t.$$.fragment),this.h()},l(n){e=V(n,"LI",{class:!0});var o=A(e);F(t.$$.fragment,o),o.forEach(p),this.h()},h(){w(e,"class","ml-7 text-2xs font-mono font-medium")},m(n,o){$(n,e,o),J(t,e,null),l=!0},p(n,o){r=n;const a={};o&13&&(a.checked=r[0]===r[18].name&&r[3].length>0),o&16777236&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){l||(L(t.$$.fragment,n),l=!0)},o(n){C(t.$$.fragment,n),l=!1},d(n){n&&p(e),K(t)}}}function Se(r){let e,t=r[4][r[18].name]+"",l,s,n,o;return n=new pe({props:{src:be,size:4,modifier:"text-purple-600"}}),{c(){e=I("span"),l=N(t),s=P(),q(n.$$.fragment),this.h()},l(a){e=V(a,"SPAN",{class:!0});var i=A(e);l=z(i,t),s=U(i),F(n.$$.fragment,i),i.forEach(p),this.h()},h(){w(e,"class","inline-flex items-center gap-1")},m(a,i){$(a,e,i),y(e,l),y(e,s),J(n,e,null),o=!0},p(a,i){(!o||i&20)&&t!==(t=a[4][a[18].name]+"")&&H(l,t)},i(a){o||(L(n.$$.fragment,a),o=!0)},o(a){C(n.$$.fragment,a),o=!1},d(a){a&&p(e),K(n)}}}function se(r){let e,t,l,s=r[18].name+"",n,o,a,i=r[18].uid+"",d,M,E,f,S,v,m,j,h,g=r[18].contains.filter(r[14]),_=[];for(let c=0;c<g.length;c+=1)_[c]=re(le(r,g,c));const D=c=>C(_[c],1,1,()=>{_[c]=null});let u=r[4][r[18].name]&&oe(r);return{c(){e=I("li"),t=I("div"),l=I("span"),n=N(s),o=P(),a=I("span"),d=N(i),E=P(),f=I("ul"),S=I("li"),v=P();for(let c=0;c<_.length;c+=1)_[c].c();m=P(),u&&u.c(),j=P(),this.h()},l(c){e=V(c,"LI",{});var b=A(e);t=V(b,"DIV",{class:!0});var k=A(t);l=V(k,"SPAN",{class:!0});var O=A(l);n=z(O,s),O.forEach(p),o=U(k),a=V(k,"SPAN",{class:!0});var Y=A(a);d=z(Y,i),Y.forEach(p),k.forEach(p),E=U(b),f=V(b,"UL",{class:!0});var T=A(f);S=V(T,"LI",{class:!0}),A(S).forEach(p),v=U(T);for(let W=0;W<_.length;W+=1)_[W].l(T);m=U(T),u&&u.l(T),T.forEach(p),j=U(b),b.forEach(p),this.h()},h(){w(l,"class","truncate"),w(a,"class","flex p-1 shrink-0 items-center justify-center rounded-md border text-[0.625rem] font-medium bg-white text-gray-400 border-gray-200"),w(t,"class",M="w-full flex items-center justify-between rounded-md p-1 text-sm leading-6 font-semibold "+(r[0]===r[18].name?"text-blue-600 bg-gray-100":"text-gray-600 bg-white")),w(S,"class","absolute top-0 left-3.5 w-px h-full bg-gray-200"),w(f,"class","relative mt-1 w-full flex flex-col gap-1")},m(c,b){$(c,e,b),y(e,t),y(t,l),y(l,n),y(t,o),y(t,a),y(a,d),y(e,E),y(e,f),y(f,S),y(f,v);for(let k=0;k<_.length;k+=1)_[k].m(f,null);y(f,m),u&&u.m(f,null),y(e,j),h=!0},p(c,b){if((!h||b&4)&&s!==(s=c[18].name+"")&&H(n,s),(!h||b&4)&&i!==(i=c[18].uid+"")&&H(d,i),(!h||b&5&&M!==(M="w-full flex items-center justify-between rounded-md p-1 text-sm leading-6 font-semibold "+(c[0]===c[18].name?"text-blue-600 bg-gray-100":"text-gray-600 bg-white")))&&w(t,"class",M),b&775){g=c[18].contains.filter(c[14]);let k;for(k=0;k<g.length;k+=1){const O=le(c,g,k);_[k]?(_[k].p(O,b),L(_[k],1)):(_[k]=re(O),_[k].c(),L(_[k],1),_[k].m(f,m))}for(B(),k=g.length;k<_.length;k+=1)D(k);R()}c[4][c[18].name]?u?(u.p(c,b),b&20&&L(u,1)):(u=oe(c),u.c(),L(u,1),u.m(f,null)):u&&(B(),C(u,1,1,()=>{u=null}),R())},i(c){if(!h){for(let b=0;b<g.length;b+=1)L(_[b]);L(u),h=!0}},o(c){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)C(_[b]);C(u),h=!1},d(c){c&&p(e),x(_,c),u&&u.d()}}}function Ie(r){let e,t;return e=new he({}),{c(){q(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){J(e,l,s),t=!0},p:Q,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ve(r){let e,t;return e=new _e({props:{volumeToRenderOverride:""+(r[7]+"/"+r[6]+"."+r[0]+"."+r[5]),volumeColourMapOverride:r[3]}}),{c(){q(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){J(e,l,s),t=!0},p(l,s){const n={};s&225&&(n.volumeToRenderOverride=""+(l[7]+"/"+l[6]+"."+l[0]+"."+l[5])),s&8&&(n.volumeColourMapOverride=l[3]),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ae(r){let e,t,l,s,n,o,a,i,d,M;const E=[ye,we],f=[];function S(h,g){return g&4&&(l=null),l==null&&(l=!!(Array.isArray(h[2])&&h[2].length>0)),l?0:1}s=S(r,-1),n=f[s]=E[s](r);const v=[Ve,Ie],m=[];function j(h,g){return h[0].length>0?0:1}return i=j(r),d=m[i]=v[i](r),{c(){e=I("div"),t=I("div"),n.c(),o=P(),a=I("div"),d.c(),this.h()},l(h){e=V(h,"DIV",{class:!0});var g=A(e);t=V(g,"DIV",{class:!0});var _=A(t);n.l(_),_.forEach(p),o=U(g),a=V(g,"DIV",{class:!0});var D=A(a);d.l(D),D.forEach(p),g.forEach(p),this.h()},h(){w(t,"class","flex flex-col min-w-56 flex-shrink-0 overflow-auto custom-scrollbar"),w(a,"class","flex-1 flex-shrink overflow-auto custom-scrollbar px-4 py-2"),w(e,"class","flex h-full min-h-0")},m(h,g){$(h,e,g),y(e,t),f[s].m(t,null),y(e,o),y(e,a),m[i].m(a,null),M=!0},p(h,[g]){let _=s;s=S(h,g),s===_?f[s].p(h,g):(B(),C(f[_],1,1,()=>{f[_]=null}),R(),n=f[s],n?n.p(h,g):(n=f[s]=E[s](h),n.c()),L(n,1),n.m(t,null));let D=i;i=j(h),i===D?m[i].p(h,g):(B(),C(m[D],1,1,()=>{m[D]=null}),R(),d=m[i],d?d.p(h,g):(d=m[i]=v[i](h),d.c()),L(d,1),d.m(a,null))},i(h){M||(L(n),L(d),M=!0)},o(h){C(n),C(d),M=!1},d(h){h&&p(e),f[s].d(),m[i].d()}}}function Le(r,e,t){let l,s,n,o,a,i,{data:d}=e;const M=["map_sharp","map","map_aligned","map_half_A","map_half_B","map_sym","map_sym_sharp","map_filtered","map_3DFSC"];let E="",f="",S="",v={};const m=async u=>{const c=await de(`/api/actions/jobs/get_local_res_map?projectUid=${l}&jobUid=${s}&groupName=${u}`);typeof c.resultSpec=="string"&&c.resultSpec.length>0&&t(4,v[u]=c.resultSpec,v)},j=(u,c)=>{E===u&&f===c?(t(0,E=""),t(1,f=""),t(3,S="")):(t(0,E=u),t(1,f=c),t(3,S=""))},h=(u,c)=>{E===u&&S.length>0?(t(0,E=""),t(1,f=""),t(3,S="")):(t(0,E=u),t(1,f=""),t(3,S=c))};me(()=>{o.forEach(u=>{m(u.name)})});const g=u=>M.includes(u.name),_=(u,c)=>j(u.name,c.name),D=u=>h(u.name,v[u.name]);return r.$$set=u=>{"data"in u&&t(11,d=u.data)},r.$$.update=()=>{var u,c;r.$$.dirty&2048&&t(7,{doc:{project_uid:l,uid:s,output_result_groups:n}}=d,l,(t(6,s),t(11,d)),(t(13,n),t(11,d))),r.$$.dirty&8192&&t(2,o=(u=n==null?void 0:n.filter(b=>b.type==="volume"&&b.contains.some(k=>M.includes(k.name))))!=null?u:[]),r.$$.dirty&5&&t(12,a=o==null?void 0:o.find(b=>b.name===E)),r.$$.dirty&4098&&t(5,i=f.length>0?f:(c=a==null?void 0:a.contains.find(b=>M.includes(b.name)))==null?void 0:c.name)},[E,f,o,S,v,i,s,l,M,j,h,d,a,n,g,_,D]}class dt extends X{constructor(e){super();Z(this,e,Le,Ae,G,{data:11})}}export{dt as default};
