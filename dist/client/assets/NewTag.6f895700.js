import{S as tt,h as lt,s as at,Q as n,a6 as V,R as u,T as f,a7 as O,p as i,k as M,a2 as t,ac as st,I as y,J as T,U as a,K as ae,C as rt,D as ot,a3 as it,a9 as Fe,E as nt,aa as _e,ar as qe,ab as ut,ae as ct,o as dt,t as ft,H as _t,ak as Je,ad as pt,L as ht,as as bt}from"./vendor.3ae73048.js";import{bu as Ke,bv as Me,C as Le,bg as Qe,bh as vt}from"./helpers.7177ca38.js";import{ah as Xe}from"./index.146c2037.js";import{j as mt}from"./router.1b465492.js";import{H as gt}from"./Header.2bc58def.js";import"./Icon.61279884.js";import"./TagCount.d4471cb8.js";import"./types.8cb6216c.js";import"./index.2e3bb17a.js";import"./Spinner.012207c4.js";import"./ChevronUp.0ab7bee0.js";function Ye(r,l,s){const _=r.slice();return _[13]=l[s],_}function ze(r,l,s){const _=r.slice();return _[16]=l[s][0],_[17]=l[s][1],_}function We(r){let l,s=r[17]+"",_,p;return{c(){l=n("option"),_=V(s),this.h()},l(c){l=u(c,"OPTION",{});var d=f(l);_=O(d,s),d.forEach(i),this.h()},h(){l.__value=p=r[16],l.value=l.__value},m(c,d){M(c,l,d),t(l,_)},p:st,d(c){c&&i(l)}}}function Ze(r){let l,s,_,p,c,d,w=r[13]+"",C,S,j,b,G,L,k,P,N;return{c(){l=n("label"),s=n("input"),c=y(),d=n("p"),C=V(w),j=y(),b=n("span"),L=y(),this.h()},l(m){l=u(m,"LABEL",{class:!0});var h=f(l);s=u(h,"INPUT",{type:!0,name:!0,class:!0,"aria-labelledby":!0}),c=T(h),d=u(h,"P",{id:!0,class:!0});var Q=f(d);C=O(Q,w),Q.forEach(i),j=T(h),b=u(h,"SPAN",{"aria-hidden":!0,class:!0}),f(b).forEach(i),L=T(h),h.forEach(i),this.h()},h(){a(s,"type","radio"),a(s,"name","tag_colour"),s.__value=_=r[13],s.value=s.__value,a(s,"class","sr-only"),a(s,"aria-labelledby",p="tag_colour_"+r[13]),r[12][0].push(s),a(d,"id",S="tag_colour_"+r[13]),a(d,"class","sr-only"),a(b,"aria-hidden","true"),a(b,"class",G="h-8 w-8 "+Le[r[13]]+" border border-black border-opacity-10 rounded-full"),a(l,"class",k="-m-0.5 relative p-0.5 rounded-full flex items-center justify-center cursor-pointer focus:outline-none "+(r[13]===r[4]?`ring-2 ${Le[r[13]].replace("bg","ring")}`:""))},m(m,h){M(m,l,h),t(l,s),s.checked=s.__value===r[4],t(l,c),t(l,d),t(d,C),t(l,j),t(l,b),t(l,L),P||(N=ae(s,"change",r[11]),P=!0)},p(m,h){h&16&&(s.checked=s.__value===m[4]),h&16&&k!==(k="-m-0.5 relative p-0.5 rounded-full flex items-center justify-center cursor-pointer focus:outline-none "+(m[13]===m[4]?`ring-2 ${Le[m[13]].replace("bg","ring")}`:""))&&a(l,"class",k)},d(m){m&&i(l),r[12][0].splice(r[12][0].indexOf(s),1),P=!1,N()}}}function et(r){let l,s,_;return{c(){l=n("div"),s=n("p"),_=V("A tag of this title already exists"),this.h()},l(p){l=u(p,"DIV",{class:!0});var c=f(l);s=u(c,"P",{});var d=f(s);_=O(d,"A tag of this title already exists"),d.forEach(i),c.forEach(i),this.h()},h(){a(l,"class","bg-yellow-50 text-yellow-800 border border-yellow-300 rounded-md text-xs p-2")},m(p,c){M(p,l,c),t(l,s),t(s,_)},d(p){p&&i(l)}}}function Et(r){let l,s,_,p,c,d,w,C,S,j,b,G,L,k,P,N,m,h,Q,B,$,pe,he,X,x,be,Y,z,se=Ke[r[2]]+"",re,ve,F,q,me,ge,R,W,Ee,ye,J,Te,oe,U,H,we,Ie,A,ke,ie,Z,De,Ce;l=new gt({props:{title:"New Tag"}});let ee=Object.entries(Me),g=[];for(let e=0;e<ee.length;e+=1)g[e]=We(ze(r,ee,e));let te=Qe,E=[];for(let e=0;e<te.length;e+=1)E[e]=Ze(Ye(r,te,e));let I=r[1]&&et();return{c(){rt(l.$$.fragment),s=y(),_=n("div"),p=n("form"),c=n("div"),d=n("div"),w=n("label"),C=V("Title"),S=y(),j=n("div"),b=n("input"),G=y(),L=n("div"),k=n("label"),P=V("Description"),N=y(),m=n("div"),h=n("textarea"),Q=y(),B=n("div"),$=n("label"),pe=V("Tag Type"),he=y(),X=n("div"),x=n("select");for(let e=0;e<g.length;e+=1)g[e].c();be=y(),Y=n("div"),z=n("p"),re=V(se),ve=y(),F=n("div"),q=n("label"),me=V("Colour"),ge=y(),R=n("fieldset"),W=n("legend"),Ee=V("Choose a colour"),ye=y(),J=n("div");for(let e=0;e<E.length;e+=1)E[e].c();Te=y(),I&&I.c(),oe=y(),U=n("div"),H=n("button"),we=V("Cancel"),Ie=y(),A=n("button"),ke=V("Create Tag"),this.h()},l(e){ot(l.$$.fragment,e),s=T(e),_=u(e,"DIV",{class:!0});var v=f(_);p=u(v,"FORM",{id:!0,class:!0});var o=f(p);c=u(o,"DIV",{class:!0});var D=f(c);d=u(D,"DIV",{});var ne=f(d);w=u(ne,"LABEL",{for:!0,class:!0});var je=f(w);C=O(je,"Title"),je.forEach(i),S=T(ne),j=u(ne,"DIV",{class:!0});var xe=f(j);b=u(xe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),xe.forEach(i),ne.forEach(i),G=T(D),L=u(D,"DIV",{});var ue=f(L);k=u(ue,"LABEL",{for:!0,class:!0});var Ae=f(k);P=O(Ae,"Description"),Ae.forEach(i),N=T(ue),m=u(ue,"DIV",{class:!0});var Ve=f(m);h=u(Ve,"TEXTAREA",{id:!0,rows:!0,class:!0,placeholder:!0}),f(h).forEach(i),Ve.forEach(i),ue.forEach(i),Q=T(D),B=u(D,"DIV",{});var le=f(B);$=u(le,"LABEL",{for:!0,class:!0});var Oe=f($);pe=O(Oe,"Tag Type"),Oe.forEach(i),he=T(le),X=u(le,"DIV",{class:!0});var Se=f(X);x=u(Se,"SELECT",{id:!0,class:!0});var Ne=f(x);for(let K=0;K<g.length;K+=1)g[K].l(Ne);Ne.forEach(i),Se.forEach(i),be=T(le),Y=u(le,"DIV",{class:!0});var Pe=f(Y);z=u(Pe,"P",{class:!0});var Be=f(z);re=O(Be,se),Be.forEach(i),Pe.forEach(i),le.forEach(i),ve=T(D),F=u(D,"DIV",{});var ce=f(F);q=u(ce,"LABEL",{for:!0,class:!0});var Ue=f(q);me=O(Ue,"Colour"),Ue.forEach(i),ge=T(ce),R=u(ce,"FIELDSET",{class:!0});var de=f(R);W=u(de,"LEGEND",{class:!0});var Re=f(W);Ee=O(Re,"Choose a colour"),Re.forEach(i),ye=T(de),J=u(de,"DIV",{class:!0});var He=f(J);for(let K=0;K<E.length;K+=1)E[K].l(He);He.forEach(i),de.forEach(i),ce.forEach(i),D.forEach(i),Te=T(o),I&&I.l(o),o.forEach(i),v.forEach(i),oe=T(e),U=u(e,"DIV",{class:!0});var fe=f(U);H=u(fe,"BUTTON",{type:!0,class:!0});var Ge=f(H);we=O(Ge,"Cancel"),Ge.forEach(i),Ie=T(fe),A=u(fe,"BUTTON",{type:!0,form:!0,class:!0});var $e=f(A);ke=O($e,"Create Tag"),$e.forEach(i),fe.forEach(i),this.h()},h(){a(w,"for","tag_title"),a(w,"class","block text-sm font-medium text-gray-700"),a(b,"type","text"),a(b,"id","tag_title"),a(b,"class","shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"),a(b,"placeholder","Enter a title"),a(j,"class","mt-1"),a(k,"for","tag_description"),a(k,"class","block text-sm font-medium text-gray-700"),a(h,"id","tag_description"),a(h,"rows","2"),a(h,"class","shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2"),a(h,"placeholder","Enter a description (optional)"),a(m,"class","mt-1"),a($,"for","tag_type"),a($,"class","block text-sm font-medium text-gray-700"),a(x,"id","tag_type"),a(x,"class","block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm rounded-md"),r[2]===void 0&&it(()=>r[10].call(x)),a(X,"class","mt-1"),a(z,"class","text-sm text-gray-500 italic"),a(Y,"class","mt-2"),a(q,"for","tag_colour"),a(q,"class","block text-sm font-medium text-gray-700"),a(W,"class","sr-only"),a(J,"class","flex items-center flex-wrap gap-3"),a(R,"class","mt-2"),a(c,"class","grid grid-cols-1 gap-y-4 gap-x-4"),a(p,"id","new_tag_form"),a(p,"class","space-y-6"),a(_,"class","flex-1 h-0 overflow-y-auto p-3"),a(H,"type","button"),a(H,"class","bg-white px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500"),a(A,"type","submit"),a(A,"form","new_tag_form"),a(A,"class","ml-2 inline-flex justify-center px-3 py-1.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500"),A.disabled=ie=!r[5],Fe(A,"opacity-50",!r[5]),a(U,"class","flex-shrink-0 h-12 px-2 flex items-center border-t border-gray-200")},m(e,v){nt(l,e,v),M(e,s,v),M(e,_,v),t(_,p),t(p,c),t(c,d),t(d,w),t(w,C),t(d,S),t(d,j),t(j,b),_e(b,r[0]),t(c,G),t(c,L),t(L,k),t(k,P),t(L,N),t(L,m),t(m,h),_e(h,r[3]),t(c,Q),t(c,B),t(B,$),t($,pe),t(B,he),t(B,X),t(X,x);for(let o=0;o<g.length;o+=1)g[o].m(x,null);qe(x,r[2]),t(B,be),t(B,Y),t(Y,z),t(z,re),t(c,ve),t(c,F),t(F,q),t(q,me),t(F,ge),t(F,R),t(R,W),t(W,Ee),t(R,ye),t(R,J);for(let o=0;o<E.length;o+=1)E[o].m(J,null);t(p,Te),I&&I.m(p,null),M(e,oe,v),M(e,U,v),t(U,H),t(H,we),t(U,Ie),t(U,A),t(A,ke),Z=!0,De||(Ce=[ae(b,"input",r[8]),ae(h,"input",r[9]),ae(x,"change",r[10]),ae(p,"submit",ut(r[6])),ae(H,"click",Xe)],De=!0)},p(e,[v]){if(v&1&&b.value!==e[0]&&_e(b,e[0]),v&8&&_e(h,e[3]),v&0){ee=Object.entries(Me);let o;for(o=0;o<ee.length;o+=1){const D=ze(e,ee,o);g[o]?g[o].p(D,v):(g[o]=We(D),g[o].c(),g[o].m(x,null))}for(;o<g.length;o+=1)g[o].d(1);g.length=ee.length}if(v&4&&qe(x,e[2]),(!Z||v&4)&&se!==(se=Ke[e[2]]+"")&&ct(re,se),v&16){te=Qe;let o;for(o=0;o<te.length;o+=1){const D=Ye(e,te,o);E[o]?E[o].p(D,v):(E[o]=Ze(D),E[o].c(),E[o].m(J,null))}for(;o<E.length;o+=1)E[o].d(1);E.length=te.length}e[1]?I||(I=et(),I.c(),I.m(p,null)):I&&(I.d(1),I=null),(!Z||v&32&&ie!==(ie=!e[5]))&&(A.disabled=ie),v&32&&Fe(A,"opacity-50",!e[5])},i(e){Z||(dt(l.$$.fragment,e),Z=!0)},o(e){ft(l.$$.fragment,e),Z=!1},d(e){_t(l,e),e&&i(s),e&&i(_),Je(g,e),Je(E,e),I&&I.d(),e&&i(oe),e&&i(U),De=!1,pt(Ce)}}}function yt(r,l,s){let _,p,c;ht(r,mt,N=>s(7,c=N));let d="",w="general",C="",S="gray";const j=()=>{!p||(vt(d,w,S,C),Xe())},b=[[]];function G(){d=this.value,s(0,d)}function L(){C=this.value,s(3,C)}function k(){w=bt(this),s(2,w)}function P(){S=this.__value,s(4,S)}return r.$$.update=()=>{r.$$.dirty&129&&s(1,_=c.some(N=>N.title===d)),r.$$.dirty&3&&s(5,p=d.length>0&&!_)},[d,_,w,C,S,p,j,c,G,L,k,P,b]}class Ot extends tt{constructor(l){super();lt(this,l,yt,Et,at,{})}}export{Ot as default};
