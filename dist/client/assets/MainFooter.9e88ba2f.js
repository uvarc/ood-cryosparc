import{S as ee,h as te,s as le,Q as A,a6 as N,I as V,R as M,T as E,a7 as I,J as z,p as w,U as b,a9 as q,k as U,a2 as y,ao as Le,K as Z,ae as H,ap as Ne,ac as F,ad as Ie,L as J,ah as G,ai as Q,C as se,D as oe,E as ne,o as O,t as R,H as re,j as X,l as Y,V as ge,W as _e,m as $,e as ie,u as Ue,af as ae}from"./vendor.3ae73048.js";import{ck as Oe,ao as be,P as x,ad as me}from"./index.146c2037.js";import{g as ve}from"./jobs.7ab064ef.js";import{i as ue,a as we}from"./helpers.7177ca38.js";import{a as Ve,K as ze,af as He,bq as Je,p as Re,aO as qe,e as Pe,br as De,b9 as We,aB as ye}from"./router.1b465492.js";import{I as Ze}from"./Icon.61279884.js";import{C as Fe}from"./ChevronUp.0ab7bee0.js";import{K as Ke,p as Ge}from"./index.9987ff70.js";import"./types.8cb6216c.js";import{t as Qe}from"./Spinner.012207c4.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./index.2e3bb17a.js";function Xe(s){let e,t;return{c(){e=A("span"),this.h()},l(l){e=M(l,"SPAN",{class:!0}),E(e).forEach(w),this.h()},h(){b(e,"class",t="ml-1 inline-block w-2 h-2 rounded-full "+be(s[0].status))},m(l,o){U(l,e,o)},p(l,o){o&1&&t!==(t="ml-1 inline-block w-2 h-2 rounded-full "+be(l[0].status))&&b(e,"class",t)},d(l){l&&w(e)}}}function Ye(s){let e,t;return{c(){e=G("svg"),t=G("path"),this.h()},l(l){e=Q(l,"svg",{class:!0,xmlns:!0,viewBox:!0});var o=E(e);t=Q(o,"path",{fill:!0,"fill-rule":!0,"clip-rule":!0,d:!0}),E(t).forEach(w),o.forEach(w),this.h()},h(){b(t,"fill","currentColor"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M4 1.75C4 0.783502 4.7835 0 5.75 0H11.3358C11.7999 0 12.245 0.184374 12.5732 0.512563L15.4874 3.42678C15.8156 3.75497 16 4.20008 16 4.66421V13.25C16 14.2165 15.2165 15 14.25 15H5.25C4.83579 15 4.5 14.6642 4.5 14.25C4.5 13.8358 4.83579 13.5 5.25 13.5H14.25C14.3881 13.5 14.5 13.3881 14.5 13.25V6H11.75C10.7835 6 10 5.2165 10 4.25V1.5H5.75C5.61193 1.5 5.5 1.61193 5.5 1.75V4.25C5.5 4.66421 5.16421 5 4.75 5C4.33579 5 4 4.66421 4 4.25V1.75ZM11.5 1.5615V4.25C11.5 4.38807 11.6119 4.5 11.75 4.5H14.4385C14.4348 4.49569 14.4308 4.4915 14.4268 4.48744L11.5126 1.57322C11.5085 1.56916 11.5043 1.56525 11.5 1.5615ZM5.71967 6.71967C5.42678 7.01256 5.42678 7.48744 5.71967 7.78033L7.18934 9.25L5.71967 10.7197C5.42678 11.0126 5.42678 11.4874 5.71967 11.7803C6.01256 12.0732 6.48744 12.0732 6.78033 11.7803L8.78033 9.78033C9.07322 9.48744 9.07322 9.01256 8.78033 8.71967L6.78033 6.71967C6.48744 6.42678 6.01256 6.42678 5.71967 6.71967ZM3.28033 7.78033C3.57322 7.48744 3.57322 7.01256 3.28033 6.71967C2.98744 6.42678 2.51256 6.42678 2.21967 6.71967L0.21967 8.71967C-0.0732233 9.01256 -0.0732233 9.48744 0.21967 9.78033L2.21967 11.7803C2.51256 12.0732 2.98744 12.0732 3.28033 11.7803C3.57322 11.4874 3.57322 11.0126 3.28033 10.7197L1.81066 9.25L3.28033 7.78033Z"),b(e,"class","ml-1 mr-1 inline-block w-4 h-4 text-gray-500"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"viewBox","0 0 16 16")},m(l,o){U(l,e,o),y(e,t)},p:F,d(l){l&&w(e)}}}function $e(s){let e,t,l=s[0].project_uid+"",o,n,i=s[0].uid+"",a,c,_,v,h,j,m;function S(r,d){return d&1&&(_=null),_==null&&(_=!!Oe(r[0])),_?Ye:Xe}let L=S(s,-1),g=L(s);return{c(){e=A("button"),t=A("span"),o=N(l),n=V(),a=N(i),c=V(),g.c(),this.h()},l(r){e=M(r,"BUTTON",{type:!0,class:!0});var d=E(e);t=M(d,"SPAN",{class:!0});var k=E(t);o=I(k,l),n=z(k),a=I(k,i),k.forEach(w),c=z(d),g.l(d),d.forEach(w),this.h()},h(){b(t,"class","font-medium"),b(e,"type","button"),e.disabled=v=!s[1],b(e,"class","inline-flex items-center px-2 py-0.5 rounded text-xs font-normal leading-4 bg-gray-200 text-gray-800 hover:bg-gray-300 focus:outline-none disabled:cursor-default disabled:opacity-50"),q(e,"hover:bg-gray-200",s[1])},m(r,d){U(r,e,d),y(e,t),y(t,o),y(t,n),y(t,a),y(e,c),g.m(e,null),j||(m=[Le(h=Qe.call(null,e,{content:`${s[3]} ${s[2]?"(This Session)":""}`})),Z(e,"click",s[9])],j=!0)},p(r,[d]){d&1&&l!==(l=r[0].project_uid+"")&&H(o,l),d&1&&i!==(i=r[0].uid+"")&&H(a,i),L===(L=S(r,d))&&g?g.p(r,d):(g.d(1),g=L(r),g&&(g.c(),g.m(e,null))),d&2&&v!==(v=!r[1])&&(e.disabled=v),h&&Ne(h.update)&&d&12&&h.update.call(null,{content:`${r[3]} ${r[2]?"(This Session)":""}`}),d&2&&q(e,"hover:bg-gray-200",r[1])},i:F,o:F,d(r){r&&w(e),g.d(),j=!1,Ie(m)}}}function xe(s,e,t){let l,o,n,i,a,c,_,v;J(s,Ve,m=>t(4,i=m)),J(s,ue,m=>t(5,a=m)),J(s,Ke,m=>t(6,c=m)),J(s,Ge,m=>t(7,_=m)),J(s,ze,m=>t(8,v=m));let{job:h}=e;const j=()=>n&&He(h.project_uid,h.uid);return s.$$set=m=>{"job"in m&&t(0,h=m.job)},s.$$.update=()=>{var m;s.$$.dirty&257&&t(3,l=v[h.job_type]?v[h.job_type].title:h.job_type),s.$$.dirty&193&&t(2,o=h.project_uid===_&&((m=h.workspace_uids)==null?void 0:m.includes(c))),s.$$.dirty&49&&t(1,n=a||i.includes(h.project_uid))},[h,n,o,l,i,a,c,_,v,j]}class et extends ee{constructor(e){super();te(this,e,xe,$e,le,{job:0})}}function tt(s){let e,t=s[0].title+"",l,o,n;return{c(){e=A("button"),l=N(t),this.h()},l(i){e=M(i,"BUTTON",{type:!0,class:!0});var a=E(e);l=I(a,t),a.forEach(w),this.h()},h(){b(e,"type","button"),b(e,"class","inline-flex items-center px-2 py-0.5 rounded text-xs font-normal leading-4 bg-gray-200 hover:bg-gray-300 text-gray-800 focus:outline-none")},m(i,a){U(i,e,a),y(e,l),o||(n=Z(e,"click",s[1]),o=!0)},p(i,[a]){a&1&&t!==(t=i[0].title+"")&&H(l,t)},i:F,o:F,d(i){i&&w(e),o=!1,n()}}}function lt(s,e,t){let{target:l}=e;const o=()=>Je(l.name);return s.$$set=n=>{"target"in n&&t(0,l=n.target)},[l,o]}class st extends ee{constructor(e){super();te(this,e,lt,tt,le,{target:0})}}function ke(s,e,t){const l=s.slice();return l[20]=e[t],l}function je(s,e,t){const l=s.slice();return l[23]=e[t],l}function Ce(s){let e,t,l,o,n,i,a;return l=new Ze({props:{src:Fe}}),{c(){e=A("div"),t=A("button"),se(l.$$.fragment),this.h()},l(c){e=M(c,"DIV",{class:!0});var _=E(e);t=M(_,"BUTTON",{class:!0});var v=E(t);oe(l.$$.fragment,v),v.forEach(w),_.forEach(w),this.h()},h(){b(t,"class","hover:text-gray-800"),b(e,"class",o="absolute top-0 -right-2 flex justify-center items-center h-full w-6 "+(s[4].type===x.singleSession?"bg-gray-200":"bg-white"))},m(c,_){U(c,e,_),y(e,t),ne(l,t,null),n=!0,i||(a=Z(t,"click",s[11]),i=!0)},p(c,_){(!n||_&16&&o!==(o="absolute top-0 -right-2 flex justify-center items-center h-full w-6 "+(c[4].type===x.singleSession?"bg-gray-200":"bg-white")))&&b(e,"class",o)},i(c){n||(O(l.$$.fragment,c),n=!0)},o(c){R(l.$$.fragment,c),n=!1},d(c){c&&w(e),re(l),i=!1,a()}}}function Be(s){let e,t;return{c(){e=A("span"),t=N("No queued or active jobs"),this.h()},l(l){e=M(l,"SPAN",{class:!0});var o=E(e);t=I(o,"No queued or active jobs"),o.forEach(w),this.h()},h(){b(e,"class","whitespace-nowrap")},m(l,o){U(l,e,o),y(e,t)},d(l){l&&w(e)}}}function Ee(s){let e,t=s[5].length+"",l,o,n=(s[5].length!==1?"s":"")+"",i;return{c(){e=A("span"),l=N(t),o=N(" queued job"),i=N(n),this.h()},l(a){e=M(a,"SPAN",{class:!0});var c=E(e);l=I(c,t),o=I(c," queued job"),i=I(c,n),c.forEach(w),this.h()},h(){b(e,"class","whitespace-nowrap")},m(a,c){U(a,e,c),y(e,l),y(e,o),y(e,i)},p(a,c){c&32&&t!==(t=a[5].length+"")&&H(l,t),c&32&&n!==(n=(a[5].length!==1?"s":"")+"")&&H(i,n)},d(a){a&&w(e)}}}function Te(s){let e,t=s[6].length+"",l,o,n=(s[6].length!==1?"s":"")+"",i;return{c(){e=A("span"),l=N(t),o=N(" active job"),i=N(n),this.h()},l(a){e=M(a,"SPAN",{class:!0});var c=E(e);l=I(c,t),o=I(c," active job"),i=I(c,n),c.forEach(w),this.h()},h(){b(e,"class","whitespace-nowrap")},m(a,c){U(a,e,c),y(e,l),y(e,o),y(e,i)},p(a,c){c&64&&t!==(t=a[6].length+"")&&H(l,t),c&64&&n!==(n=(a[6].length!==1?"s":"")+"")&&H(i,n)},d(a){a&&w(e)}}}function Se(s,e){let t,l,o;return l=new et({props:{job:e[23]}}),{key:s,first:null,c(){t=X(),se(l.$$.fragment),this.h()},l(n){t=X(),oe(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){U(n,t,i),ne(l,n,i),o=!0},p(n,i){e=n;const a={};i&64&&(a.job=e[23]),l.$set(a)},i(n){o||(O(l.$$.fragment,n),o=!0)},o(n){R(l.$$.fragment,n),o=!1},d(n){n&&w(t),re(l,n)}}}function Ae(s){let e,t,l=s[7].length+"",o,n,i=(s[7].length!==1?"s":"")+"",a,c,_=[],v=new Map,h,j,m,S=s[7];const L=g=>g[20].hostname;for(let g=0;g<S.length;g+=1){let r=ke(s,S,g),d=L(r);v.set(d,_[g]=Me(d,r))}return{c(){e=A("div"),t=A("button"),o=N(l),n=N(" active target"),a=N(i),c=V();for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=M(g,"DIV",{id:!0,class:!0});var r=E(e);t=M(r,"BUTTON",{type:!0,class:!0});var d=E(t);o=I(d,l),n=I(d," active target"),a=I(d,i),d.forEach(w),c=z(r);for(let k=0;k<_.length;k+=1)_[k].l(r);r.forEach(w),this.h()},h(){b(t,"type","button"),b(t,"class","sticky left-0 z-10 inline-flex items-center gap-x-2 gap-y-1 px-2 py-0.5 rounded text-xs font-normal leading-4 bg-gray-50 hover:bg-gray-200 text-gray-800 focus:outline-none"),b(e,"id","footer-active-targets"),b(e,"class","flex items-center gap-x-2 gap-y-0.5 py-0.5 whitespace-nowrap")},m(g,r){U(g,e,r),y(e,t),y(t,o),y(t,n),y(t,a),y(e,c);for(let d=0;d<_.length;d+=1)_[d].m(e,null);s[15](e),h=!0,j||(m=Z(t,"click",s[14]),j=!0)},p(g,r){(!h||r&128)&&l!==(l=g[7].length+"")&&H(o,l),(!h||r&128)&&i!==(i=(g[7].length!==1?"s":"")+"")&&H(a,i),r&128&&(S=g[7],Y(),_=ge(_,r,L,1,g,S,v,e,_e,Me,null,ke),$())},i(g){if(!h){for(let r=0;r<S.length;r+=1)O(_[r]);h=!0}},o(g){for(let r=0;r<_.length;r+=1)R(_[r]);h=!1},d(g){g&&w(e);for(let r=0;r<_.length;r+=1)_[r].d();s[15](null),j=!1,m()}}}function Me(s,e){let t,l,o;return l=new st({props:{target:e[20]}}),{key:s,first:null,c(){t=X(),se(l.$$.fragment),this.h()},l(n){t=X(),oe(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){U(n,t,i),ne(l,n,i),o=!0},p(n,i){e=n;const a={};i&128&&(a.target=e[20]),l.$set(a)},i(n){o||(O(l.$$.fragment,n),o=!0)},o(n){R(l.$$.fragment,n),o=!1},d(n){n&&w(t),re(l,n)}}}function ot(s){let e,t,l,o,n,i,a,c,_,v,h=[],j=new Map,m,S,L,g,r=s[3]&&Ce(s),d=s[5].length===0&&s[6].length===0&&Be(),k=!!s[5].length&&Ee(s),B=!!s[6].length&&Te(s),P=s[6];const K=u=>u[23].id;for(let u=0;u<P.length;u+=1){let p=je(s,P,u),C=K(p);j.set(C,h[u]=Se(C,p))}let f=!!s[6].length&&!!s[7]&&Ae(s);return{c(){e=A("div"),r&&r.c(),t=V(),l=A("div"),o=A("button"),n=G("svg"),i=G("path"),a=V(),d&&d.c(),c=V(),k&&k.c(),_=V(),B&&B.c(),v=V();for(let u=0;u<h.length;u+=1)h[u].c();m=V(),f&&f.c(),this.h()},l(u){e=M(u,"DIV",{id:!0,class:!0});var p=E(e);r&&r.l(p),t=z(p),l=M(p,"DIV",{id:!0,class:!0});var C=E(l);o=M(C,"BUTTON",{type:!0,class:!0});var T=E(o);n=Q(T,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0});var W=E(n);i=Q(W,"path",{"fill-rule":!0,d:!0}),E(i).forEach(w),W.forEach(w),a=z(T),d&&d.l(T),c=z(T),k&&k.l(T),_=z(T),B&&B.l(T),T.forEach(w),v=z(C);for(let D=0;D<h.length;D+=1)h[D].l(C);C.forEach(w),m=z(p),f&&f.l(p),p.forEach(w),this.h()},h(){b(i,"fill-rule","evenodd"),b(i,"d","M1.75 1A1.75 1.75 0 000 2.75v4c0 .372.116.717.314 1a1.742 1.742 0 00-.314 1v4c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0016 12.75v-4c0-.372-.116-.717-.314-1 .198-.283.314-.628.314-1v-4A1.75 1.75 0 0014.25 1H1.75zm0 7.5a.25.25 0 00-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25v-4a.25.25 0 00-.25-.25H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v4a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-4zm5.5 2A.75.75 0 017.75 4h4.5a.75.75 0 010 1.5h-4.5A.75.75 0 017 4.75zM7.75 10a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5zM3 4.75A.75.75 0 013.75 4h.5a.75.75 0 010 1.5h-.5A.75.75 0 013 4.75zM3.75 10a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z"),b(n,"class","inline-block w-4 h-4 text-gray-500"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"viewBox","0 0 16 16"),b(n,"fill","currentColor"),b(o,"type","button"),b(o,"class","sticky left-0 z-10 inline-flex items-center gap-x-2 gap-y-1 px-2 py-0.5 rounded text-xs font-normal leading-4 bg-gray-50 hover:bg-gray-200 text-gray-800 focus:outline-none"),b(l,"id","footer-active-jobs"),b(l,"class","flex gap-x-2 gap-y-0.5 py-0.5 whitespace-nowrap"),b(e,"id","main-footer"),b(e,"class","footer-wrapper flex items-center flex-wrap gap-x-2 w-full overflow-x-auto custom-scrollbar custom-scrollbar--sm svelte-1cjvgao"),q(e,"pr-6",s[3]),q(e,"footer-wrapper--overflow",s[3]),q(e,"footer-wrapper__live--overflow",s[3]&&s[4].type===x.singleSession)},m(u,p){U(u,e,p),r&&r.m(e,null),y(e,t),y(e,l),y(l,o),y(o,n),y(n,i),y(o,a),d&&d.m(o,null),y(o,c),k&&k.m(o,null),y(o,_),B&&B.m(o,null),y(l,v);for(let C=0;C<h.length;C+=1)h[C].m(l,null);s[13](l),y(e,m),f&&f.m(e,null),s[16](e),S=!0,L||(g=Z(o,"click",s[12]),L=!0)},p(u,[p]){u[3]?r?(r.p(u,p),p&8&&O(r,1)):(r=Ce(u),r.c(),O(r,1),r.m(e,t)):r&&(Y(),R(r,1,1,()=>{r=null}),$()),u[5].length===0&&u[6].length===0?d||(d=Be(),d.c(),d.m(o,c)):d&&(d.d(1),d=null),u[5].length?k?k.p(u,p):(k=Ee(u),k.c(),k.m(o,_)):k&&(k.d(1),k=null),u[6].length?B?B.p(u,p):(B=Te(u),B.c(),B.m(o,null)):B&&(B.d(1),B=null),p&64&&(P=u[6],Y(),h=ge(h,p,K,1,u,P,j,l,_e,Se,null,je),$()),!!u[6].length&&!!u[7]?f?(f.p(u,p),p&192&&O(f,1)):(f=Ae(u),f.c(),O(f,1),f.m(e,null)):f&&(Y(),R(f,1,1,()=>{f=null}),$()),p&8&&q(e,"pr-6",u[3]),p&8&&q(e,"footer-wrapper--overflow",u[3]),p&24&&q(e,"footer-wrapper__live--overflow",u[3]&&u[4].type===x.singleSession)},i(u){if(!S){O(r);for(let p=0;p<P.length;p+=1)O(h[p]);O(f),S=!0}},o(u){R(r);for(let p=0;p<h.length;p+=1)R(h[p]);R(f),S=!1},d(u){u&&w(e),r&&r.d(),d&&d.d(),k&&k.d(),B&&B.d();for(let p=0;p<h.length;p+=1)h[p].d();s[13](null),f&&f.d(),s[16](null),L=!1,g()}}}function nt(s,e,t){let l,o,n,i;J(s,Re,f=>t(4,l=f));const a=ie([qe,ue,we],([f,u,p])=>ve(f,u,p));J(s,a,f=>t(5,o=f));const c=ie([Pe,ue,we],([f,u,p])=>ve(f,u,p));J(s,c,f=>t(6,n=f));const _=ie([We,c],([f,u])=>De(f,u));J(s,_,f=>t(7,i=f));let v,h,j,m=!1;const S=()=>{var p,C,T;const f=(p=h==null?void 0:h.getBoundingClientRect().width)!=null?p:0,u=(T=(C=j==null?void 0:j.getBoundingClientRect())==null?void 0:C.width)!=null?T:0;return f>u?f:u},L=()=>{const f=S();v.scrollTo({top:0,left:f,behavior:"smooth"})},g=()=>{var C,T;const f=(T=(C=v==null?void 0:v.getBoundingClientRect())==null?void 0:C.width)!=null?T:0,u=S(),p=m?24:0;Math.round(u-f+p)===Math.round(v.scrollLeft)?t(3,m=!1):t(3,m=!0)},r=async()=>{var T,W,D,ce,fe,he,pe,de;const f=(W=(T=document.getElementById("main-footer"))==null?void 0:T.getBoundingClientRect().width)!=null?W:0,u=h?(fe=h==null?void 0:h.getBoundingClientRect().width)!=null?fe:0:(ce=(D=await me(()=>document.getElementById("footer-active-jobs"),200,40))==null?void 0:D.getBoundingClientRect().width)!=null?ce:0,p=j?(de=j==null?void 0:j.getBoundingClientRect().width)!=null?de:0:(pe=(he=await me(()=>document.getElementById("footer-active-targets"),200,40))==null?void 0:he.getBoundingClientRect().width)!=null?pe:0,C=u>p?u:p;f<C?t(3,m=!0):t(3,m=!1)};Ue(async()=>{await r(),window.addEventListener("resize",r)});const d=()=>ye();function k(f){ae[f?"unshift":"push"](()=>{h=f,t(1,h)})}const B=()=>ye();function P(f){ae[f?"unshift":"push"](()=>{j=f,t(2,j)})}function K(f){ae[f?"unshift":"push"](()=>{v=f,t(0,v)})}return s.$$.update=()=>{s.$$.dirty&1&&v&&v.addEventListener("scroll",g)},[v,h,j,m,l,o,n,i,a,c,_,L,d,k,B,P,K]}class vt extends ee{constructor(e){super();te(this,e,nt,ot,le,{})}}export{vt as default};
