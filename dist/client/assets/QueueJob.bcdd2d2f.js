import{S as Ge,h as De,s as Ue,Q as v,a6 as N,R as w,T as P,a7 as z,p as c,U as a,k as F,a2 as i,ae as je,I as R,J as x,aa as ce,K as ne,aQ as Ve,ad as Ee,ab as Me,l as Pe,t as re,m as Ie,o as W,L as ie,u as Oe,w as Se,C as pe,D as de,E as be,H as me,ao as Ne,ak as ze,ac as Le,j as Je}from"./vendor.3ae73048.js";import{l as Fe,c as Ke}from"./jobs.d50d1674.js";import{ah as Ce,u as he,l as _e,cI as We,cJ as Xe}from"./index.146c2037.js";import{V as Ye,b9 as Ze,J as $e,a6 as et}from"./router.1b465492.js";import{H as tt}from"./Header.2bc58def.js";import"./types.8cb6216c.js";import{I as rt}from"./Icon.61279884.js";import{Q as st}from"./QuestionMarkCircle.1d0a7a5c.js";import{t as lt}from"./Spinner.012207c4.js";import{N as ot,a as nt,q as at}from"./jobs.7ab064ef.js";import{a as it}from"./helpers.7177ca38.js";import{G as ut,L as ft}from"./GpuSelection.14e5299b.js";import"./TagCount.d4471cb8.js";import"./index.2e3bb17a.js";import"./ChevronUp.0ab7bee0.js";import"./index.c4392b02.js";function Qe(l,s,e){const r=l.slice();return r[46]=s[e],r}function Ae(l){let s,e,r;return{c(){s=v("div"),e=v("p"),r=N(l[10]),this.h()},l(n){s=w(n,"DIV",{class:!0});var t=P(s);e=w(t,"P",{class:!0});var o=P(e);r=z(o,l[10]),o.forEach(c),t.forEach(c),this.h()},h(){a(e,"class","text-xs font-medium leading-5 text-gray-700"),a(s,"class","flex-shrink-0 bg-gray-100 border-b border-gray-300 px-4 py-2")},m(n,t){F(n,s,t),i(s,e),i(e,r)},p(n,t){t[0]&1024&&je(r,n[10])},d(n){n&&c(s)}}}function Re(l){let s,e,r,n,t,o,u,E,b,k,g,T,L,m,G;return{c(){s=v("div"),e=v("label"),r=v("span"),n=N("Job Priority"),t=R(),o=v("span"),u=N("Default: "),E=N(l[13]),b=R(),k=v("div"),g=v("input"),this.h()},l(D){s=w(D,"DIV",{});var y=P(s);e=w(y,"LABEL",{for:!0,class:!0});var d=P(e);r=w(d,"SPAN",{});var I=P(r);n=z(I,"Job Priority"),I.forEach(c),t=x(d),o=w(d,"SPAN",{class:!0});var O=P(o);u=z(O,"Default: "),E=z(O,l[13]),O.forEach(c),d.forEach(c),b=x(y),k=w(y,"DIV",{class:!0});var p=P(k);g=w(p,"INPUT",{type:!0,id:!0,class:!0,min:!0,max:!0}),p.forEach(c),y.forEach(c),this.h()},h(){a(o,"class","text-xs text-gray-600"),a(e,"for","description"),a(e,"class","w-full flex items-center justify-between text-sm font-medium text-gray-900"),a(g,"type","number"),a(g,"id","job_priority"),a(g,"class","block w-full shadow-sm sm:text-sm text-gray-700 focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md"),a(g,"min",T=0),a(g,"max",L=100),g.required=!0,a(k,"class","mt-1")},m(D,y){F(D,s,y),i(s,e),i(e,r),i(r,n),i(e,t),i(e,o),i(o,u),i(o,E),i(s,b),i(s,k),i(k,g),ce(g,l[12]),m||(G=ne(g,"input",l[33]),m=!0)},p(D,y){y[0]&8192&&je(E,D[13]),y[0]&4096&&Ve(g.value)!==D[12]&&ce(g,D[12])},d(D){D&&c(s),m=!1,G()}}}function xe(l){let s,e,r,n,t,o,u,E,b=(l[4]>1?"GPUs":"GPU")+"",k,g,T,L;return{c(){s=v("div"),e=v("nav"),r=v("button"),n=N("Queue to Lane"),o=R(),u=v("button"),E=N("Run on specific "),k=N(b),this.h()},l(m){s=w(m,"DIV",{class:!0});var G=P(s);e=w(G,"NAV",{class:!0,"aria-label":!0});var D=P(e);r=w(D,"BUTTON",{type:!0,class:!0});var y=P(r);n=z(y,"Queue to Lane"),y.forEach(c),o=x(D),u=w(D,"BUTTON",{type:!0,class:!0});var d=P(u);E=z(d,"Run on specific "),k=z(d,b),d.forEach(c),D.forEach(c),G.forEach(c),this.h()},h(){a(r,"type","button"),a(r,"class",t=""+((l[9]==="lane"?"border-purple-500 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm focus:outline-none")),a(u,"type","button"),a(u,"class",g=""+((l[9]==="gpu"?"border-purple-500 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm focus:outline-none")),a(e,"class","flex -mb-px"),a(e,"aria-label","Tabs"),a(s,"class","sticky top-0 z-1 border-b border-gray-200 bg-white")},m(m,G){F(m,s,G),i(s,e),i(e,r),i(r,n),i(e,o),i(e,u),i(u,E),i(u,k),T||(L=[ne(r,"click",l[34]),ne(u,"click",l[35])],T=!0)},p(m,G){G[0]&512&&t!==(t=""+((m[9]==="lane"?"border-purple-500 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm focus:outline-none"))&&a(r,"class",t),G[0]&16&&b!==(b=(m[4]>1?"GPUs":"GPU")+"")&&je(k,b),G[0]&512&&g!==(g=""+((m[9]==="gpu"?"border-purple-500 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" w-1/2 py-2 px-1 text-center border-b-2 font-medium text-sm focus:outline-none"))&&a(u,"class",g)},d(m){m&&c(s),T=!1,Ee(L)}}}function ct(l){let s,e;return s=new ut({props:{lanes:l[16],targets:l[17],numGpusNeeded:l[4],selectedHostname:l[2],selectedGpus:l[3],toggleGpu:l[21]}}),{c(){pe(s.$$.fragment)},l(r){de(s.$$.fragment,r)},m(r,n){be(s,r,n),e=!0},p(r,n){const t={};n[0]&65536&&(t.lanes=r[16]),n[0]&131072&&(t.targets=r[17]),n[0]&16&&(t.numGpusNeeded=r[4]),n[0]&4&&(t.selectedHostname=r[2]),n[0]&8&&(t.selectedGpus=r[3]),s.$set(t)},i(r){e||(W(s.$$.fragment,r),e=!0)},o(r){re(s.$$.fragment,r),e=!1},d(r){me(s,r)}}}function pt(l){let s,e,r,n,t,o,u,E,b,k,g,T,L,m,G,D;k=new rt({props:{src:st,size:4,modifier:"text-gray-400"}});let y=l[6]&&Be(l),d=l[16],I=[];for(let p=0;p<d.length;p+=1)I[p]=He(Qe(l,d,p));const O=p=>re(I[p],1,1,()=>{I[p]=null});return{c(){s=v("div"),e=v("div"),r=v("input"),n=R(),t=v("div"),o=v("label"),u=N("Show all lanes"),E=R(),b=v("span"),pe(k.$$.fragment),g=R(),T=v("div"),y&&y.c(),L=R();for(let p=0;p<I.length;p+=1)I[p].c();this.h()},l(p){s=w(p,"DIV",{class:!0});var h=P(s);e=w(h,"DIV",{class:!0});var f=P(e);r=w(f,"INPUT",{id:!0,type:!0,class:!0}),f.forEach(c),n=x(h),t=w(h,"DIV",{class:!0});var K=P(t);o=w(K,"LABEL",{for:!0,class:!0});var U=P(o);u=z(U,"Show all lanes"),U.forEach(c),K.forEach(c),E=x(h),b=w(h,"SPAN",{class:!0});var V=P(b);de(k.$$.fragment,V),V.forEach(c),h.forEach(c),g=x(p),T=w(p,"DIV",{class:!0});var Y=P(T);y&&y.l(Y),L=x(Y);for(let q=0;q<I.length;q+=1)I[q].l(Y);Y.forEach(c),this.h()},h(){a(r,"id","show_all_lanes"),a(r,"type","checkbox"),a(r,"class","focus:outline-none focus:ring-transparent focus-visible:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300 rounded"),a(e,"class","flex items-center h-5"),a(o,"for","show_all_lanes"),a(o,"class","text-xs font-medium text-gray-700"),a(t,"class","ml-2 text-sm"),a(b,"class","ml-1 cursor-help opacity-0 group-hover:opacity-100 transition duration-150 ease-in-out"),a(s,"class","flex items-center group"),a(T,"class","mt-2 space-y-5")},m(p,h){F(p,s,h),i(s,e),i(e,r),r.checked=l[11],i(s,n),i(s,t),i(t,o),i(o,u),i(s,E),i(s,b),be(k,b,null),F(p,g,h),F(p,T,h),y&&y.m(T,null),i(T,L);for(let f=0;f<I.length;f+=1)I[f].m(T,null);m=!0,G||(D=[ne(r,"change",l[36]),Ne(lt.call(null,b,{content:"Show all lanes, including ones that do not have applicable resources available",placement:"top"}))],G=!0)},p(p,h){if(h[0]&2048&&(r.checked=p[11]),p[6]?y?y.p(p,h):(y=Be(p),y.c(),y.m(T,L)):y&&(y.d(1),y=null),h[0]&5179394){d=p[16];let f;for(f=0;f<d.length;f+=1){const K=Qe(p,d,f);I[f]?(I[f].p(K,h),W(I[f],1)):(I[f]=He(K),I[f].c(),W(I[f],1),I[f].m(T,null))}for(Pe(),f=d.length;f<I.length;f+=1)O(f);Ie()}},i(p){if(!m){W(k.$$.fragment,p);for(let h=0;h<d.length;h+=1)W(I[h]);m=!0}},o(p){re(k.$$.fragment,p),I=I.filter(Boolean);for(let h=0;h<I.length;h+=1)re(I[h]);m=!1},d(p){p&&c(s),me(k),p&&c(g),p&&c(T),y&&y.d(),ze(I,p),G=!1,Ee(D)}}}function dt(l){let s,e,r;return{c(){s=v("div"),e=v("p"),r=N("This interactive job will run on the master node"),this.h()},l(n){s=w(n,"DIV",{class:!0});var t=P(s);e=w(t,"P",{class:!0});var o=P(e);r=z(o,"This interactive job will run on the master node"),o.forEach(c),t.forEach(c),this.h()},h(){a(e,"class","text-sm leading-4 text-gray-500"),a(s,"class","p-3 bg-gray-100 rounded")},m(n,t){F(n,s,t),i(s,e),i(e,r)},p:Le,i:Le,o:Le,d(n){n&&c(s)}}}function Be(l){let s,e,r,n,t,o,u,E,b,k,g,T;return{c(){s=v("label"),e=v("input"),n=R(),t=v("p"),o=N("Master node"),u=R(),E=v("div"),this.h()},l(L){s=w(L,"LABEL",{class:!0});var m=P(s);e=w(m,"INPUT",{id:!0,type:!0,class:!0}),n=x(m),t=w(m,"P",{class:!0});var G=P(t);o=z(G,"Master node"),G.forEach(c),u=x(m),E=w(m,"DIV",{class:!0,"aria-hidden":!0}),P(E).forEach(c),m.forEach(c),this.h()},h(){a(e,"id","lane_master_direct"),a(e,"type","radio"),e.value=r=null,a(e,"class","sr-only"),a(t,"class","font-medium text-gray-900 text-sm"),a(E,"class",b="absolute -inset-px rounded-lg pointer-events-none "+(l[1]===null?"border-purple-500 border-2":"border border-transparent")),a(E,"aria-hidden","true"),a(s,"class",k="relative block border "+(l[1]===null?"bg-purple-50 bg-opacity-50 border-transparent":"bg-white border-gray-300")+" rounded-lg shadow-sm px-3 py-2 cursor-pointer sm:flex sm:justify-between focus:outline-none")},m(L,m){F(L,s,m),i(s,e),i(s,n),i(s,t),i(t,o),i(s,u),i(s,E),g||(T=ne(e,"click",l[37]),g=!0)},p(L,m){m[0]&2&&b!==(b="absolute -inset-px rounded-lg pointer-events-none "+(L[1]===null?"border-purple-500 border-2":"border border-transparent"))&&a(E,"class",b),m[0]&2&&k!==(k="relative block border "+(L[1]===null?"bg-purple-50 bg-opacity-50 border-transparent":"bg-white border-gray-300")+" rounded-lg shadow-sm px-3 py-2 cursor-pointer sm:flex sm:justify-between focus:outline-none")&&a(s,"class",k)},d(L){L&&c(s),g=!1,T()}}}function He(l){var n;let s,e;function r(...t){return l[38](l[46],...t)}return s=new ft({props:{lane:l[46],targets:(n=l[17])==null?void 0:n.filter(r),selectedLane:l[1],showHiddenLanes:l[11],selectLane:l[19],doesTargetHaveResources:l[22],clusterVars:l[18]}}),{c(){pe(s.$$.fragment)},l(t){de(s.$$.fragment,t)},m(t,o){be(s,t,o),e=!0},p(t,o){var E;l=t;const u={};o[0]&65536&&(u.lane=l[46]),o[0]&196608&&(u.targets=(E=l[17])==null?void 0:E.filter(r)),o[0]&2&&(u.selectedLane=l[1]),o[0]&2048&&(u.showHiddenLanes=l[11]),s.$set(u)},i(t){e||(W(s.$$.fragment,t),e=!0)},o(t){re(s.$$.fragment,t),e=!1},d(t){me(s,t)}}}function bt(l){let s,e,r,n,t,o,u,E,b,k,g,T,L,m,G,D,y,d,I,O,p,h,f,K,U,V,Y,q,C,M,Z,le,oe,$,Q=l[10]&&Ae(l),B=l[14]&&Re(l),S=l[5]&&xe(l);const ge=[dt,pt,ct],se=[];function ye(_,J){return _[0].isInteractive?0:_[9]==="lane"?1:_[9]==="gpu"?2:-1}return~(h=ye(l))&&(f=se[h]=ge[h](l)),{c(){Q&&Q.c(),s=R(),e=v("form"),r=v("div"),n=v("div"),t=v("div"),o=v("div"),u=v("label"),E=N("Title"),b=R(),k=v("div"),g=v("input"),T=R(),L=v("div"),m=v("label"),G=N("Description"),D=R(),y=v("div"),d=v("textarea"),I=R(),B&&B.c(),O=R(),S&&S.c(),p=R(),f&&f.c(),K=R(),U=v("div"),V=v("button"),Y=N("Cancel"),q=R(),C=v("button"),M=N("Queue"),this.h()},l(_){Q&&Q.l(_),s=x(_),e=w(_,"FORM",{id:!0,class:!0});var J=P(e);r=w(J,"DIV",{class:!0});var ae=P(r);n=w(ae,"DIV",{class:!0});var ve=P(n);t=w(ve,"DIV",{class:!0});var X=P(t);o=w(X,"DIV",{});var fe=P(o);u=w(fe,"LABEL",{for:!0,class:!0});var we=P(u);E=z(we,"Title"),we.forEach(c),b=x(fe),k=w(fe,"DIV",{class:!0});var ke=P(k);g=w(ke,"INPUT",{type:!0,id:!0,class:!0}),ke.forEach(c),fe.forEach(c),T=x(X),L=w(X,"DIV",{});var ue=P(L);m=w(ue,"LABEL",{for:!0,class:!0});var j=P(m);G=z(j,"Description"),j.forEach(c),D=x(ue),y=w(ue,"DIV",{class:!0});var H=P(y);d=w(H,"TEXTAREA",{id:!0,rows:!0,class:!0}),P(d).forEach(c),H.forEach(c),ue.forEach(c),I=x(X),B&&B.l(X),O=x(X),S&&S.l(X),p=x(X),f&&f.l(X),X.forEach(c),ve.forEach(c),ae.forEach(c),J.forEach(c),K=x(_),U=w(_,"DIV",{class:!0});var A=P(U);V=w(A,"BUTTON",{type:!0,class:!0});var ee=P(V);Y=z(ee,"Cancel"),ee.forEach(c),q=x(A),C=w(A,"BUTTON",{type:!0,form:!0,class:!0});var te=P(C);M=z(te,"Queue"),te.forEach(c),A.forEach(c),this.h()},h(){a(u,"for","job_title"),a(u,"class","block text-sm font-medium text-gray-900"),a(g,"type","text"),a(g,"id","job_title"),a(g,"class","block w-full shadow-sm sm:text-sm text-gray-700 focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md"),a(k,"class","mt-1"),a(m,"for","description"),a(m,"class","block text-sm font-medium text-gray-900"),a(d,"id","description"),a(d,"rows","2"),a(d,"class","block w-full shadow-sm p-2 text-sm text-gray-700 sm:text-sm focus:ring-blue-500 focus:border-blue-500 border border-gray-300 rounded-md"),a(y,"class","mt-1"),a(t,"class","space-y-4 pt-2 pb-4"),a(n,"class","px-4 divide-y divide-gray-200"),a(r,"class","flex-1 flex flex-col justify-between border-l border-gray-300"),a(e,"id","queue-job-form"),a(e,"class","flex-1 h-0 overflow-y-auto custom-scrollbar"),a(V,"type","button"),a(V,"class","bg-white px-3 py-1 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),a(C,"type","submit"),a(C,"form","queue-job-form"),a(C,"class","ml-2 inline-flex justify-center px-3 py-1 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed"),C.disabled=Z=!l[15],a(U,"class","flex-shrink-0 px-2 py-2 flex justify-start border-t border-gray-300")},m(_,J){Q&&Q.m(_,J),F(_,s,J),F(_,e,J),i(e,r),i(r,n),i(n,t),i(t,o),i(o,u),i(u,E),i(o,b),i(o,k),i(k,g),ce(g,l[7]),i(t,T),i(t,L),i(L,m),i(m,G),i(L,D),i(L,y),i(y,d),ce(d,l[8]),i(t,I),B&&B.m(t,null),i(t,O),S&&S.m(t,null),i(t,p),~h&&se[h].m(t,null),F(_,K,J),F(_,U,J),i(U,V),i(V,Y),i(U,q),i(U,C),i(C,M),le=!0,oe||($=[ne(g,"input",l[31]),ne(d,"input",l[32]),ne(e,"submit",Me(l[23])),ne(V,"click",Ce)],oe=!0)},p(_,J){_[10]?Q?Q.p(_,J):(Q=Ae(_),Q.c(),Q.m(s.parentNode,s)):Q&&(Q.d(1),Q=null),J[0]&128&&g.value!==_[7]&&ce(g,_[7]),J[0]&256&&ce(d,_[8]),_[14]?B?B.p(_,J):(B=Re(_),B.c(),B.m(t,O)):B&&(B.d(1),B=null),_[5]?S?S.p(_,J):(S=xe(_),S.c(),S.m(t,p)):S&&(S.d(1),S=null);let ae=h;h=ye(_),h===ae?~h&&se[h].p(_,J):(f&&(Pe(),re(se[ae],1,1,()=>{se[ae]=null}),Ie()),~h?(f=se[h],f?f.p(_,J):(f=se[h]=ge[h](_),f.c()),W(f,1),f.m(t,null)):f=null),(!le||J[0]&32768&&Z!==(Z=!_[15]))&&(C.disabled=Z)},i(_){le||(W(f),le=!0)},o(_){re(f),le=!1},d(_){Q&&Q.d(_),_&&c(s),_&&c(e),B&&B.d(),S&&S.d(),~h&&se[h].d(),_&&c(K),_&&c(U),oe=!1,Ee($)}}}let mt=!1;function ht(l,s,e){var ue;let r,n,t,o,u,E,b,k,g,T,L,m,G,D,y,d,I,O,p,h;ie(l,it,j=>e(30,d=j)),ie(l,Ye,j=>e(16,O=j)),ie(l,Fe,j=>e(44,p=j)),ie(l,Ze,j=>e(17,h=j));let{data:f}=s;const K=Se({});ie(l,K,j=>e(43,I=j));let U="",V="",Y="lane",q=p,C=null,M=[],Z=null,le=!1,oe=0,$=(ue=d==null?void 0:d.defaultJobPriority)!=null?ue:oe;const Q=(j,H=!1)=>{H&&q!==null||e(1,q=j)},B=()=>{e(1,q=null),e(2,C=null),e(3,M=[])},S=j=>{e(9,Y=j),B()},ge=(j,H,A)=>{C!==null&&H!==C||(e(2,C=H),M.includes(A)?(e(3,M=M.filter(ee=>ee!==A)),M.length===0&&e(2,C=null)):M.length<m?e(3,M=[...M,A]):j.preventDefault())},se=(j,H,A)=>{var ee,te,Te;return typeof((ee=t==null?void 0:t.slots)==null?void 0:ee.CPU)=="number"&&j<t.slots.CPU||typeof((te=t==null?void 0:t.slots)==null?void 0:te.RAM)=="number"&&H<t.slots.RAM?!1:!(typeof((Te=t==null?void 0:t.slots)==null?void 0:Te.GPU)=="number"&&A<t.slots.GPU)},ye=async()=>{_e("Queue",U,V,q,mt),Ce();const j=O.find(A=>A.name===q),H=f.isInteractive?null:q;if(U!==o&&(_e("Setting job title",r,n,U),await he.core.updateJobTitle(r,n,U)),V!==u&&(_e("Setting job description",r,n,V),await he.core.updateJobDescription(r,n,V)),($!==y||$!==E)&&(_e("Setting job priority",r,n,$),await he.core.updateJobPriority(r,n,$)),(j==null?void 0:j.type)==="cluster"){const A=Object.fromEntries(Object.entries(I).filter(([ee,te])=>typeof te=="string"&&te!==""));Object.keys(A).length>0&&(_e("Custom cluster submission script vars",A),await he.core.setJobClusterSubmissionCustomVars(r,n,A))}at(r,n,{lane:H,hostname:C,gpus:M,schedulerNoCheckInputsReady:T})};Oe(async()=>{var j;e(24,oe=await he.core.getInstanceDefaultJobPriority()),e(12,$=(j=d==null?void 0:d.defaultJobPriority)!=null?j:oe)});function _(){U=this.value,e(7,U),e(26,o),e(0,f)}function J(){V=this.value,e(8,V),e(25,u),e(0,f)}function ae(){$=Ve(this.value),e(12,$)}const ve=()=>S("lane"),X=()=>S("gpu");function fe(){le=this.checked,e(11,le)}const we=()=>Q(null),ke=(j,H)=>(H==null?void 0:H.lane)===(j==null?void 0:j.name);return l.$$set=j=>{"data"in j&&e(0,f=j.data)},l.$$.update=()=>{var j,H,A,ee,te;l.$$.dirty[0]&1&&e(27,{doc:{project_uid:r,uid:n,resources_needed:t,title:o,description:u,priority:E},isBuilding:b,hasInputErrors:k}=f,t,(e(26,o),e(0,f)),(e(25,u),e(0,f)),(e(29,b),e(0,f)),(e(28,k),e(0,f))),l.$$.dirty[0]&67108864&&o&&e(7,U=o),l.$$.dirty[0]&33554432&&u&&e(8,V=u),l.$$.dirty[0]&134218752&&((t==null?void 0:t.slots)?(e(10,Z="Requires "),typeof((j=t==null?void 0:t.slots)==null?void 0:j.CPU)=="number"&&e(10,Z+=`${t.slots.CPU} CPU cores`),typeof((H=t==null?void 0:t.slots)==null?void 0:H.RAM)=="number"&&e(10,Z+=`, ${t.slots.RAM*8} GB RAM`),typeof((A=t==null?void 0:t.slots)==null?void 0:A.GPU)=="number"&&((ee=t==null?void 0:t.slots)==null?void 0:ee.GPU)!==0&&e(10,Z+=`, ${t.slots.GPU} GPU${t.slots.GPU!==1?"s":""}`)):e(10,Z=null)),l.$$.dirty[0]&1&&e(6,g=ot(f.doc)),l.$$.dirty[0]&1&&(T=nt(f.doc)),l.$$.dirty[0]&134217728&&e(5,L=t&&t.slots&&typeof t.slots.GPU=="number"&&t.slots.GPU>0),l.$$.dirty[0]&134217728&&e(4,m=t&&t.slots&&t.slots.GPU?t.slots.GPU:0),l.$$.dirty[0]&805306495&&e(15,G=b&&!k&&(f.isInteractive||g||q!==null||L&&q===null&&C!==null&&M.length===m)),l.$$.dirty[0]&1073741824&&e(14,D=(d==null?void 0:d.admin)===!0||(d==null?void 0:d.userCanSetJobPriority)===!0),l.$$.dirty[0]&1090519040&&e(13,y=(te=d==null?void 0:d.defaultJobPriority)!=null?te:oe)},[f,q,C,M,m,L,g,U,V,Y,Z,le,$,y,D,G,O,h,K,Q,S,ge,se,ye,oe,u,o,t,k,b,d,_,J,ae,ve,X,fe,we,ke]}class _t extends Ge{constructor(s){super();De(this,s,ht,bt,Ue,{data:0},null,[-1,-1])}}function qe(l){var t;let s,e,r,n;return s=new tt({props:{title:"Queue "+l[1]+" "+l[0],subtitle:(t=l[2].jobType)!=null?t:null,colour:"purple"}}),r=new _t({props:{data:l[2]}}),{c(){pe(s.$$.fragment),e=R(),pe(r.$$.fragment)},l(o){de(s.$$.fragment,o),e=x(o),de(r.$$.fragment,o)},m(o,u){be(s,o,u),F(o,e,u),be(r,o,u),n=!0},p(o,u){var k;const E={};u&3&&(E.title="Queue "+o[1]+" "+o[0]),u&4&&(E.subtitle=(k=o[2].jobType)!=null?k:null),s.$set(E);const b={};u&4&&(b.data=o[2]),r.$set(b)},i(o){n||(W(s.$$.fragment,o),W(r.$$.fragment,o),n=!0)},o(o){re(s.$$.fragment,o),re(r.$$.fragment,o),n=!1},d(o){me(s,o),o&&c(e),me(r,o)}}}function gt(l){let s,e,r=typeof l[2]!="undefined"&&l[2]!==null&&qe(l);return{c(){r&&r.c(),s=Je()},l(n){r&&r.l(n),s=Je()},m(n,t){r&&r.m(n,t),F(n,s,t),e=!0},p(n,[t]){typeof n[2]!="undefined"&&n[2]!==null?r?(r.p(n,t),t&4&&W(r,1)):(r=qe(n),r.c(),W(r,1),r.m(s.parentNode,s)):r&&(Pe(),re(r,1,1,()=>{r=null}),Ie())},i(n){e||(W(r),e=!0)},o(n){re(r),e=!1},d(n){r&&r.d(n),n&&c(s)}}}function yt(l,s,e){let r,n,t,o,u;ie(l,We,b=>e(0,t=b)),ie(l,Xe,b=>e(1,o=b)),ie(l,$e,b=>e(4,u=b));const E=Se(!0);return l.$$.update=()=>{l.$$.dirty&3&&typeof o=="string"&&typeof t=="string"&&et("QueueJobPanel","jobPanel",E,o,t),l.$$.dirty&19&&e(3,r=u.find(b=>b.project_uid===o&&b.uid===t)),l.$$.dirty&8&&e(2,n=Ke(r))},[t,o,n,r,u]}class Qt extends Ge{constructor(s){super();De(this,s,yt,gt,Ue,{})}}export{Qt as default};
