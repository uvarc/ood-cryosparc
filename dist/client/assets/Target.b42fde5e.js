import{S as ye,h as je,s as ke,Q as v,a6 as N,I as U,C as x,R as y,T as j,a7 as D,J as V,D as ee,p as c,U as b,k as J,a2 as d,E as te,ao as we,ae as L,ap as Be,o as C,t as T,H as le,c as Ee,K as $e,ax as qe,l as se,m as ae,L as O,am as Ke,ac as Le,j as ne,V as ze,W as He}from"./vendor.3ae73048.js";import{a as Oe,x as Fe,K as Me,af as Qe,O as Re,d as We,b3 as Ge,b4 as Xe}from"./router.1b465492.js";import{U as Ye}from"./UtilityDialog.257be836.js";import"./types.8cb6216c.js";import{I as Se}from"./Icon.61279884.js";import{E as Ze}from"./Logout.c3964a48.js";import{K as xe}from"./Search.fa01495d.js";import{B as et}from"./ButtonConfirmation.a6b453ba.js";import{t as Ce}from"./Spinner.012207c4.js";import{ao as Ne,bo as ue,c5 as tt,u as lt}from"./index.146c2037.js";import{i as st,a as at}from"./helpers.7177ca38.js";import"./index.2e3bb17a.js";import"./TagCount.d4471cb8.js";import"./index.11580965.js";import"./jobs.7ab064ef.js";import"./index.c4392b02.js";import"./jobs.d50d1674.js";import"./ChevronUp.0ab7bee0.js";import"./Folder.9bc96b35.js";import"./LockClosed.9ead7228.js";import"./Button.d254e004.js";function De(o){let e,t=o[0].resources_allocated.licenses_acquired+"",l,n,s,r,a,i,p;return s=new Se({props:{src:xe,modifier:"inline-block mb-1 text-yellow-400",size:4}}),{c(){e=v("span"),l=N(t),n=U(),x(s.$$.fragment),this.h()},l(m){e=y(m,"SPAN",{class:!0});var f=j(e);l=D(f,t),n=V(f),ee(s.$$.fragment,f),f.forEach(c),this.h()},h(){b(e,"class","mr-1 font-bold text-yellow-400")},m(m,f){J(m,e,f),d(e,l),d(e,n),te(s,e,null),a=!0,i||(p=we(r=Ce.call(null,e,{content:`Using ${o[0].resources_allocated.licenses_acquired} Token`})),i=!0)},p(m,f){(!a||f&1)&&t!==(t=m[0].resources_allocated.licenses_acquired+"")&&L(l,t),r&&Be(r.update)&&f&1&&r.update.call(null,{content:`Using ${m[0].resources_allocated.licenses_acquired} Token`})},i(m){a||(C(s.$$.fragment,m),a=!0)},o(m){T(s.$$.fragment,m),a=!1},d(m){m&&c(e),le(s),i=!1,p()}}}function Ie(o){let e,t=o[0].priority+"",l,n,s,r,a,i,p,m;return s=new Se({props:{src:Ze,modifier:"inline-block mb-1 text-"+o[5],size:4}}),{c(){e=v("span"),l=N(t),n=U(),x(s.$$.fragment),this.h()},l(f){e=y(f,"SPAN",{class:!0});var g=j(e);l=D(g,t),n=V(g),ee(s.$$.fragment,g),g.forEach(c),this.h()},h(){b(e,"class",r="mr-1 font-bold "+(o[5]||""))},m(f,g){J(f,e,g),d(e,l),d(e,n),te(s,e,null),i=!0,p||(m=we(a=Ce.call(null,e,{content:"Job priority"})),p=!0)},p(f,g){(!i||g&1)&&t!==(t=f[0].priority+"")&&L(l,t);const P={};g&32&&(P.modifier="inline-block mb-1 text-"+f[5]),s.$set(P),(!i||g&32&&r!==(r="mr-1 font-bold "+(f[5]||"")))&&b(e,"class",r)},i(f){i||(C(s.$$.fragment,f),i=!0)},o(f){T(s.$$.fragment,f),i=!1},d(f){f&&c(e),le(s),p=!1,m()}}}function Ae(o){let e,t,l=Ee(o[0].launched_at,{includeSeconds:!0})+"",n,s;return{c(){e=v("span"),t=N("Launched "),n=N(l),s=N(" ago"),this.h()},l(r){e=y(r,"SPAN",{class:!0});var a=j(e);t=D(a,"Launched "),n=D(a,l),s=D(a," ago"),a.forEach(c),this.h()},h(){b(e,"class","block text-left italic text-xs leading-4")},m(r,a){J(r,e,a),d(e,t),d(e,n),d(e,s)},p(r,a){a&1&&l!==(l=Ee(r[0].launched_at,{includeSeconds:!0})+"")&&L(n,l)},d(r){r&&c(e)}}}function ot(o){var n;let e,t=((n=o[3])==null?void 0:n.name)+"",l;return{c(){e=N("Created by "),l=N(t)},l(s){e=D(s,"Created by "),l=D(s,t)},m(s,r){J(s,e,r),J(s,l,r)},p(s,r){var a;r&8&&t!==(t=((a=s[3])==null?void 0:a.name)+"")&&L(l,t)},d(s){s&&c(e),s&&c(l)}}}function it(o){let e;return{c(){e=N("Created by me")},l(t){e=D(t,"Created by me")},m(t,l){J(t,e,l)},p:Le,d(t){t&&c(e)}}}function Je(o){let e,t,l,n,s,r;return t=new et({props:{modifier:"text-xs",$$slots:{default:[rt]},$$scope:{ctx:o}}}),t.$on("confirm",o[12]),{c(){e=v("button"),x(t.$$.fragment),l=N(`
        Kill`),this.h()},l(a){e=y(a,"BUTTON",{class:!0});var i=j(e);ee(t.$$.fragment,i),l=D(i,`
        Kill`),i.forEach(c),this.h()},h(){b(e,"class","relative mt-2 w-full px-2 font-semibold rounded text-red-600 bg-red-100 hover:text-white hover:bg-red-600")},m(a,i){J(a,e,i),te(t,e,null),d(e,l),n=!0,s||(r=$e(e,"click",qe(o[11])),s=!0)},p(a,i){const p={};i&16384&&(p.$$scope={dirty:i,ctx:a}),t.$set(p)},i(a){n||(C(t.$$.fragment,a),n=!0)},o(a){T(t.$$.fragment,a),n=!1},d(a){a&&c(e),le(t),s=!1,r()}}}function rt(o){let e;return{c(){e=N("Kill job?")},l(t){e=D(t,"Kill job?")},m(t,l){J(t,e,l)},d(t){t&&c(e)}}}function nt(o){let e,t,l,n,s,r,a=o[0].project_uid+"",i,p,m,f=o[0].uid+"",g,P,H,k,w,_=o[0].status+"",q,F,R,W,G,Z=(o[0].job_type&&o[6][o[0].job_type]?o[6][o[0].job_type].title:o[0].job_type)+"",oe,fe,B,ie,M,ce,re,K,de,pe,E=o[0]&&o[0].resources_allocated&&typeof o[0].resources_allocated.licenses_acquired=="number"&&De(o),$=o[0]&&o[0].priority&&Ie(o),I=o[0].launched_at&&Ae(o);function _e(u,h){var Q;if(u[3]&&u[0].created_by_user_id&&u[0].created_by_user_id===((Q=u[7])==null?void 0:Q.id))return it;if(u[3]&&u[0].created_by_user_id)return ot}let X=_e(o),A=X&&X(o),S=o[4]&&o[0].status!=="queued"&&Je(o);return{c(){e=v("button"),t=v("div"),l=v("div"),n=v("span"),r=U(),i=N(a),p=U(),m=v("span"),g=N(f),P=U(),E&&E.c(),H=U(),$&&$.c(),k=U(),w=v("span"),q=N(_),R=U(),W=v("div"),G=v("span"),oe=N(Z),fe=U(),B=v("div"),I&&I.c(),ie=U(),M=v("span"),A&&A.c(),ce=U(),S&&S.c(),this.h()},l(u){e=y(u,"BUTTON",{class:!0});var h=j(e);t=y(h,"DIV",{class:!0});var Q=j(t);l=y(Q,"DIV",{class:!0});var z=j(l);n=y(z,"SPAN",{class:!0}),j(n).forEach(c),r=V(z),i=D(z,a),p=V(z),m=y(z,"SPAN",{class:!0});var me=j(m);g=D(me,f),me.forEach(c),P=V(z),E&&E.l(z),H=V(z),$&&$.l(z),z.forEach(c),k=V(Q),w=y(Q,"SPAN",{class:!0});var be=j(w);q=D(be,_),be.forEach(c),Q.forEach(c),R=V(h),W=y(h,"DIV",{class:!0});var he=j(W);G=y(he,"SPAN",{class:!0});var ge=j(G);oe=D(ge,Z),ge.forEach(c),he.forEach(c),fe=V(h),B=y(h,"DIV",{class:!0});var Y=j(B);I&&I.l(Y),ie=V(Y),M=y(Y,"SPAN",{class:!0});var ve=j(M);A&&A.l(ve),ve.forEach(c),ce=V(Y),S&&S.l(Y),Y.forEach(c),h.forEach(c),this.h()},h(){b(n,"class",s="inline-block w-2 h-2 rounded-full "+Ne(o[0].status)),b(m,"class","font-bold mr-1"),b(l,"class","mr-auto"),b(w,"class",F="capitalize inline-flex items-center px-1 py-0.5 rounded text-xs font-base leading-tight bg-"+ue(o[0].status)+"-100 text-"+ue(o[0].status)+"-700"),b(t,"class","flex flex-wrap items-center w-full mb-1 text-xs"),b(G,"class","block font-bold"),b(W,"class","w-full mb-2 text-left"),b(M,"class","block text-left italic text-xs leading-4"),b(B,"class","w-full"),b(e,"class",re=""+(o[1]+" relative flex flex-col border border-gray-300 rounded py-2 px-2 text-sm text-gray-500 cursor-pointer "+(o[4]?"hover:shadow-md duration-100 ease-in-out":"focus:outline-none cursor-default")))},m(u,h){J(u,e,h),d(e,t),d(t,l),d(l,n),d(l,r),d(l,i),d(l,p),d(l,m),d(m,g),d(l,P),E&&E.m(l,null),d(l,H),$&&$.m(l,null),d(t,k),d(t,w),d(w,q),d(e,R),d(e,W),d(W,G),d(G,oe),d(e,fe),d(e,B),I&&I.m(B,null),d(B,ie),d(B,M),A&&A.m(M,null),d(B,ce),S&&S.m(B,null),K=!0,de||(pe=$e(e,"click",o[13]),de=!0)},p(u,[h]){(!K||h&1&&s!==(s="inline-block w-2 h-2 rounded-full "+Ne(u[0].status)))&&b(n,"class",s),(!K||h&1)&&a!==(a=u[0].project_uid+"")&&L(i,a),(!K||h&1)&&f!==(f=u[0].uid+"")&&L(g,f),u[0]&&u[0].resources_allocated&&typeof u[0].resources_allocated.licenses_acquired=="number"?E?(E.p(u,h),h&1&&C(E,1)):(E=De(u),E.c(),C(E,1),E.m(l,H)):E&&(se(),T(E,1,1,()=>{E=null}),ae()),u[0]&&u[0].priority?$?($.p(u,h),h&1&&C($,1)):($=Ie(u),$.c(),C($,1),$.m(l,null)):$&&(se(),T($,1,1,()=>{$=null}),ae()),(!K||h&1)&&_!==(_=u[0].status+"")&&L(q,_),(!K||h&1&&F!==(F="capitalize inline-flex items-center px-1 py-0.5 rounded text-xs font-base leading-tight bg-"+ue(u[0].status)+"-100 text-"+ue(u[0].status)+"-700"))&&b(w,"class",F),(!K||h&65)&&Z!==(Z=(u[0].job_type&&u[6][u[0].job_type]?u[6][u[0].job_type].title:u[0].job_type)+"")&&L(oe,Z),u[0].launched_at?I?I.p(u,h):(I=Ae(u),I.c(),I.m(B,ie)):I&&(I.d(1),I=null),X===(X=_e(u))&&A?A.p(u,h):(A&&A.d(1),A=X&&X(u),A&&(A.c(),A.m(M,null))),u[4]&&u[0].status!=="queued"?S?(S.p(u,h),h&17&&C(S,1)):(S=Je(u),S.c(),C(S,1),S.m(B,null)):S&&(se(),T(S,1,1,()=>{S=null}),ae()),(!K||h&18&&re!==(re=""+(u[1]+" relative flex flex-col border border-gray-300 rounded py-2 px-2 text-sm text-gray-500 cursor-pointer "+(u[4]?"hover:shadow-md duration-100 ease-in-out":"focus:outline-none cursor-default"))))&&b(e,"class",re)},i(u){K||(C(E),C($),C(S),K=!0)},o(u){T(E),T($),T(S),K=!1},d(u){u&&c(e),E&&E.d(),$&&$.d(),I&&I.d(),A&&A.d(),S&&S.d(),de=!1,pe()}}}function ut(o,e,t){let l,n,s,r,a,i,p,m;O(o,Oe,_=>t(8,r=_)),O(o,st,_=>t(9,a=_)),O(o,Fe,_=>t(10,i=_)),O(o,Me,_=>t(6,p=_)),O(o,at,_=>t(7,m=_));let{job:f}=e,{modifier:g=""}=e;const P=async(_,q)=>{await lt.core.killJob(_,q)};function H(_){Ke.call(this,o,_)}const k=()=>P(f.project_uid,f.uid),w=()=>s&&Qe(f.project_uid,f.uid);return o.$$set=_=>{"job"in _&&t(0,f=_.job),"modifier"in _&&t(1,g=_.modifier)},o.$$.update=()=>{o.$$.dirty&1025&&t(3,l=i.find(_=>_.id===f.created_by_user_id)),o.$$.dirty&1&&t(5,n=tt(f.priority)),o.$$.dirty&769&&t(4,s=a||r.includes(f.project_uid))},[f,g,P,l,s,n,p,m,r,a,i,H,k,w]}class ft extends ye{constructor(e){super();je(this,e,ut,nt,ke,{job:0,modifier:1,killJob:2})}get killJob(){return this.$$.ctx[2]}}function Pe(o,e,t){const l=o.slice();return l[5]=e[t],l}function Te(o){let e=[],t=new Map,l,n,s=o[1];const r=a=>a[5].id;for(let a=0;a<s.length;a+=1){let i=Pe(o,s,a),p=r(i);t.set(p,e[a]=Ue(p,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ne()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ne()},m(a,i){for(let p=0;p<e.length;p+=1)e[p].m(a,i);J(a,l,i),n=!0},p(a,i){i&2&&(s=a[1],se(),e=ze(e,i,r,1,a,s,t,l.parentNode,He,Ue,l,Pe),ae())},i(a){if(!n){for(let i=0;i<s.length;i+=1)C(e[i]);n=!0}},o(a){for(let i=0;i<e.length;i+=1)T(e[i]);n=!1},d(a){for(let i=0;i<e.length;i+=1)e[i].d(a);a&&c(l)}}}function Ue(o,e){let t,l,n;return l=new ft({props:{job:e[5]}}),{key:o,first:null,c(){t=ne(),x(l.$$.fragment),this.h()},l(s){t=ne(),ee(l.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){J(s,t,r),te(l,s,r),n=!0},p(s,r){e=s;const a={};r&2&&(a.job=e[5]),l.$set(a)},i(s){n||(C(l.$$.fragment,s),n=!0)},o(s){T(l.$$.fragment,s),n=!1},d(s){s&&c(t),le(l,s)}}}function ct(o){let e,t,l,n,s=o[1]&&Te(o);return{c(){e=v("div"),t=v("div"),l=v("div"),s&&s.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var a=j(e);t=y(a,"DIV",{class:!0});var i=j(t);l=y(i,"DIV",{class:!0});var p=j(l);s&&s.l(p),p.forEach(c),i.forEach(c),a.forEach(c),this.h()},h(){b(l,"class","grid md:grid-cols-3 sm:grid-cols-2 gap-2 my-1"),b(t,"class","px-2.5 py-1.5 overflow-y-auto"),b(e,"class","flex flex-col h-full bg-white overflow-hidden")},m(r,a){J(r,e,a),d(e,t),d(t,l),s&&s.m(l,null),n=!0},p(r,a){r[1]?s?(s.p(r,a),a&2&&C(s,1)):(s=Te(r),s.c(),C(s,1),s.m(l,null)):s&&(se(),T(s,1,1,()=>{s=null}),ae())},i(r){n||(C(s),n=!0)},o(r){T(s),n=!1},d(r){r&&c(e),s&&s.d()}}}function Ve(o){var H;let e,t,l=o[0].title+"",n,s,r,a,i=o[0].type+"",p,m,f,g=((H=o[1])==null?void 0:H.length)+"",P;return{c(){e=v("div"),t=v("h3"),n=N(l),s=U(),r=v("div"),a=v("span"),p=N(i),m=U(),f=v("span"),P=N(g),this.h()},l(k){e=y(k,"DIV",{class:!0});var w=j(e);t=y(w,"H3",{class:!0});var _=j(t);n=D(_,l),_.forEach(c),w.forEach(c),s=V(k),r=y(k,"DIV",{class:!0});var q=j(r);a=y(q,"SPAN",{class:!0});var F=j(a);p=D(F,i),F.forEach(c),m=V(q),f=y(q,"SPAN",{class:!0});var R=j(f);P=D(R,g),R.forEach(c),q.forEach(c),this.h()},h(){b(t,"class","text-base leading-5 font-medium text-gray-600"),b(e,"class","flex w-full items-center"),b(a,"class","inline-flex items-center px-2 py-0.5 rounded-full text-sm font-medium leading-5 bg-blue-100 text-gray-600"),b(f,"class","inline px-2 py-0.5 text-sm rounded font-medium leading-5 bg-blue-100 text-gray-600 ml-2 whitespace-nowrap"),b(r,"class","flex items-center")},m(k,w){J(k,e,w),d(e,t),d(t,n),J(k,s,w),J(k,r,w),d(r,a),d(a,p),d(r,m),d(r,f),d(f,P)},p(k,w){var _;w&1&&l!==(l=k[0].title+"")&&L(n,l),w&1&&i!==(i=k[0].type+"")&&L(p,i),w&2&&g!==(g=((_=k[1])==null?void 0:_.length)+"")&&L(P,g)},d(k){k&&c(e),k&&c(s),k&&c(r)}}}function dt(o){let e,t=o[0]&&Ve(o);return{c(){e=v("div"),t&&t.c(),this.h()},l(l){e=y(l,"DIV",{slot:!0,class:!0});var n=j(e);t&&t.l(n),n.forEach(c),this.h()},h(){b(e,"slot","header"),b(e,"class","flex justify-between items-center w-full")},m(l,n){J(l,e,n),t&&t.m(e,null)},p(l,n){l[0]?t?t.p(l,n):(t=Ve(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d()}}}function pt(o){let e,t;return e=new Ye({props:{$$slots:{header:[dt],default:[ct]},$$scope:{ctx:o}}}),e.$on("close",Re),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,n){te(e,l,n),t=!0},p(l,[n]){const s={};n&259&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function _t(o,e,t){let l,n,s,r,a;return O(o,We,i=>t(2,s=i)),O(o,Ge,i=>t(3,r=i)),O(o,Xe,i=>t(4,a=i)),o.$$.update=()=>{var i,p;o.$$.dirty&20&&a&&t(1,l=a[(i=s==null?void 0:s.target)!=null?i:""]),o.$$.dirty&12&&r&&t(0,n=r[(p=s==null?void 0:s.target)!=null?p:""])},t(1,l=[]),t(0,n={}),[n,l,s,r,a]}class Vt extends ye{constructor(e){super();je(this,e,_t,pt,ke,{})}}export{Vt as default};
