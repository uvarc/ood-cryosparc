var Us=Object.defineProperty,Fs=Object.defineProperties;var Os=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var We=(s,e,r)=>e in s?Us(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,he=(s,e)=>{for(var r in e||(e={}))$t.call(e,r)&&We(s,r,e[r]);if(Se)for(var r of Se(e))jt.call(e,r)&&We(s,r,e[r]);return s},be=(s,e)=>Fs(s,Os(e));var De=(s,e)=>{var r={};for(var t in s)$t.call(s,t)&&e.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&Se)for(var t of Se(s))e.indexOf(t)<0&&jt.call(s,t)&&(r[t]=s[t]);return r};var kt=(s,e,r)=>(We(s,typeof e!="symbol"?e+"":e,r),r);import{i as vt,f as Ce,a as Ns,b as St,c as we,d as Ve,w as f,n as Dt,e as I,g as v,S as ze,h as He,s as Ke,j as x,k as G,l as ee,t as b,m as te,o as h,p as W,q as Ls,r as Js,u as Ct,v as Qe,x as Rt,y as se,z as re,A as ae,B as oe,C as R,D as T,E as A,F as qs,G as Ms,H as E,I as Gs,J as Ws,K as Vs,L as _e,M as zs,N as Re,O as Hs,P as Ze}from"./vendor.3ae73048.js";const Ks=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};Ks();const Qs="modulepreload",At={},Zs="/",U=function(e,r){return!r||r.length===0?e():Promise.all(r.map(t=>{if(t=`${Zs}${t}`,t in At)return;At[t]=!0;const a=t.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":Qs,a||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),a)return new Promise((c,i)=>{n.addEventListener("load",c),n.addEventListener("error",i)})})).then(()=>e())};let Et=!1;typeof window=="object"&&typeof window.localStorage.getItem("cryosparc_debug")=="string"&&(Et=!0);let Pt=!1;typeof window=="object"&&typeof window.localStorage.getItem("cryosparc_interactiveLocalhost")=="string"&&(Pt=!0);const ne=Et,Xs=Pt,K=s=>`background-color: ${s}; color: #fff; padding: 1px 4px; border-radius: 2px;`,Ys=s=>console.log(`%c${s}`,K("#4C6EF5")),ie=(...s)=>ne?console.log("%cINFO",K("#8A90A9"),...s):void 0,So=(...s)=>ne?console.log("%cSUCCESS",K("#05A172"),...s):void 0,Ae=(...s)=>ne?console.log("%cWARNING",K("#F08C00"),...s):void 0,M=(...s)=>ne?console.warn("%cWARNING",K("#F08C00"),...s):void 0,Ee=(...s)=>ne?console.log("%cERROR",K("#F03E3E"),...s):void 0,d=(s,...e)=>ne?console.log(`%c${s}`,K("#7950f2"),...e):void 0,Pe=(s,...e)=>ne?console.log(`%c${s}`,K("#05A172"),...e):void 0,er=s=>{var e=8,r=0;function t(u,p){var m=(65535&u)+(65535&p);return(u>>16)+(p>>16)+(m>>16)<<16|65535&m}function a(u,p){return u>>>p|u<<32-p}function o(u,p){return u>>>p}function n(u,p,m){return u&p^~u&m}function c(u,p,m){return u&p^u&m^p&m}function i(u){return a(u,2)^a(u,13)^a(u,22)}function l(u){return a(u,6)^a(u,11)^a(u,25)}function _(u){return a(u,7)^a(u,18)^o(u,3)}return function(u){for(var p=r?"0123456789ABCDEF":"0123456789abcdef",m="",g=0;g<4*u.length;g++)m+=p.charAt(u[g>>2]>>8*(3-g%4)+4&15)+p.charAt(u[g>>2]>>8*(3-g%4)&15);return m}(function(u,p){var m,g,C,B,w,k,O,X,j,Ge,ve,yt=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),$=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),Y=new Array(64);u[p>>5]|=128<<24-p%32,u[15+(p+64>>9<<4)]=p;for(var ge=0;ge<u.length;ge+=16){m=$[0],g=$[1],C=$[2],B=$[3],w=$[4],k=$[5],O=$[6],X=$[7];for(var J=0;J<64;J++)Y[J]=J<16?u[J+ge]:t(t(t(a(ve=Y[J-2],17)^a(ve,19)^o(ve,10),Y[J-7]),_(Y[J-15])),Y[J-16]),j=t(t(t(t(X,l(w)),n(w,k,O)),yt[J]),Y[J]),Ge=t(i(m),c(m,g,C)),X=O,O=k,k=w,w=t(B,j),B=C,C=g,g=m,m=t(j,Ge);$[0]=t(m,$[0]),$[1]=t(g,$[1]),$[2]=t(C,$[2]),$[3]=t(B,$[3]),$[4]=t(w,$[4]),$[5]=t(k,$[5]),$[6]=t(O,$[6]),$[7]=t(X,$[7])}return $}(function(u){for(var p=Array(),m=(1<<e)-1,g=0;g<u.length*e;g+=e)p[g>>5]|=(u.charCodeAt(g/e)&m)<<24-g%32;return p}(s=function(u){for(var p="",m=0;m<u.length;m++){var g=u.charCodeAt(m);g<128?p+=String.fromCharCode(g):g>127&&g<2048?(p+=String.fromCharCode(g>>6|192),p+=String.fromCharCode(63&g|128)):(p+=String.fromCharCode(g>>12|224),p+=String.fromCharCode(g>>6&63|128),p+=String.fromCharCode(63&g|128))}return p}(s)),s.length*e))};var xt;(function(s){s.admin="admin",s.user="user"})(xt||(xt={}));const tr={user:null,ddpToken:null,runningVersion:null,jobTypesAvailable:null,lanes:null,targets:null,keycloakAuthEnabled:null},Do=["users","config","schedulerConfig","projects","workspaces","jobs","events","exposures","interactive","notifications","reports","instanceActivity","files"];var Tt;(function(s){s.project="project",s.workspace="workspace",s.session="session",s.job="job"})(Tt||(Tt={}));var It;(function(s){s.projects="projects",s.workspaces="workspaces",s.sessions="sessions",s.jobs="jobs"})(It||(It={}));var Bt;(function(s){s.card="card",s.table="table",s.tree="tree"})(Bt||(Bt={}));const S={login:window.pathPrefix+"/login",resetPassword:window.pathPrefix+"/reset-password",createAccount:window.pathPrefix+"/create-account",home:window.pathPrefix+"/",browse:window.pathPrefix+"/browse/:search?",live:window.pathPrefix+"/live/:search?",liveDev:window.pathPrefix+"/live-dev/:search?",extend:window.pathPrefix+"/extend"},Ut=[S.login,S.resetPassword,S.createAccount],sr=[S.home,S.browse,S.live,S.liveDev,S.extend],Co={login:"login",resetPassword:"resetPassword",createAccount:"createAccount",home:"home",projects:"projects",workspaces:"workspaces",sessions:"sessions",jobs:"jobs",singleSession:"singleSession",singleSessionDev:"singleSessionDev",extend:"extend"},Ro={updates:"updates",settings:"settings",admin:"admin",shortcuts:"shortcuts",tools:"tools",failedExposures:"failedExposures",user:"user",job:"job",compare:"compare",target:"target",manage:"manage",jobsCSV:"jobsCSV"},Ao={base:"h-full flex items-center px-2 py-0.5 text-sm rounded-t focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",default:"text-gray-700 hover:bg-gray-100 hover:text-gray-900 bg-opacity-80 hover:bg-opacity-60",active:"text-gray-900 bg-white hover:bg-opacity-80"},rr={general:"general",dataManagement:"dataManagement",notifications:"notifications"},Eo={settings:"settings",userManagement:"userManagement",laneRestrictions:"laneRestrictions",clusterConfiguration:"clusterConfiguration",logs:"logs"},ar={currentJobs:"currentJobs",tags:"tags",instance:"instance",projectData:"projectData",sessionData:"sessionData",backups:"backups",benchmarks:"benchmarks",notifications:"notifications"};var Xe;(function(s){s.core="core",s.live="live"})(Xe||(Xe={}));var y;(function(s){s.Building="building",s.Queued="queued",s.Launched="launched",s.Started="started",s.Waiting="waiting",s.Running="running",s.Killed="killed",s.Completed="completed",s.Failed="failed"})(y||(y={}));var de;(function(s){s.primary="primary",s.warning="warning",s.success="success",s.danger="danger"})(de||(de={}));var ye;(function(s){s.paused="paused",s.running="running",s.completed="completed",s.compacted="compacted",s.restoring="restoring",s.restoration_failed="restoration_failed"})(ye||(ye={}));var Ft;(function(s){s.paused="Paused",s.running="Running",s.completed="Completed",s.compacted="Compacted",s.restoring="Restoring",s.restoration_failed="Restoration Failed"})(Ft||(Ft={}));const Po=["id","uid","created_at","updated_at","type","depth","is_active","is_deleted","skip","project_uid","session_uid","inputs","state_data","stats","attribute_name","attribute_max","interactive_data"];var Ot;(function(s){s.general="general",s.project="project",s.workspace="workspace",s.session="session",s.job="job"})(Ot||(Ot={}));var Ye;(function(s){s["image/gif"]="image/gif",s["image/jpeg"]="image/jpeg",s["image/png"]="image/png",s["image/tiff"]="image/tiff",s["image/vnd.microsoft.icon"]="image/vnd.microsoft.icon",s["image/x-icon"]="image/x-icon",s["image/vnd.djvu"]="image/vnd.djvu",s["image/svg+xml"]="image/svg+xml"})(Ye||(Ye={}));const xo=["command_core","command_rtp","command_vis","app","app_api","app_legacy","database"],To={overview:"overview",interactive:"interactive",log:"log",inputs:"inputs",outputs:"outputs",volumes:"volumes",metadata:"metadata"};var Nt;(function(s){s.text="text",s.warning="warning",s.error="error",s.image="image",s.interactive="interactive",s.checkpoint="checkpoint"})(Nt||(Nt={}));const Lt="live_session",or="class_2D_streaming",nr="homo_refine_streaming",Io=[Lt,or,nr],Bo=[Lt],xe={dark:"cryosparc_dark",jobDialogProjectUid:"cryosparc_jobDialogProjectUid",jobDialogUid:"cryosparc_jobDialogUid",jobDialogOuputGroupsExpanded:"cryosparc_jobDialogOuputGroupsExpanded",jobDialogTab:"cryosparc_jobDialogTab",jobDialogShowInputSlots:"cryosparc_jobDialogShowInputSlots",jobDialogShowAllParams:"cryosparc_jobDialogShowAllParams",eventLogControls:"cryosparc_eventLogControls",homeSectionToggles:"cryosparc_homeSectionToggles",loginMessageEnabled:"cryosparc_loginMessageEnabled"},Uo={processingHistoryUserFilter:"cryosparc_processingHistoryUserFilter",jobsByStatusUserFilter:"cryosparc_jobsByStatusUserFilter",laneUsageUserFilter:"cryosparc_laneUsageUserFilter",recentJobsUserFilter:"cryosparc_recentJobsUserFilter"},ir={showSidebar:"cryosparc_fileBrowserShowSidebar",showBookmarks:"cryosparc_fileBrowserShowBookmarks",showRecent:"cryosparc_fileBrowserShowRecent",showProjects:"cryosparc_fileBrowserShowProjects"};var Jt;(function(s){s.asc="asc",s.desc="desc"})(Jt||(Jt={}));const Fo={instanceName:"cryosparc_instanceName"},Oo={edited:"text-yellow-600",required:"text-red-600",spec:"text-green-600",default:"text-gray-600"},No={edited:"border-yellow-400 text-yellow-900 placeholder-yellow-500 focus:border-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-transparent",required:"border-red-400 text-red-900 placeholder-red-500 focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-transparent",spec:"border-green-400 text-green-900 placeholder-green-500 focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-transparent",default:"border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-transparent"},Lo={edited:"bg-yellow-500",required:"bg-red-500",spec:"bg-green-500",default:"bg-blue-500"},Jo={manual:"#00ff00",blob:"#ffff00",template:"#ff0000",templateColorBlind:"#8F00FF"},V={filterBarExpanded:"cryosparc_filterBarExpanded",quickAccessExpanded:"cryosparc_quickAccessExpanded",quickAccessPanel:"cryosparc_quickAccessPanel",sidebarExpanded:"cryosparc_sidebarExpanded",sessionSidebarExpanded:"cryosparc_sessionSidebarExpanded",sidebarPanel:"cryosparc_sidebarPanel",selected:"cryosparc_selected",activeSelection:"cryosparc_activeSelection",builderJob:"cryosparc_builderJob",treeClickMode:"cryosparc_treeClickMode",treeWheelMode:"cryosparc_treeWheelMode",slideOverExpanded:"cryosparc_slideOverExpanded",slideOverType:"cryosparc_slideOverType",jobDetailsExpanded:"cryosparc_jobDetailsExpanded",jobDetailsJobName:"cryosparc_jobDetailsJobName",jobCart:"cryosparc_jobCart",jobCartProjectUid:"cryosparc_jobCartProjectUid",queueProjectUid:"cryosparc_queueProjectUid",queueJobUid:"cryosparc_queueJobUid"},qo={project:"project",workspace:"workspace",session:"session",job:"job"},D={goToFound:"go_to_found",found:"found",check:"check",motion:"motion",thumbs:"thumbs",ctf:"ctf",volume:"volume",pick:"pick",extract:"extract",extractManual:"extract_manual",ready:"ready",restoring:"restoring",restoring_motion:"restoring_motion",restoring_thumbs:"restoring_thumbs",restoring_ctf:"restoring_ctf",restoring_extract:"restoring_extract",restoring_extract_manual:"restoring_extract_manual"};var qt;(function(s){s.zoom="zoom",s.select="select"})(qt||(qt={}));var Mt;(function(s){s.drag="drag",s.manualAdd="manualAdd",s.manualRemove="manualRemove",s.measure="measure"})(Mt||(Mt={}));var Gt;(function(s){s.zoom="zoom",s.move="move"})(Gt||(Gt={}));var Wt;(function(s){s.point="point",s.diameter="diameter",s.extractionBox="extractionBox"})(Wt||(Wt={}));var z;(function(s){s.newProject="newProject",s.newWorkspace="newWorkspace",s.newSession="newSession",s.newTag="newTag",s.attachProject="attachProject",s.importJob="importJob",s.queueJob="queueJob",s.newUser="newUser"})(z||(z={}));const Mo={phase_two_gpus:"Reconstruction Number of GPU Workers",auxiliary_lane:"Auxiliary Jobs",phase_two_lane:"Reconstruction Lane",auxiliary_gpus:"Auxiliary Number of GPU Workers",auxiliary_ssd:"Auxiliary Use SSD",phase_one_lane:"Preprocessing Lane",phase_two_ssd:"Reconstruction Use SSD",phase_one_gpus:"Preprocessing Number of GPU Workers",priority:"Priority"},Go=[{name:"file_engine_enable",type:"boolean",title:"Enable continuous import",description:"Whether to continue watching this directory for new files. If turned off, the files found so far will still be kept.",baseValue:!1},{name:"ignore_exposures",type:"boolean",title:"Ignore exposures from group",description:"Whether to process/use exposures from this group in reconstructions. Turning this on will not delete files, only ignore these exposures when performing processing jobs.",baseValue:!1},{name:"file_engine_watch_path_abs",type:"path",title:"Directory to watch",description:"Absolute path to directory that will be watched for new files",baseValue:null,isRequired:!0},{name:"file_engine_filter",type:"string",title:"File name wildcard filter",description:"Wildcard (*?[]) filter to match filenames",baseValue:"*",isRequired:!0},{name:"file_engine_recursive",type:"boolean",title:"Search Recursively",description:"Search directories recursively",baseValue:!1},{name:"file_engine_min_file_size",type:"number",title:"Minimum File Size",description:"Number, in bytes",baseValue:0},{name:"file_engine_min_modified_time_delta",type:"number",title:"Minimum Last Modified Time Delta",description:"Number, in seconds",baseValue:0},{name:"gainref_path",type:"path",title:"Gain Reference Path",description:"Absolute path to gain reference file in .mrc format",baseValue:null},{name:"defect_path",type:"path",title:"Defect File Path",description:"Absolute path to defect file in .txt format",baseValue:null}],Wo={none:"none",save:"save",overwrite:"overwrite",apply:"apply"},cr={project:"project",workspace:"workspace",session:"session",job:"job"},Vo={details:"details",builder:"builder",cart:"cart",workflows:"workflows"};var Vt;(function(s){s.drag="drag",s.select="select"})(Vt||(Vt={}));var zt;(function(s){s.zoom="zoom",s.move="move"})(zt||(zt={}));var Ht;(function(s){s.redirect="redirect",s.login="login"})(Ht||(Ht={}));var ce;(function(s){s.windows="windows",s.macintosh="macintosh",s.linux="linux",s.android="android",s.ios="ios"})(ce||(ce={}));var Kt;(function(s){s.h="h",s.r="r",s.arrowDown="ArrowDown",s.arrowUp="ArrowUp",s.arrowLeft="ArrowLeft",s.arrowRight="ArrowRight"})(Kt||(Kt={}));var pe;(function(s){s.statistics="statistics",s.resources="resources",s.activeJobs="activeJobs",s.favourites="favourites"})(pe||(pe={}));const lr={[pe.statistics]:!0,[pe.resources]:!0,[pe.activeJobs]:!0,[pe.favourites]:!0},zo={tiles:"tiles",outputs:"outputs"},Ho=["accel_kv","align_templates_vertically","alignment_tolerance","alignments3D_exists","angular_step","autoencoder","b_factor_global","b_factor_local","blob_exists","clustering_method","compute_num_cpus","ctf_exists","dropout","filament_exists","filament_far_dist_A","filament_inner_diameter","filament_outer_diameter","fm_dose_e_per_A2","generate_intermediate_results","gpu_num_gpus","group_index_number","group_num","hog_thres","index_position","k_fold","k_fold_interval","k_fold_start","location_exists","loss_param1","loss_param2","loss_param3","loss_param4","max_iterations","max_tilt","model_param1","model_param2","model_param3","model_param4","mov_cut_prefix_xml","mov_cut_suffix_xml","n_templates","norm_recompute","norm_scale_factor","num_chars","num_clusters","num_train_mics","par_diam","pearson_thres","pick_stats_exists","pre_crop_frac","psize_raw","refine_sym_fix_grid","refine_sym_inner_diam_A","refine_sym_interp","refine_sym_outer_diam_A","refine_sym_search","refine_sym_shift_max","refine_sym_shift_min","refine_sym_shift_num","refine_sym_twist_max","refine_sym_twist_min","refine_sym_twist_num","regular_expression_string","remove_leading_uid","resample","run_advanced_jobs","scale","search_dz_min_max","search_dz_num","search_hand","search_n_sub_min_max","search_n_sub_num","search_phi_min_max","search_phi_num","search_pitch_min_max","search_pitch_num","selected_sum","send_data","seperator","set_group_num","set_intersection_field","set_split_num","set_split_random","set_split_size","sigma_prior_r","sigma_prior_s","split_field","start_exp_group_id","start_index","sum_range_a","sum_range_b","test_particle","test_sequential","token_creation_strategy","top_N","top_percent","train_from_scratch","train_num_epochs","use_all_gpus","use_pretrained","use_ssd","workflow_extract_bin_size","workflow_extract_bin_size_small","workflow_extract_box_size","workflow_refine_N","workflow_refine_symmetry","xml_cut_prefix_xml","xml_cut_suffix_xml","xml_paths"],Ko=s=>/^(P[0-9]+)$/i.exec(s)!==null,Qo=s=>/^(W[0-9]+)$/i.exec(s)!==null,Zo=s=>/^(S[0-9]+)$/i.exec(s)!==null,Xo=s=>/^(J[0-9]+)$/i.exec(s)!==null,Yo=s=>/^(T[0-9]+)$/i.exec(s)!==null,et=s=>Object.assign(s,{params:{}}),en=s=>s==null||typeof s=="object"&&Object.entries(s).length===0&&s.constructor===Object,tn=(s,e)=>{if(s===e)return!0;if(s==null||e==null||s.length!==e.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==e[r])return!1;return!0},sn=s=>typeof s=="string"?parseInt(s):s,rn=s=>typeof s=="string"?parseFloat(s):s,an=(s,e)=>e>0?parseFloat(((s!=null?s:0)/e*100).toFixed(2)):0,P=s=>{const e=s!=null,r=s instanceof Date&&!isNaN(s==null?void 0:s.valueOf());return!!(e&&r)},F=s=>s!=null&&(Object.prototype.toString.call(s)==="[object Date]"&&!isNaN(s)||typeof s=="number"),tt=(s,e)=>e<s?(Ee(`End date cannot be before start date: [Start: ${s} - End: ${e}]`),{}):!F(s)||!F(e)?(Ee(`Start or end date is not a number or valid date object: [Start: ${s} (${typeof s}) - End: ${e} (${typeof e})]`),{}):Ns({start:s,end:e}),on=s=>s.charAt(0).toUpperCase()+s.slice(1),nn=s=>s.replace(/^[-_]*(.)/,(e,r)=>r.toUpperCase()).replace(/[-_]+(.)/g,(e,r)=>` ${r.toUpperCase()}`),Qt=(s,e=2,r=!0)=>{if(s===0)return r?"0 Bytes":"-";const t=1e3,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(s)/Math.log(t));return`${parseFloat((s/t**o).toFixed(e))} ${a[o]}`},cn=(s,e=!0)=>s>=1e3?e?`[CPU: ${(s/1e3).toFixed(2)} GB]`.padEnd(17):`${(s/1e3).toFixed(2)} GB`:e?`[CPU: ${s.toFixed(1)} MB]`.padEnd(17):`${s.toFixed(1)} MB`,ur=s=>typeof s=="number"?s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"-",ln=(s,e=2)=>typeof s=="number"?s.toFixed(e).replace(/\.00$/,""):"-",un=s=>typeof s=="number"?s.toFixed(0):"-",_n=(s,e=2)=>`${s.toFixed(e)}%`,dn=(s,e=!0)=>{const r=parseInt(s,10)/1e3;let t=Math.floor(r/3600),a=Math.floor((r-t*3600)/60),o=Math.floor(r-t*3600-a*60);return t<10&&(t=`0${t}`),a<10&&(a=`0${a}`),o<10&&(o=`0${o}`),`${t>0?`${t}h`:""}${a>0?` ${a}m`:" 00m"}${e?o>0?` ${o}s`:" 00s":""}`},pn=(s,e=!0)=>{const r=parseInt(s,10)/1e3;let t=Math.floor(r/(3600*24)),a=Math.floor(r%(3600*24)/3600),o=Math.floor(r%3600/60),n=Math.floor(r%60);return a<10&&(a=`0${a}`),o<10&&(o=`0${o}`),n<10&&(n=`0${n}`),`${t>0?`${t}d`:""}${a>0?` ${a}h`:""}${o>0?` ${o}m`:" 00m"}${e?n>0?` ${n}s`:" 00s":""}`},fn=(s,e=!1)=>{if(typeof s=="number"&&s>0){let r=St(tt(0,s*1e3));return e&&(r=r==null?void 0:r.replaceAll(/\w+/g,t=>{var a;return(a={hours:"hr",hour:"hr",minutes:"min",minute:"min",seconds:"s",second:"s"}[t])!=null?a:t})),r}return"-"},mn=s=>Ce(s,vt(s)?"pp":"PPp"),Zt=(s,e=!0,r=!1)=>{var t,a,o;if(e){const n=[];return s.years!==void 0&&s.years>0&&n.push(`${s.years} year${s.years!==1?"s":""}`),s.months!==void 0&&s.months>0&&n.push(`${s.months} month${s.months!==1?"s":""}`),s.days!==void 0&&s.days>0&&n.push(`${s.days} day${s.days!==1?"s":""}`),n.push(`${`0${(t=s.hours)!=null?t:"0"}`.slice(-2)}:${`0${(a=s.minutes)!=null?a:"0"}`.slice(-2)}:${`0${(o=s.seconds)!=null?o:"0"}`.slice(-2)}`),n.join(" ")}else{let n=St(s,{format:["years","months","weeks","days","hours","minutes"]});return r&&(n=n.replaceAll(/\w+/g,c=>{var i;return(i={hours:"hr",hour:"hr",minutes:"min",minute:"min",seconds:"s",second:"s"}[c])!=null?i:c})),n}},gn=(s,e=!0,r=!1)=>{const t=new Date;if(typeof s.getMonth=="function"&&s<t){const a=tt(s,t);return Zt(a,e,r)}return"-"},st=(s,e,r={})=>{if(typeof s!="number"&&isNaN(Date.parse(s)))return"-";const t=typeof s!="number"?new Date(s):s,n=r,{todayFormatString:a}=n,o=De(n,["todayFormatString"]);return typeof a=="string"&&vt(t)?Ce(t,a,o):Ce(t,e,o)},hn=s=>Zt(tt(0,Date.now()-new Date(s).getTime())),bn=(s,e,r="View")=>e>0?[r,`${ur(e)} ${s}${e!==1?"s":""}`].join(" "):`No ${s}s`,wn=s=>s===y.Building?"bg-purple-500":s===y.Running?"bg-blue-500":s===y.Waiting?"bg-pink-500":s===y.Completed?"bg-green-500":s===y.Killed?"bg-orange-500":s===y.Failed?"bg-red-500":"bg-gray-500",yn=s=>s===y.Building?"bg-purple-100 hover:bg-purple-200":s===y.Running?"bg-blue-100 hover:bg-blue-200":s===y.Waiting?"bg-pink-100 hover:bg-pink-200":s===y.Completed?"bg-green-100 hover:bg-green-200":s===y.Killed?"bg-orange-100 hover:bg-orange-200":s===y.Failed?"bg-red-100 hover:bg-red-200":"bg-gray-100 hover:bg-gray-200",$n=s=>s===y.Building?"bg-purple-700":s===y.Running?"bg-blue-500":s===y.Waiting?"bg-pink-500":s===y.Completed?"bg-green-500":s===y.Killed?"bg-orange-500":s===y.Failed?"bg-red-500":"bg-gray-500",jn=s=>s===y.Building?"text-purple-700":s===y.Running?"text-blue-700":s===y.Waiting?"text-pink-700":s===y.Completed?"text-green-700":s===y.Killed?"text-orange-700":s===y.Failed?"text-red-700":"text-gray-700",kn=s=>s===y.Building?"purple":s===y.Running?"blue":s===y.Waiting?"pink":s===y.Completed?"green":s===y.Killed?"orange":s===y.Failed?"red":"gray",vn=s=>s===ye.paused?"bg-gray-500":s===ye.running?"bg-blue-500":s===ye.completed?"bg-green-500":"bg-gray-500",Sn=s=>s===de.primary?"bg-blue-600":s===de.warning?"bg-orange-600":s===de.success?"bg-green-600":s===de.danger?"bg-red-600":"bg-gray-600",Dn=(s=0)=>{if(s>=0&&s<33)return"text-green-500";if(s>=33&&s<66)return"text-orange-500";if(s>=66)return"text-red-500"},Cn=s=>{switch(s){case 1:return"col-span-2";case 2:return"col-span-2";case 3:return"col-span-3";case 4:return"col-span-4";case 5:return"col-span-5";case 6:return"col-span-6";default:return"col-span-2"}},Rn=s=>{switch(s){case 1:return"grid-cols-2";case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-2"}},An=s=>s.status==="started"&&typeof s.started_at=="object"?(new Date().getTime()-new Date(s.started_at).getTime())/1e3>60:!1,En=s=>{const e=s==null?void 0:s.status;return e==="building"?"Building":e==="queued"&&s.queued_at!==void 0&&F(s.queued_at)?`In queue for ${we(s.queued_at,{includeSeconds:!0})}`:e==="launched"&&s.launched_at!==void 0&&F(s.launched_at)?`Job launched ${we(s.launched_at,{includeSeconds:!0})} ago`:e==="started"&&s.started_at!==void 0&&F(s.started_at)?`Job started ${we(s.started_at,{includeSeconds:!0})} ago`:e==="waiting"&&s.waiting_at!==void 0&&F(s.waiting_at)?`Waiting for ${we(s.waiting_at,{includeSeconds:!0})}`:e==="waiting"?"Waiting for user input":e==="running"&&s.started_at!==void 0&&F(s.started_at)?`Running for ${we(s.started_at,{includeSeconds:!0})}`:e==="running"?"Running":e==="killed"&&s.started_at!==void 0&&F(s.started_at)&&s.killed_at!==void 0&&F(s.killed_at)?`Killed after ${Ve(s.started_at,s.killed_at,{includeSeconds:!0})}`:e==="killed"?"Killed":e==="failed"&&s.started_at!==void 0&&F(s.started_at)&&s.failed_at!==void 0&&F(s.failed_at)?`Failed after ${Ve(s.started_at,s.failed_at,{includeSeconds:!0})}`:e==="failed"?"Failed":e==="completed"&&s.started_at!==void 0&&F(s.started_at)&&s.completed_at!==void 0&&F(s.completed_at)?`Completed in ${Ve(s.started_at,s.completed_at,{includeSeconds:!0})}`:e==="completed"?"Completed":"Unknown"},Pn=s=>{const e=s==null?void 0:s.status;return e==="completed"&&P(s.completed_at)&&P(s.running_at)?s.completed_at.getTime()-s.running_at.getTime():e==="failed"&&P(s.failed_at)&&P(s.running_at)?s.failed_at.getTime()-s.running_at.getTime():e==="killed"&&P(s.killed_at)&&P(s.running_at)?s.killed_at.getTime()-s.running_at.getTime():e==="waiting"&&P(s.waiting_at)?new Date().getTime()-s.waiting_at.getTime():e==="running"&&P(s.running_at)?new Date().getTime()-s.running_at.getTime():e==="started"&&P(s.started_at)?new Date().getTime()-s.started_at.getTime():e==="launched"&&P(s.launched_at)?new Date().getTime()-s.launched_at.getTime():e==="queued"&&P(s.queued_at)?new Date().getTime()-s.queued_at.getTime():0},xn=s=>{const e=s==null?void 0:s.status;return e==="killed"&&P(s.killed_at)?s.killed_at:e==="failed"&&P(s.failed_at)?s.failed_at:e==="completed"&&P(s.completed_at)?s.completed_at:e==="waiting"&&P(s.waiting_at)?s.waiting_at:e==="running"&&P(s.running_at)?s.running_at:e==="started"&&P(s.started_at)?s.started_at:e==="launched"&&P(s.launched_at)?s.launched_at:e==="queued"&&P(s.queued_at)?s.queued_at:new Date(0)},Tn=(s,e,r)=>{var t,a;return(a=(t=e.find(o=>o.uid===s))!=null?t:r.find(o=>o.uid===s))!=null?a:null},In=(s,e,r=1)=>{var t,a,o,n;return r>1?(a=(t=s==null?void 0:s.preview_img_2x)==null?void 0:t[e])!=null?a:null:(n=(o=s==null?void 0:s.preview_img_1x)==null?void 0:o[e])!=null?n:null},Bn=s=>{var e,r,t,a;return typeof(s==null?void 0:s.stage)=="string"&&!["check","motion"].includes(s==null?void 0:s.stage)&&typeof((e=s==null?void 0:s.attributes)==null?void 0:e.average_defocus)=="number"&&((r=s==null?void 0:s.attributes)==null?void 0:r.average_defocus)>0&&(a=`${(((t=s==null?void 0:s.attributes)==null?void 0:t.average_defocus)/1e4).toFixed(2)} \u03BCm`)!=null?a:null},Un=s=>(s==null?void 0:s.failed)===!0,Fn=s=>(s==null?void 0:s.failed)===!0?"bg-red-500":(s==null?void 0:s.stage)==="ready"?"bg-green-400":typeof(s==null?void 0:s.stage)=="string"?"bg-blue-400":"bg-gray-400",On=s=>{if((s==null?void 0:s.failed)!==!0&&(s==null?void 0:s.stage)!==D.ready&&typeof(s==null?void 0:s.stage)=="string"){if(s.stage===D.goToFound)return"Found";if(s.stage===D.found)return"Checking";if(s.stage===D.check)return"Motion Correction";if(s.stage===D.motion)return"Generating Preview";if(s.stage===D.thumbs)return"CTF Estimation";if(s.stage===D.ctf)return"Picking";if(s.stage===D.pick||s.stage===D.extract||s.stage===D.extractManual)return"Extracting"}return null},Nn=s=>s===D.goToFound?"Found":s===D.found?"Checking":s===D.check?"Motion Correction":s===D.motion?"Generating Preview":s===D.thumbs?"CTF Estimation":s===D.ctf?"Picking":s===D.pick||s===D.extract||s===D.extractManual?"Extracting":s===D.ready?"Processed":"",Ln=(s,e)=>typeof s=="string"&&s.length>2&&/\S+@\S+\.\S+/.test(s)&&typeof e=="string"&&e.length>0,Jn=s=>er(s),qn=(s,e=22,r="start")=>{let t=s;return r==="start"&&s.length>e&&(t=`${s.substring(0,e)}...`),r==="end"&&s.length>e&&(t=`...${s.substring(s.length-e,s.length)}`),t},Mn=(s,e)=>{const r=e-s;let t=Math.floor(Math.log10(r))-1;return r/10**t<25&&(t-=1),t<0?1/10**-t:10**t},Xt=s=>Array.from(s.querySelectorAll("*")).filter(r=>r.tabIndex>=0),_r=(s,e)=>{var t;let r=document.activeElement!==null?e.indexOf(document.activeElement):-1;r===-1&&s.shiftKey&&(r=0),r+=e.length+(s.shiftKey?-1:1),r%=e.length,(t=e[r])==null||t.focus()},Gn=(s,e)=>{if(s.key==="Tab"){const r=Array.isArray(e)?e.map(t=>Xt(t)).flat():Xt(e);_r(s,r),s.preventDefault()}},Wn=s=>{var e,r,t,a,o,n,c;return((e=s.target)==null?void 0:e.tagName.toUpperCase())==="INPUT"||((r=s.target)==null?void 0:r.tagName.toUpperCase())==="TEXTAREA"||((a=(t=s.target)==null?void 0:t.getAttribute("role"))==null?void 0:a.toUpperCase())==="SLIDER"||((o=s.target)==null?void 0:o.tagName.toUpperCase())==="DIV"&&((c=(n=s.target)==null?void 0:n.getAttribute("contentEditable"))==null?void 0:c.toUpperCase())==="TRUE"},Vn=(s,e)=>{if(!s||!e)return!1;const[r,t]=s.split("/");return!(new Date(e)<new Date(new Date(r.replace(/-/g,"/")))||new Date(e)>new Date(new Date(t.replace(/-/g,"/")).setUTCHours(23,59,59,999)))},zn=(s,e)=>new Date(new Date(s,e,1).setUTCHours(0,0,0,0)),Hn=s=>{const e=new Date(s),r=e.getDay(),t=e.getDate()-r+(r===0?-6:1);return new Date(new Date(e.setDate(t)).setUTCHours(0,0,0,0))},Kn=(s,e)=>{const r="("+s.trim().replace(/\s/g,")(.*)(")+")",t=new RegExp(r,"ig");let a=1;const o=r.split(")(").length+1;let n="";for(;a<o;a++)n+=a%2?`<span class="bg-blue-100 text-blue-800">$${a}</span>`:`$${a}`;return e.replace(t,n)},Qn=s=>{const e=s.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return s==null?"":e.toLowerCase().trim()},Zn=s=>typeof s!="string"?!1:typeof s!="number"&&!isNaN(parseFloat(s)),Xn=()=>navigator.userAgent.includes("Win")?ce.windows:navigator.userAgent.includes("Mac")?ce.macintosh:navigator.userAgent.includes("Linux")?ce.linux:navigator.userAgent.includes("Android")?ce.android:navigator.userAgent.includes("like Mac")?ce.ios:null,Yn=(s,e)=>`${s}_${e}`,ei=(s,e=300)=>{let r;return(...t)=>{clearTimeout(r),r=setTimeout(()=>{s(t)},e)}},Yt=(s,e)=>{const r=i=>Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),t=()=>{if(s.length!==e.length)return!1;for(let i=0;i<s.length;i++)if(!Yt(s[i],e[i]))return!1;return!0},a=()=>{if(Object.keys(s).length!==Object.keys(e).length)return!1;for(let i in s)if(Object.prototype.hasOwnProperty.call(s,i)&&!Yt(s[i],e[i]))return!1;return!0},o=()=>s.toString()===e.toString(),n=()=>s===e;let c=r(s);return c!==r(e)?!1:c==="array"?t():c==="object"?a():c==="function"?o():n()},ti=(s,e)=>{if(s.length!==e.length)return!1;s.sort(),e.sort();for(let r=0;r<s.length;r++)if(s[r]!==e[r])return!1;return!0},si=(s,e)=>{if(s.size!==e.size)return!1;for(const r of s)if(!e.has(r))return!1;return!0},dr=(s,e)=>{const r=new Set(s);for(const t of e)r.delete(t);return r},ri=(s,e)=>[...dr(new Set([...s]),new Set([...e]))],es=s=>{if(s===null||typeof s!="object")return s;if(Array.isArray(s)){const r=[];for(const t of s)r.push(es(t));return r}const e={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=es(s[r]));return e},ai=(s,e)=>s===`${e}*`||s.length>1&&s.startsWith(e)&&!Number.isNaN(Number(s.slice(1))),oi=(s,e)=>s===`${e}*`,ni=(s,e)=>s.length>1&&s.startsWith(e)&&!Number.isNaN(Number(s.slice(1))),pr=async s=>await new Promise(e=>setTimeout(e,s)),ii=(s,e=200,r=10)=>new Promise(t=>{(async()=>{let a=0,o;for(;a<r&&!o;)await pr(e),o=s(),a++;t(o||null)})()}),ci=s=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return{r:e?parseInt(e[1],16):0,g:e?parseInt(e[2],16):0,b:e?parseInt(e[3],16):0}},li=s=>{const[e,r]=s.split("/");return e===r?st(e.replace(/-/g,"/"),"PP"):`
    ${st(e.replace(/-/g,"/"),"PP")} to 
    ${st(r.replace(/-/g,"/"),"PP")}`},fr=()=>{navigator.userAgent.includes("Edg")?document.body.classList.add("edge"):navigator.userAgent.includes("Chrome")&&navigator.vendor.includes("Google Inc")?document.body.classList.add("chrome"):navigator.userAgent.includes("Firefox")?document.body.classList.add("firefox"):/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&document.body.classList.add("safari")},ui=s=>(r=>`<kbd class="ml-1.5 text-xs font-medium font-sans tracking-wider">${r}</kbd>`)(s.map((r,t)=>{const a=`<kbd class="py-0.5 px-1.5 rounded border border-gray-500 text-gray-300 underline decoration-dotted">${r}</kbd>`;return s.length>1&&t+1!==s.length?`${a} + `:a}).join("")),ts=async s=>{var r,t,a,o;const e=await fetch(s,{cache:"no-cache",credentials:"include"});if(e.ok){if((t=(r=e.headers.get("content-type"))==null?void 0:r.includes("application/json"))!=null?t:!1)return await e.json();throw M(`GET request returned non-JSON content type: ${s} ${e.headers.get("content-type")}`),new Error(`Unknown ${e.status} error`)}else if((o=(a=e.headers.get("content-type"))==null?void 0:a.includes("application/json"))!=null?o:!1){const n=await e.json();throw M(`(${e.status}) ${s} ${n.message}`),new Error(n.message)}else throw M(`(${e.status}) ${s} ${e.headers.get("content-type")}`),new Error(`Unknown ${e.status} error`)},Te=async(s,e={})=>{var t,a,o,n;const r=await fetch(s,{method:"POST",cache:"no-cache",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(r.ok){if((a=(t=r.headers.get("content-type"))==null?void 0:t.includes("application/json"))!=null?a:!1)return await r.json();throw M(`POST request returned non-JSON content type: ${s} ${r.headers.get("content-type")}`),new Error(`Unknown ${r.status} error`)}else if((n=(o=r.headers.get("content-type"))==null?void 0:o.includes("application/json"))!=null?n:!1){const c=await r.json();throw M(`(${r.status}) ${s} ${c.message}`),new Error(c.message)}else throw M(`(${r.status}) ${s} ${r.headers.get("content-type")}`),new Error(`Unknown ${r.status} error`)},_i=async(s,e={})=>{var t,a,o,n;const r=await fetch(s,{method:"PUT",cache:"no-cache",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(r.ok){if((a=(t=r.headers.get("content-type"))==null?void 0:t.includes("application/json"))!=null?a:!1)return!0;throw M(`POST request returned non-JSON content type: ${s} ${r.headers.get("content-type")}`),new Error(`Unknown ${r.status} error`)}else if((n=(o=r.headers.get("content-type"))==null?void 0:o.includes("application/json"))!=null?n:!1){const c=await r.json();throw M(`(${r.status}) ${s} ${c.message}`),new Error(c.message)}else throw M(`(${r.status}) ${s} ${r.headers.get("content-type")}`),new Error(`Unknown ${r.status} error`)};class mr{async call(e,r={},t={}){var a;try{d("command:core",e,r);const o=performance.now(),n=await Te(`/api/cmd/core/${e}`,{params:r}),c=performance.now();return Pe("command:core",e,`${(c-o).toFixed(2)} ms`),typeof t.success=="string"&&q.add({title:t.success,type:"success",style:"minimal"}),n.result}catch(o){(typeof t.error=="string"||t.showReason===!0)&&q.add({title:[(a=t.error)!=null?a:"",t.showReason===!0?o.message:""].filter(Boolean).join(": "),type:"danger",style:"minimal"}),console.error(`[command:core:${e}]`,o.message)}}userId(){return"%CURRENT_USER%"}async getRunningVersion(){const e=await this.call("get_running_version");return typeof e=="string"?e:"unknown"}async getLatestVersion(){const e=await this.call("get_update_tag");return typeof e=="object"?e:null}async getLatestSupervisorLogs(e,r=50){const t=await this.call("get_supervisor_log_latest",{service:e,n:r});return typeof t=="string"?t:""}async getLog(e,r=7){const t=await this.call("get_cryosparc_log",{service_name:e,days:r});return typeof t=="string"?t:""}async getRuntimeDiagnostics(){return await this.call("get_runtime_diagnostics",{})}async getLiveStatus(){return await this.call("get_license_live_enabled")===!0}async getEclStatus(){return await this.call("get_license_ecl_enabled")===!0}async getComputeRegistries(){return await this.call("get_available_developer_job_registers")}async validateNewProject(e,r){const t=await this.call("validate_project_creation",{project_title:e!=null?e:"",project_container_dir:r!=null?r:""});return typeof t=="object"?t:{valid:!1,message:""}}async createProject(e,r,t){const a={owner_user_id:this.userId(),project_container_dir:t};typeof e=="string"&&(a.title=e),typeof r=="string"&&(a.desc=r);const o=await this.call("create_empty_project",a,{success:"Created project",error:"Unable to create project",showReason:!0});return typeof o=="string"?o:null}async unarchiveProject(e,r){const t={project_uid:e,abs_path_to_project_dir:r};return await this.call("unarchive_project",t,{success:`Unarchived ${e}`,error:`Unable to unarchive ${e}`,showReason:!0}),!0}async archiveProject(e){const r={project_uid:e};return await this.call("archive_project",r,{success:`Archived ${e}`,error:`Unable to archive ${e}`,showReason:!0}),!0}async detachProject(e){const r={project_uid:e};return await this.call("detach_project",r,{success:`Detached ${e}`,error:`Unable to detach ${e}`,showReason:!0}),!0}async requestDeleteProject(e){const r={project_uid:e,request_user_id:this.userId()},t=await this.call("request_delete_project",r,{error:`Unable to delete ${e}`,showReason:!0});return t==="Deleted"&&q.add({title:`Deleted ${e}`,type:"success",style:"minimal"}),t==="Deleted"?!0:t}async deleteProject(e){const r={project_uid:e,request_user_id:this.userId()};return await this.call("delete_project",r,{success:`Deleted ${e}`,error:`Unable to delete ${e}`,showReason:!0})==="Deleted"}async deleteDetachedProject(e){const r={project_uid:e};return await this.call("delete_detached_project",r,{error:`Unable to delete detached project ${e}`,showReason:!0})==="Deleted"}async attachProject(e){const r={owner_user_id:this.userId(),abs_path_export_project_dir:e};await this.call("attach_project",r,{success:"Attached project",error:"Unable to attach project",showReason:!0})}async updateProjectTitle(e,r){const t={project_uid:e,attrs:{title:r}};await this.call("update_project",t)}async renameProjectDirectory(e,r){const t={project_uid:e,new_dir_name:r};await this.call("rename_project_dir",t,{success:`Directory name for ${e} updated to \`${r}\``,error:`Directory name for ${e} could not be updated`,showReason:!0})}async updateProjectDescription(e,r){const t={project_uid:e,attrs:{description:r}};await this.call("update_project",t)}async removeUserFromProject(e,r){const t={project_uid:e,requester_user_id:this.userId(),delete_user_id:r};await this.call("delete_project_user_access",t,{success:`Removed user from ${e}`,error:`Unable to remove user from ${e}`,showReason:!0})}async addUserToProject(e,r){const t={project_uid:e,requester_user_id:this.userId(),add_user_id:r};await this.call("add_project_user_access",t,{success:`Added user to ${e}`,error:`Unable to add user to ${e}`,showReason:!0})}async updateProjectSize(e){const r={project_uid:e};await this.call("update_project_size",r,{success:`Recalculated size of ${e}`,error:`Unable to recalculate size of ${e}`,showReason:!0})}async setProjectParamDefault(e,r,t){const a={project_uid:e,param_name:r,value:t};await this.call("set_project_param_default",a,{success:`Modified project-level parameter for ${e}`,error:`Unable to modify project-level parameter for ${e}`,showReason:!0})}async unsetProjectParamDefault(e,r){const t={project_uid:e,param_name:r};await this.call("unset_project_param_default",t,{success:`Modified project-level parameter for ${e}`,error:`Unable to modify project-level parameter for ${e}`,showReason:!0})}async setProjectDevelopRunAsUser(e,r){const t={project_uid:e,run_as_user:r};await this.call("set_project_develop_run_as_user",t,{success:`Modified project-level compute registry for ${e}`,error:`Unable to modify project-level compute registry for ${e}`,showReason:!0})}async getProjectGenerateIntermediateResults(e){const r={project_uid:e};return await this.call("get_project_generate_intermediate_results_settings",r,{error:`Unable to get project-level intermediate result generation settings for ${e}`,showReason:!0})}async setProjectGenerateIntermediateResults(e,r,t){const a={project_uid:e,job_type:r,value:t};return await this.call("set_project_generate_intermediate_results_settings",a,{error:`Unable to get project-level intermediate result generation settings for ${e}`,showReason:!0})}async createWorkspace(e,r=null,t=null){const a={project_uid:e,created_by_user_id:this.userId()};typeof r=="string"&&(a.title=r),typeof t=="string"&&(a.desc=t);const o=await this.call("create_empty_workspace",a,{success:"Created workspace",error:"Unable to create workspace",showReason:!0});return typeof o=="string"?o:null}async requestDeleteWorkspace(e,r){const t={project_uid:e,workspace_uid:r,request_user_id:this.userId()},a=await this.call("request_delete_workspace",t,{error:`Unable to delete ${r}`,showReason:!0});return a==="Deleted"?!0:a}async deleteWorkspace(e,r){const t={project_uid:e,workspace_uid:r,request_user_id:this.userId()};await this.call("delete_workspace",t,{success:`Deleted ${e} ${r}`,error:`Unable to delete ${e} ${r}`,showReason:!0})}async updateWorkspaceTitle(e,r,t){const a={project_uid:e,workspace_uid:r,attrs:{title:t}};await this.call("update_workspace",a)}async updateWorkspaceDescription(e,r,t){const a={project_uid:e,workspace_uid:r,attrs:{description:t}};await this.call("update_workspace",a)}async layoutTree(e,r=null){const t=`${e}${r!=null?r:""}`,a={project_uid:e,workspace_uid:r,layout_name:t};await this.call("layout_tree",a)}async createJob(e,r,t,a=!0){const o={project_uid:e,workspace_uid:r,job_type:t,created_by_user_id:this.userId()},n=await this.call("create_new_job",o,a?{success:"Created job",error:"Unable to create job",showReason:!0}:{});return typeof n=="string"?n:null}async createJobFromCart(e,r,t,a){const o={project_uid:e,workspace_uid:r,new_job_type:t,output_result_groups:a.map(u=>{var p=u,{summary:c,summary_stats:i,latest_summary_stats:l}=p,_=De(p,["summary","summary_stats","latest_summary_stats"]);return _}),created_by_user_id:this.userId()},n=await this.call("job_cart_create",o,{success:"Created job from cart",error:"Unable to create job from cart",showReason:!0});return typeof n=="string"?n:null}async updateJobTitle(e,r,t){const a={project_uid:e,job_uid:r,attrs:{title:t}};await this.call("update_job",a)}async updateJobDescription(e,r,t){const a={project_uid:e,job_uid:r,attrs:{description:t}};await this.call("update_job",a)}async updateJobPriority(e,r,t){const a={project_uid:e,job_uid:r,attrs:{priority:t}};await this.call("update_job",a)}async setJobParam(e,r,t,a,o=!0){const n={project_uid:e,job_uid:r,param_name:t,param_new_value:a};await this.call("job_set_param",n,o?{error:"Unable to set job parameter",showReason:!0}:{})}async clearJobParam(e,r,t,a=!0){const o={project_uid:e,job_uid:r,param_name:t};await this.call("job_clear_param",o,a?{error:"Unable to clear job parameter",showReason:!0}:{})}async setJobClusterSubmissionCustomVars(e,r,t){const a={project_uid:e,job_uid:r,cluster_job_custom_vars:t};await this.call("set_cluster_job_custom_vars",a,{error:"Unable to set custom submission script variables",showReason:!0})}async connectResultGroup(e,r,t,a=!0){const o={project_uid:e,source_group:r,dest_group:t};await this.call("job_connect_group",o,a?{error:"Unable to connect result group",showReason:!0}:{})}async disconnectResultGroup(e,r,t){const a={project_uid:e,dest_group:r,connect_idx:t};await this.call("job_connected_group_clear",a,{error:"Unable to disconnect result group",showReason:!0})}async exportOutputResultGroup(e,r,t){const a={project_uid:e,job_uid:r,output_result_group_name:t};await this.call("export_output_result_group",a,{success:"Exported result group",error:"Unable to export result group",showReason:!0})}async connectResult(e,r,t){const a={project_uid:e,source_result:r,dest_slot:t};await this.call("job_connect_result",a,{error:"Unable to connect result",showReason:!0})}async disconnectResult(e,r){const t={project_uid:e,dest_slot:r};await this.call("job_connected_result_clear",t,{error:"Unable to disconnect result",showReason:!0})}async getResultDownloadPath(e,r){const t={project_uid:e,result_spec:r};return await this.call("get_result_download_abs_path",t,{error:"Unable to get result path",showReason:!0})}async queueJob(e,r,t,a=null,o=null,n=null,c=!1,i=!1,l=!0){if(c){const m=await this.createWorkspace(e);typeof m=="string"?await this.linkJob(e,m,r):M("queueJob: unable to retrieve workspace UID")}const _={project_uid:e,job_uid:r};t==="lane"?_.lane=a:(_.hostname=o,_.gpus=n),i&&(_.no_check_inputs_ready=!0);const u={error:`Unable to queue ${e} ${r}`,showReason:!0},p=await this.call("enqueue_job",_,l?u:{});return typeof p=="string"?p:null}async killJob(e,r,t=!0){const a={project_uid:e,job_uid:r},o={error:`Unable to kill ${e} ${r}`,showReason:!0};await this.call("kill_job",a,t?o:{})}async clearJob(e,r,t=!0){const a={project_uid:e,job_uid:r},o={error:`Unable to clear ${e} ${r}`,showReason:!0};await this.call("clear_job",a,t?o:{})}async clearJobsBySection(e,r=null,t=[],a=!0){const o={project_uid:e,workspace_uid:r,sections:t},n={error:`Unable to clear jobs within section${t.length>1?"s":""}: ${t.join(",")}`,showReason:!0};await this.call("clear_jobs_by_section",o,a?n:{})}async clearJobsByType(e,r=null,t=[],a=!0){const o={project_uid:e,workspace_uid:r,types:t},n={error:`Unable to clear jobs of type${t.length>1?"s":""}: ${t.join(",")}`,showReason:!0};await this.call("clear_jobs_by_type",o,a?n:{})}async calculateIntermediateResultsSize(e,r,t=!0,a=!0){const o={project_uid:e,job_uid:r,always_keep_final:t},n={error:`Unable to calculate intermediate results for ${e} ${r!=null?r:""}`,showReason:!0};await this.call("calculate_intermediate_results_size",o,a?n:{})}async clearProjectIntermediateResults(e,r=!0,t=!0){const a={project_uid:e,always_keep_final:r},o={error:`Unable to clear intermediate results for ${e}`,showReason:!0};await this.call("clear_intermediate_results",a,t?o:{})}async clearWorkspaceIntermediateResults(e,r,t=!0,a=!0){const o={project_uid:e,workspace_uid:r,always_keep_final:t},n={error:`Unable to clear intermediate results for ${e} ${r}`,showReason:!0};await this.call("clear_intermediate_results",o,a?n:{})}async clearIntermediateResults(e,r,t=!0){const a={project_uid:e,job_uid:r},o={error:`Unable to clear intermediate results for ${e} ${r!=null?r:""}`,showReason:!0};await this.call("clear_intermediate_results",a,t?o:{})}async deleteJob(e,r,t=!0){const a={project_uid:e,job_uid:r},o={success:`Deleted ${e} ${r}`,error:`Unable to delete ${e} ${r}`,showReason:!0};await this.call("delete_job",a,t?o:{})}async deleteJobs(e,r=!0,t=!0){const a={project_job_uids:e,relayout:r},o={success:`Deleted ${e.length} jobs`,error:`Unable to delete ${e.length} jobs`,showReason:!0};await this.call("delete_jobs",a,t?o:{})}async markJobCompleted(e,r,t=!0){const a={project_uid:e,job_uid:r,completed_by_user_id:this.userId()},o={success:`Marked ${e} ${r} as completed`,error:`Unable to mark ${e} ${r} as completed`,showReason:!0};await this.call("set_job_passthrough_check_outputs_and_completed",a,t?o:{})}async markJobFinal(e,r,t=!0,a=!1){const o={project_uid:e,job_uid:r,is_final_result:t},n={success:`Marked ${e} ${r} as ${t?"":"not "}final`,error:`Unable to mark ${e} ${r} as ${t?"":"not "}final`,showReason:!0};await this.call("set_job_final_result",o,a?n:{})}async waitForJobToComplete(e,r){const t={project_uid:e,job_uid:r};await this.call("wait_job_complete",t,{success:`${e} ${r} completed`,error:`Unable to complete ${e} ${r}`,showReason:!0})}async cloneJob(e,r,t){const a={project_uid:e,workspace_uid:r,job_uid:t,created_by_user_id:this.userId()};return await this.call("clone_job",a,{error:`Unable to clone ${e} ${t}`,showReason:!0})}async linkJob(e,r,t,a=!0){const o={project_uid:e,workspace_uid:r,job_uid:t},n={success:`Linked ${t} to ${e} ${r}`,error:`Unable to link ${t} to ${e} ${r}`,showReason:!0};await this.call("job_add_to_workspace",o,a?n:{})}async unlinkJob(e,r,t,a=!0){const o={project_uid:e,workspace_uid:r,job_uid:t},n={success:`Unlinked ${t} from ${e} ${r}`,error:`Unable to unlink ${t} from ${e} ${r}`,showReason:!0};await this.call("job_remove_from_workspace",o,a?n:{})}async moveJob(e,r,t,a,o=!0){const n={project_uid:e,workspace_uid:t,job_uid:r},c={title:`Moved ${r} to ${e} ${a}`,type:"success",style:"minimal"},i={error:`Unable to unlink ${r} from ${e} ${t}`,showReason:!0},l={error:`Unable to link ${r} to ${e} ${a}`,showReason:!0};await this.call("job_remove_from_workspace",n,o?i:{}),n.workspace_uid=a,await this.call("job_add_to_workspace",n,o?l:{}),o&&q.add(c)}async importJob(e,r,t){const a={project_uid:e,workspace_uid:r,abs_path_export_job_dir:t,owner_user_id:this.userId()};await this.call("import_job",a,{success:`Imported job into ${e} ${r}`,error:`Unable to import job into ${e} ${r}`,showReason:!0})}async exportJob(e,r,t=!0){const a={project_uid:e,job_uid:r},o={success:`Exported ${e} ${r}`,error:`Unable to export ${e} ${r}`,showReason:!0};await this.call("export_job",a,t?o:{})}async getJobLogPathAbs(e,r){const t={project_uid:e,job_uid:r},a=await this.call("get_job_log_path_abs",t,{error:`Unable to get log path of ${e} ${r}`,showReason:!0});return typeof a=="string"?a:""}async getJobLog(e,r){const t={project_uid:e,job_uid:r},a=await this.call("get_job_log",t,{error:`Unable to get log of ${e} ${r}`,showReason:!0});return typeof a=="string"?a:""}async cloneJobs(e,r,t=null,a=null,o=!0){const n={success:`Jobs cloned to ${e} ${t!=null?t:""}`,error:"Unable to clone jobs",showReason:!0};return await this.call("clone_jobs",{project_uid:e,job_uids:r,created_by_user_id:this.userId(),workspace_uid:t,new_workspace_title:a},o?n:{})}async getJobChain(e,r,t,a=!0){const o={project_uid:e,start_job_uid:r,end_job_uid:t},n={error:`Unable to get job chain for ${e} ${r} to ${t}`,showReason:!0};return await this.call("get_job_chain",o,a?n:{})}async proposeCloneJobChain(e,r,t){return await this.call("propose_clone_job_chain",{project_uid:e,start_job_uid:r,end_job_uid:t},{error:"Unable to clone job chain",showReason:!0})}async cloneJobChain(e,r,t,a=null,o=null){return await this.call("clone_job_chain",{project_uid:e,start_job_uid:r,end_job_uid:t,created_by_user_id:this.userId(),workspace_uid:a,new_workspace_title:o},{success:`Cloned job chain to ${e} ${a}`,error:"Attempted cloning job chain composed of unrelated jobs",showReason:!0})}async cleanupData(e,r,t=!1,a=!1,o=[],n=[],c=[],i=[],l=!0){const _={project_uid:e,workspace_uid:r,clear_non_final:t,delete_non_final:a,clear_sections:o,clear_types:n,clear_statuses:c,delete_statuses:i},u={error:`Unable to perform data cleanup in ${e} ${r}`,showReason:!0};await this.call("cleanup_data",_,l?u:{})}async getJobsBySection(e,r,t=[],a=[],o=!0){const n={project_uid:e,workspace_uid:r,sections:t,fields:a},c={error:`Unable to get jobs by section ${e} ${r}: ${t.join(", ")}`,showReason:!0};return await this.call("get_jobs_by_section",n,o?c:{})}async getJobsByType(e,r,t=[],a=[],o=!0){const n={project_uid:e,workspace_uid:r,types:t,fields:a},c={error:`Unable to get jobs by type ${e} ${r}: ${t.join(", ")}`,showReason:!0};return await this.call("get_jobs_by_type",n,o?c:{})}async findWorkspaceAncestors(e,r,t=[],a=!0){const o={project_uid:e,workspace_uid:r,job_uids:t},n={error:`Unable to find workspace ancestors ${e} ${r}`,showReason:!0};return await this.call("find_workspace_ancestors",o,a?n:{})}async findWorkspaceDescendants(e,r,t=[],a=!0){const o={project_uid:e,workspace_uid:r,job_uids:t},n={error:`Unable to find workspace descendants ${e} ${r}`,showReason:!0};return await this.call("find_workspace_progeny",o,a?n:{})}async setUserStateVal(e,r){const t={user_id:this.userId(),key:e,value:r};return await this.call("set_user_state_var",t)===!0}async unsetUserStateVal(e){const r={user_id:this.userId(),key:e};return await this.call("unset_user_state_var",r)===!0}async setUserProjectView(e){const r={user_id:this.userId(),project_uid:e};return await this.call("set_user_viewed_project",r)===!0}async setUserWorkspaceView(e,r){const t={user_id:this.userId(),project_uid:e,workspace_uid:r};return await this.call("set_user_viewed_workspace",t)===!0}async setUserSessionView(e,r){const t={user_id:this.userId(),project_uid:e,session_uid:r};return await this.call("set_user_viewed_session",t)===!0}async setUserJobView(e,r,t){const a={user_id:this.userId(),project_uid:e,workspace_uid:r,job_uid:t};return await this.call("set_user_viewed_job",a)===!0}async requestUserPasswordReset(e){await this.call("request_reset_password",{email:e},{success:`Reset token created for user: ${e}`,error:`Unable to create reset token for user: ${e}`,showReason:!0})}async setUserAllowedPrefix(e,r){const t={user_id:e,allowed_prefix:r};return await this.call("set_user_allowed_prefix_dir",t)===!0}async createUser(e,r,t="",a=""){const o={email:e,username:r,first_name:t,last_name:a};await this.call("create_user_app",o,{success:`Created new user: ${e}`,error:`Unable to create new user: ${e}`,showReason:!0})}async setUserPassword(e,r,t,a=!0){const o={email:e,token:r,password_hash:t,reset:a};await this.call("set_password",o,{success:"Successfully reset password",error:`Unable to reset password for email: ${e} and token: ${r}`,showReason:!0})}async getInstanceDefaultJobPriority(){const e=await this.call("get_instance_default_job_priority",{});return typeof e=="number"?e:0}async setInstanceDefaultJobPriority(e){await this.call("set_instance_default_job_priority",{priority:e})}async setUserDefaultJobPriority(e,r){await this.call("set_user_default_priority",{email_address:e,priority:r})}async getUserAvailableLanes(e){return await this.call("get_user_lanes",{email_address:e})}async setUserAvailableLanes(e,r){await this.call("set_user_lanes",{email_address:e,assigned_lanes:r})}async getInstanceClusterConfigCustomVars(){return await this.call("get_cluster_configuration_custom_vars",{})}async setInstanceClusterConfigCustomVars(e){await this.call("set_cluster_configuration_custom_vars",{value:e})}async setTargetClusterConfigCustomVars(e,r){await this.call("set_scheduler_target_property",{hostname:e,key:"custom_vars",value:r})}async getAbsPathIndex(e){const r={abs_path_glob:e,user_id:this.userId()},t=await this.call("index_abs_path",r);if(t!==null&&typeof t=="object"){if(typeof t.error=="string")return t;if(typeof t.result=="object")return t.result}return{}}async deactivateNotification(e){await this.call("deactivate_notification",{notification_id:e})}async getGenerateIntermediateResultsJobTypes(){return await this.call("get_generate_intermediate_results_job_types",{})}async getCurrentUsage(){const e=await this.call("get_num_active_licenses");return typeof e=="number"?e:null}async getGroupUsage(){const e=await this.call("get_license_usage_info_raw");if(typeof e=="string"){const r=JSON.parse(e);let t=0;const a={};return r.forEach(o=>{typeof o.alias=="string"&&typeof o.current_in_use=="number"&&typeof o.max_licenses_available=="number"&&(a[o.alias]=o.current_in_use,t+=o.max_licenses_available)}),{groupInstances:a,totalAvailable:t}}return null}async getForumPosts(){const e=await this.call("get_dash_discuss_topics_json");return e&&typeof e=="object"?e:{}}async getAllTags(){return await this.call("get_all_tags")}async getUserTags(e){return await this.call("get_user_tags",{user_id:e!=null?e:null})}async getTagsOfType(e){return await this.call("get_tags_of_type",{tag_type:e})}async getTagsByType(){return await this.call("get_tags_by_type")}async getTagCountByType(){return await this.call("get_tag_count_by_type")}async createTag(e,r,t,a,o,n){const c={title:e,created_by_user_id:r,type:t,colour:a,description:o,created_by_workflow:n};return await this.call("create_tag",c)}async updateTag(e,r,t,a){const o={tag_uid:e,title:r,colour:t,description:a};return await this.call("update_tag",o)}async removeTag(e){return await this.call("remove_tag",{tag_uid:e})}async addTagToProject(e,r){const t={project_uid:e,tag_uid:r};return await this.call("add_tag_to_project",t)}async addTagToWorkspace(e,r,t){const a={project_uid:e,workspace_uid:r,tag_uid:t};return await this.call("add_tag_to_workspace",a)}async addTagToSession(e,r,t){const a={project_uid:e,session_uid:r,tag_uid:t};return await this.call("add_tag_to_session",a)}async addTagToJob(e,r,t){const a={project_uid:e,job_uid:r,tag_uid:t};return await this.call("add_tag_to_job",a)}async removeTagFromProject(e,r){const t={project_uid:e,tag_uid:r};return await this.call("remove_tag_from_project",t)}async removeTagFromWorkspace(e,r,t){const a={project_uid:e,workspace_uid:r,tag_uid:t};return await this.call("remove_tag_from_workspace",a)}async removeTagFromSession(e,r,t){const a={project_uid:e,session_uid:r,tag_uid:t};return await this.call("remove_tag_from_session",a)}async removeTagFromJob(e,r,t){const a={project_uid:e,job_uid:r,tag_uid:t};return await this.call("remove_tag_from_job",a)}async createWorkflow(e,r,t,a=!1,o=!1,n=!1){const c={workflow_id:e,created_by_user_id:r,forked:a,imported:o,rebuilt:n,schema:t};return await this.call("create_workflow",c)}async editWorkflow(e,r,t){const a={workflow_id:e,edited_by_user_id:r,schema:t};return await this.call("edit_workflow",a)}async applyWorkflow(e,r,t){const a={workflow_id:e,applied_by_user_id:r,schema:t};return await this.call("apply_workflow",a)}async deleteWorkflow(e,r){const t={workflow_id:e,deleted_by_user_id:r};return await this.call("delete_workflow",t)}async createBlueprint(e,r,t,a={}){const{projectUid:o="",uid:n="",jobType:c,imported:i=!1}=a,l={blueprint_id:e,created_by_user_id:r,imported:i,project_uid:o,job_uid:n,job_type:c,schema:t};return await this.call("create_blueprint",l)}async editBlueprint(e,r,t,a={}){const{projectUid:o="",uid:n="",jobType:c}=a,i={blueprint_id:e,edited_by_user_id:r,project_uid:o,job_uid:n,job_type:c,schema:t};return await this.call("edit_blueprint",i)}async applyBlueprint(e,r,t,a={}){const{projectUid:o="",uid:n="",jobType:c}=a,i={blueprint_id:e,applied_by_user_id:r,project_uid:o,job_uid:n,job_type:c,schema:t};return await this.call("apply_blueprint",i)}async deleteBlueprint(e,r,t){const a={blueprint_id:e,deleted_by_user_id:r,job_type:t};return await this.call("delete_blueprint",a)}}class gr{constructor(){kt(this,"currentUser","%CURRENT_USER%")}async call(e,r={},t={},a=!1){var o;try{d("command:rtp",e,r),a&&Je.set(!0);const n=performance.now(),c=await Te(`/api/cmd/rtp/${e}`,{params:r}),i=performance.now();return Pe("command:rtp",e,`${(i-n).toFixed(2)} ms`),typeof t.success=="string"&&q.add({title:t.success,type:"success",style:"minimal"}),a&&Je.set(!1),c.result}catch(n){(typeof t.error=="string"||t.showReason===!0)&&q.add({title:[(o=t.error)!=null?o:"",t.showReason===!0?n.message:""].filter(Boolean).join(": "),type:"danger",style:"minimal"}),a&&Je.set(!1),console.error(`[command:rtp:${e}]`,n.message)}}async getProjectStats(e){const r={project_uid:e},t=await this.call("get_data_management_stats",r,{success:`Retrieved stats for all sessions in ${e}`,error:`Unable to retrieve stats for all sessions in ${e}`});return t!==null&&typeof t=="string"?t:""}async updateProjectStats(e){const r={project_uid:e};await this.call("update_all_sessions_datatype_sizes",r,{success:`Refreshed stats for all sessions in ${e}`,error:`Unable to refresh stats for all sessions in ${e}`})}async updateSessionStats(e,r){const t={project_uid:e,session_uid:r};await this.call("update_session_datatype_sizes",t,{success:`Refreshed stats for ${e} ${r}`,error:`Unable to refresh stats for ${e} ${r}`})}async getSessionDatatypeStatus(e,r,t){const a={project_uid:e,session_uid:r,datatype:t},o=await this.call("get_datatype_file_paths",a,{success:`Retreived stats for ${e} ${r}`,error:`Unable to retrive stats for ${e} ${r}`});return o!==null&&typeof o=="string"?o:""}async updateSessionDatatypeStatus(e,r,t,a){const o={project_uid:e,session_uid:r,datatype:t,status:a};await this.call("change_session_data_management_state",o,{success:`Updated ${e} ${r}`,error:`Unable to update ${e} ${r}`})}async deleteSessionDatatype(e,r,t,a=null,o=null,n=!0){const c={project_uid:e,session_uid:r,datatype:t,filepaths_to_delete:a,user_id:o,asynchronous:n};await this.call("delete_live_datatype",c,{success:`Deleted session files for ${e} ${r}`,error:`Unable to delete session files for ${e} ${r}`})}async clearExtractions(e,r){const t={project_uid:e,session_uid:r};await this.call("clear_extractions",t,{error:`Unable to clear extractions from ${e} ${r}`,showReason:!0})}async compactSession(e,r){const t={project_uid:e,session_uid:r};await this.call("compact_session",t,{error:`Unable to compact session ${e} ${r}`,showReason:!0})}async restoreCompactedSession(e,r,t,a=1){const o={project_uid:e,session_uid:r,lane_name:t,num_gpus:a};await this.call("restore_compacted_session",o,{error:`Unable to restore compacted session ${e} ${r}`,showReason:!0})}async createSession(e,r){return d("command-rtp","createSession"),await this.call("create_new_live_workspace",{project_uid:e,title:r,created_by_user_id:this.currentUser},{success:"Created session",error:"Unable to create session"},!0)}async startSession(e,r){d("command-rtp","startSession",e,r),await this.call("start_session",{project_uid:e,session_uid:r,user_id:this.currentUser},{success:"Started session",error:"Unable to start session",showReason:!0},!0)}async clearSession(e,r){d("command-rtp","clearSession",e,r),await this.call("clear_session",{project_uid:e,session_uid:r},{success:"Cleared session",error:"Unable to clear session"},!0)}async pauseSession(e,r){d("command-rtp","pauseSession",e,r),await this.call("pause_session",{project_uid:e,session_uid:r,user_id:this.currentUser},{success:"Paused session",error:"Unable to pause session"},!0)}async resetFailedExposures(e,r){d("command-rtp","resetFailedExposures"),await this.call("reset_failed_exposures",{project_uid:e,session_uid:r},{success:"All failed exposures reset",error:"Unable to reset failed exposures"},!0)}async resetManualRejections(e,r){d("command-rtp","resetManualRejections"),await this.call("reset_all_manual_rejected_exposures",{project_uid:e,session_uid:r},{success:"All manually rejected exposures reset to accepted",error:"Unable to reset manual rejection on all exposures"},!0)}async exportExposures(e,r){d("command-rtp","exportExposures"),await this.call("dump_exposures",{project_uid:e,session_uid:r,user_id:this.currentUser},{success:"Exposures exported to CryoSPARC successfully",error:"Unable to export exposures"},!0)}async exportParticles(e,r){d("command-rtp","exportParticles"),await this.call("dump_particles",{project_uid:e,session_uid:r,user_id:this.currentUser},{success:"Particles exported to CryoSPARC successfully",error:"Unable to export particles"},!0)}async markSessionCompleted(e,r){d("command-rtp","markSessionCompleted"),await this.call("mark_session_completed",{project_uid:e,session_uid:r},{success:"Session marked as completed",error:"Unable to mark session as completed",showReason:!0},!0)}async applySessionParams(e,r,t,a=!1,o=null){d("command-rtp","applySessionParams");const n={project_uid:e,session_uid:r,new_params:t,reprocess:a};typeof o=="string"&&["manual","blob","template"].includes(o)&&(n.activate_picker_type=o);const c=await this.call("update_params_and_movies",n,{success:`Activating parameters for ${a?"all":"future"} exposures`,error:"Could not activate parameters"},!0);return ie("applySessionParams res",c),c}async addExposureGroup(e,r){d("command-rtp","addExposureGroup");const t=await this.call("exposure_group_add_new",{project_uid:e,session_uid:r});return ie("addExposureGroup res",t),t}async deleteExposureGroup(e,r,t){d("command-rtp","deleteExposureGroup");const a=await this.call("exposure_group_delete",{project_uid:e,session_uid:r,exp_group_id:t},{success:"Deleted exposure group",error:"Unable to delete exposure group"},!0);return ie("deleteExposureGroup res",a),a}async enableExposureGroup(e,r,t){d("command-rtp","enableExposureGroup");const a=await this.call("exposure_group_finalize_and_enable",{project_uid:e,session_uid:r,exp_group_id:t},{success:"Enabled exposure group",error:"Unable to enable exposure group"},!0);return ie("enableExposureGroup res",a),a}async setExposureGroupParam(e,r,t,a,o){d("command-rtp","setExposureGroupParam");const n=await this.call("exposure_group_update_value",{project_uid:e,session_uid:r,exp_group_id:t,name:a,value:o});return ie("setExposureGroupParam res",n),n}async setComputeResourcesParam(e,r,t,a){d("command-rtp","setComputeResourcesParam"),await this.call("update_compute_configuration",{project_uid:e,session_uid:r,key:t,value:a})}async setExposureProcessingPriority(e,r,t){d("command-rtp","setExposureProcessingPriority"),await this.call("set_session_exposure_processing_priority",{project_uid:e,session_uid:r,priority:t},{success:`Exposure processing priority set to ${t}`,error:`Unable to set exposure processing priority to ${t}`},!0)}async resetIndividualExposure(e,r,t){d("command-rtp","resetIndividualExposure"),await this.call("reset_individual_exposure",{project_uid:e,session_uid:r,exposure_uid:t},{success:`Exposure ${t} reset`,error:`Unable to reset exposure ${t}`},!0)}async toggleManualReject(e,r,t){d("command-rtp","toggleManualReject"),await this.call("manual_reject_toggle_exposure",{project_uid:e,session_uid:r,exposure_uid:t},{success:`Toggled manual reject on exposure ${t}`,error:`Unable to toggle manual reject on exposure ${t}`})}async manualReject(e,r,t){d("command-rtp","manualReject"),await this.call("manual_reject_exposure",{project_uid:e,session_uid:r,exposure_uid:t})}async manualUnreject(e,r,t){d("command-rtp","manualUnreject"),await this.call("manual_unreject_exposure",{project_uid:e,session_uid:r,exposure_uid:t})}async updateAttributeThreshold(e,r,t,a,o){d("command-rtp","updateAttributeThreshold"),await this.call("update_threshold",{project_uid:e,session_uid:r,attribute:t,min_val:a,max_val:o})}async testExposure(e,r,t,a,o){d("command-rtp","testExposure"),typeof o=="string"&&["manual","blob","template"].includes(o)&&await this.call("test_micrograph",{project_uid:e,session_uid:r,exposure_uid:t,new_params:a,activate_picker_type:o},{success:`Tested Exposure ${t} with custom parameters`,error:`Could not test Exposure ${t}`})}async startManualExtraction(e,r){d("command-rtp","startManualExtraction"),await this.call("start_extract_manual",{project_uid:e,session_uid:r},{success:"Started manual extraction",error:"Could not start manual extraction"},!0)}async updatePickerThresholds(e,r,t,a,o,n){d("command-rtp","updatePickerThresholds"),typeof n=="string"&&["manual","blob","template"].includes(n)?await this.call("update_picking_threshold_value",{project_uid:e,session_uid:r,picker_type:n,ncc_value:t,power_min_value:a,power_max_value:o}):Ee("Must enter a valid picker type")}async startTemplateCreation(e,r,t,a,o,n,c=null){d("command-rtp","startTemplateCreation"),typeof o=="string"&&["manual","blob","template"].includes(o)?await this.call("template_creation_start_class2D",{project_uid:e,session_uid:r,num_classes:t,num_mics:a,picker_type:o,uid_lte:n,override_particle_diameter_A:c,user_id:this.currentUser},{success:"Started 2D classification job",error:"Could not start 2D classification job"},!0):Ee("Must enter a valid picker type")}async setTemplateCreationJob(e,r,t,a){d("command-rtp","setTemplateCreationJob"),await this.call("template_creation_set_job",{project_uid:e,session_uid:r,template_puid:t,template_juid:a},{success:"Loaded templates",error:"Could not load templates"},!0)}async templateToggleClass(e,r,t){d("command-rtp","templateToggleClass"),await this.call("template_creation_toggle_template",{project_uid:e,session_uid:r,template_idx:t})}async templateToggleAllClasses(e,r){d("command-rtp","templateToggleAllClasses"),await this.call("template_creation_toggle_all_templates",{project_uid:e,session_uid:r})}async getManualPicks(e,r,t){return d("command-rtp","getManualPicks"),await this.call("get_individual_data_picks",{project_uid:e,session_uid:r,exposure_uid:t,picker_type:"manual"})}async getBlobPicks(e,r,t){return d("command-rtp","getBlobPicks"),await this.call("get_individual_data_picks",{project_uid:e,session_uid:r,exposure_uid:t,picker_type:"blob"})}async getTemplatePicks(e,r,t){return d("command-rtp","getTemplatePicks"),await this.call("get_individual_data_picks",{project_uid:e,session_uid:r,exposure_uid:t,picker_type:"template"})}async addManualPick(e,r,t,a,o){d("command-rtp","addManualPick"),await this.call("mp_add_pick",{project_uid:e,session_uid:r,exposure_uid:t,x_frac:a,y_frac:o})}async removeManualPick(e,r,t,a,o){d("command-rtp","removeManualPick"),await this.call("mp_remove_pick",{project_uid:e,session_uid:r,exposure_uid:t,x_frac:a,y_frac:o})}async start2DClass(e,r,t=!0,a=!1){d("command-rtp","start2DClass"),await this.call("phase2_class2D_start",{project_uid:e,session_uid:r,start:t,force_restart:a,user_id:this.currentUser},{success:`${t?"Started":"Built"} 2D classification job`,error:`Could not ${t?"start":"build"} 2D classification job`},!0)}async queue2DClass(e,r){d("command-rtp","queue2DClass"),await this.call("phase2_class2D_queue",{project_uid:e,session_uid:r},{success:"Queued 2D classification job",error:"Could not queue 2D classification job"},!0)}async stop2DClass(e,r){d("command-rtp","stop2DClass"),await this.call("phase2_class2D_stop",{project_uid:e,session_uid:r},{success:"Stopped 2D classification job",error:"Could not stop 2D classification job"},!0)}async toggle2DClass(e,r,t){d("command-rtp","toggle2DClass"),await this.call("phase2_class2D_toggle_template",{project_uid:e,session_uid:r,template_idx:t})}async toggleAll2DClasses(e,r){d("command-rtp","toggleAll2DClasses"),await this.call("phase2_class2D_toggle_all_templates",{project_uid:e,session_uid:r})}async selectAll2DClasses(e,r){d("command-rtp","selectAll2DClasses"),await this.call("phase2_class2D_select_all_templates",{project_uid:e,session_uid:r})}async deselectAll2DClasses(e,r){d("command-rtp","deselectAll2DClasses"),await this.call("phase2_class2D_deselect_all_templates",{project_uid:e,session_uid:r})}async selectAll2DClassesAbove(e,r,t,a){d("command-rtp","selectAll2DClassesAbove"),await this.call("phase2_class2D_select_above_template",{project_uid:e,session_uid:r,template_idx:t,dimension:a})}async selectAll2DClassesBelow(e,r,t,a){d("command-rtp","selectAll2DClassesBelow"),await this.call("phase2_class2D_select_below_template",{project_uid:e,session_uid:r,template_idx:t,dimension:a})}async set2DClassParam(e,r,t,a){d("command-rtp","set2DClassParam"),await this.call("phase2_class2D_set_param",{project_uid:e,session_uid:r,par:t,value:a})}async startAbinit(e,r,t=!0){d("command-rtp","startAbinit"),await this.call("phase2_abinit_start",{project_uid:e,session_uid:r,start:t,user_id:this.currentUser},{success:`${t?"Started":"Built"} ab-initio job`,error:`Could not ${t?"start":"build"} ab-initio job`},!0)}async queueAbinit(e,r){d("command-rtp","queueAbinit"),await this.call("phase2_abinit_queue",{project_uid:e,session_uid:r},{success:"Queued ab-initio job",error:"Could not queue ab-initio job"},!0)}async stopAbinit(e,r){d("command-rtp","stopAbinit"),await this.call("phase2_abinit_stop",{project_uid:e,session_uid:r},{success:"Stopped ab-initio job",error:"Unable to stop ab-initio job"},!0)}async selectAbinitClass(e,r,t){d("command-rtp","selectAbinitClass"),await this.call("phase2_abinit_select_volume",{project_uid:e,session_uid:r,vol_gname:t})}async setAbinitParam(e,r,t,a){d("command-rtp","setAbinitParam"),await this.call("phase2_abinit_set_param",{project_uid:e,session_uid:r,par:t,value:a})}async loadAbinitVolumes(e,r,t){d("command-rtp","loadAbinitVolumes"),await this.call("phase2_abinit_set_job",{project_uid:e,session_uid:r,abinit_juid:t},{success:"Loading volumes",error:"Could not load volumes"},!0)}async startRefine(e,r,t=!0){d("command-rtp","startRefine"),await this.call("phase2_refine_start",{project_uid:e,session_uid:r,start:t,user_id:this.currentUser},{success:`${t?"Started":"Built"} refinement job`,error:`Could not ${t?"start":"build"} refinement job`},!0)}async queueRefine(e,r){d("command-rtp","queueRefine"),await this.call("phase2_refine_queue",{project_uid:e,session_uid:r},{success:"Queued refinement job",error:"Could not queue refinement job"},!0)}async stopRefine(e,r){d("command-rtp","stopRefine"),await this.call("phase2_refine_stop",{project_uid:e,session_uid:r},{success:"Stopped refinement job",error:"Unable to stop refinement job"},!0)}async setRefineParam(e,r,t,a){d("command-rtp","setRefineParam"),await this.call("phase2_refine_set_param",{project_uid:e,session_uid:r,par:t,value:a})}}class hr{async call(e,r={},t=!1,a={}){var o,n;try{d("command:vis",e,r,t);const c=performance.now(),i=await fetch(`/api/cmd/vis/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include",body:JSON.stringify({payload:r,binary:t})}),l=performance.now(),_=(o=i.headers.get("content-type"))!=null?o:"";return Pe("command:vis",e,`${(l-c).toFixed(2)} ms`),typeof a.success=="string"&&q.add({title:a.success,type:"success",style:"minimal"}),_ in Ye?await i.arrayBuffer():_.includes("application/json")?await i.json():i==null?void 0:i.result}catch(c){(typeof a.error=="string"||a.showReason===!0)&&q.add({title:[(n=a.error)!=null?n:"",a.showReason===!0?c.message:""].filter(Boolean).join(": "),type:"danger",style:"minimal"}),console.error(`[command:vis:${e}]`,c.message)}}async getMicrographImage(e,r,t,a=null){return d("command-vis","getMicrographImage"),await this.call("get_individual_data_mic",{project_uid:e,session_uid:r,exposure_uid:t,lp_filter_A:a},!0,{error:"Unable to get micrograph image",showReason:!0})}async getGlobalMotionImage(e,r,t,a){return d("command-vis","getGlobalMotionImage"),await this.call("get_individual_data_globalmotion_img",{project_uid:e,session_uid:r,exposure_uid:t,found_at:a},!0,{error:"Unable to get global motion image",showReason:!0})}async getLocalMotionImage(e,r,t,a){return d("command-vis","getLocalMotionImage"),await this.call("get_individual_data_splinemotion_img",{project_uid:e,session_uid:r,exposure_uid:t,found_at:a},!0,{error:"Unable to get local motion image",showReason:!0})}async getCtf1DImage(e,r,t,a){return d("command-vis","getCtf1DImage"),await this.call("get_individual_data_ctf_diagnostic_img",{project_uid:e,session_uid:r,exposure_uid:t,found_at:a},!0,{error:"Unable to get 1D CTF image",showReason:!0})}async getCtf2DImage(e,r,t,a){return d("command-vis","getCtf2DImage"),await this.call("get_individual_data_ctf2D",{project_uid:e,session_uid:r,exposure_uid:t,found_at:a},!0,{error:"Unable to get 2D CTF image",showReason:!0})}async getPatchCtfImage(e,r,t,a){return d("command-vis","getPatchCtfImage"),await this.call("get_individual_data_ctffit_img",{project_uid:e,session_uid:r,exposure_uid:t,found_at:a},!0,{error:"Unable to get patch CTF image",showReason:!0})}async getPickerHistogram(e,r,t){return d("command-vis","getPickerHistogram"),await this.call("get_picker_hist",{project_uid:e,session_uid:r,picker_type:t},!0,{error:"Unable to get picker histogram image",showReason:!0})}async getScatterPlot(e,r){return d("command-vis","getScatterPlot"),await this.call("get_scatter_plot",{fileid:e,components:r},!1,{error:"Unable to get event log interactive scatter plot",showReason:!0})}}class br{async call(e,r,t,a,o=!1,n={}){var i,l;const c=performance.now();try{d("command:interactive",t,a,o);const _=await fetch(`/api/cmd/interactive/${Xs?"127.0.0.1":e}/${r}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include",signal:n.signal,body:JSON.stringify({body:a,binary:o})}),u=performance.now();if(Pe("command:interactive",t,`${(u-c).toFixed(2)} ms`),_.status===200){if(o)return await _.arrayBuffer();if(!((i=_.headers.get("content-type"))==null?void 0:i.includes("application/json")))throw new Error(`Request returned non-JSON content type: ${t} ${_.headers.get("content-type")}`);typeof n.success=="string"&&q.add({title:n.success,type:"success",style:"minimal"});const p=await _.json();return p==null?void 0:p.result}else throw new Error(`${_.status} ${_.statusText} -> Host: ${e} / Port: ${r} / Endpoint: ${t}`)}catch(_){if(_.name==="AbortError"){const p=(performance.now()-c)/1e3;return Ae(`Cancelled interactive request after ${p.toFixed(2)} seconds`)}else(typeof n.error=="string"||n.showReason===!0)&&q.add({title:[(l=n.error)!=null?l:"",n.showReason===!0?_.message:""].filter(Boolean).join(": "),type:"danger",style:"minimal"});throw console.error(`[command:interactive:${t}]`,_.message),new Error("Command interactive error: ",_.message)}}}const Ie=(s,e)=>{var a,o;const{subscribe:r,set:t}=f((o=JSON.parse((a=localStorage.getItem(s))!=null?a:"null"))!=null?o:e);return{subscribe:r,set:n=>{localStorage.setItem(s,JSON.stringify(n)),t(n)}}},H=(s,e)=>{var a,o;const{subscribe:r,set:t}=f((o=JSON.parse((a=sessionStorage.getItem(s))!=null?a:"null"))!=null?o:e);return{subscribe:r,set:n=>{sessionStorage.setItem(s,JSON.stringify(n)),t(n)},reset:()=>{sessionStorage.removeItem(s),t(e)}}},wr=()=>{const{subscribe:s,set:e,update:r}=f([]);return{subscribe:s,add:t=>{var o,n,c,i,l,_,u,p,m,g;const a={id:(o=t.id)!=null?o:Dt(),persistent:(n=t.persistent)!=null?n:!1,removeAfter:(c=t.removeAfter)!=null?c:7e3,title:(i=t.title)!=null?i:"<empty>",description:(l=t.description)!=null?l:null,initials:(_=t.initials)!=null?_:null,progressPct:(u=t.progressPct)!=null?u:null,server:(p=t.server)!=null?p:!1,type:(m=t.type)!=null?m:null,style:(g=t.style)!=null?g:"default",action:t.action,actionFn:t.actionFn,primaryAction:t.primaryAction,primaryActionFn:t.primaryActionFn,secondaryAction:t.secondaryAction,secondaryActionFn:t.secondaryActionFn};r(C=>[...C.filter(B=>B.id!==a.id),a])},remove:t=>r(a=>a.filter(o=>o.id!==t)),reset:()=>e([])}};var yr=(s,e)=>{const{subscribe:r,set:t,update:a}=f(e);return(async()=>{var c;const n=(c=(await ts(`/api/actions/users/state?attribute=${s}`))[s])!=null?c:e;t(n)})(),{subscribe:r,update:o=>{let n=e;r(i=>{n=i})();const c=o(n);Te("/api/actions/users/set-state",{attribute:s,value:c}),a(o)},set:o=>{Te("/api/actions/users/set-state",{attribute:s,value:o}),t(o)}}};const Q=f("$HOME"),Be=f(null),rt=f(null),at=f(!0),ot=f(null),ss=f(null),rs=f(null),as=f(!1),$r=f(!1),jr=f(!1),Ue=f([]),Fe=f(null),nt=I([Ue,as],([s,e])=>e?s:s.filter(r=>!r.is_hidden)),kr=I(nt,s=>Qt(s.reduce((e,r)=>e+r.size,0))),vr=I(nt,s=>s.length),os=f(null),ns="File Browser",it=f(ns),is=I(Fe,s=>s==="dir"),ct=Ie(ir.showSidebar,!1),Sr=()=>{ct.set(!v(ct))},Dr={recentPaths:[],bookmarks:[]},le=yr("fileBrowser",Dr),lt=f(""),Oe=f(!1),ut=f(""),Ne=f(""),Cr=s=>{const{title:e,description:r,color:t}=s.detail;if(v(le).bookmarks.find(i=>i.name===e)){console.error("Bookmark with the same name already exists");return}const n=v(Ne),c={id:Dt(),path:n,name:e.length?e:n,description:r,color:t,last_accessed:new Date,created_at:new Date};le.update(i=>be(he({},i),{bookmarks:[...i.bookmarks,c]})),Oe.set(!1)},cs=s=>{const r=v(le).bookmarks.filter(t=>t.id!==s);le.update(t=>be(he({},t),{bookmarks:r}))},ls=(s,e)=>{s.length>1&&e.length>1&&(console.log("handleShowCreateBookmarkAlert",s,e),Oe.set(!0),ut.set(s),Ne.set(e))},Rr=()=>{Oe.set(!1),ut.set(""),Ne.set("")},us=I([Q,le],([s,e])=>e.bookmarks.find(t=>t.path===s)),Ar=()=>{var r;const s=v(us),e=v(is);if(s)cs(s.id);else if(e){const t=v(Q),a=(r=t.split("/").pop())!=null?r:"";ls(a,t)}},Le=f([]),Er=async()=>{if(v(Le).length>0)return;const e=(await U(()=>import("./helpers.7177ca38.js").then(function(t){return t.bw}),["assets/helpers.7177ca38.js","assets/vendor.3ae73048.js","assets/router.1b465492.js"])).formatFieldsForQuery({uid:1,uid_num:1,title:1,project_dir:1}),r=await ts(`/api/actions/projects?${e}&sort_key=uid_num&limit=600`);Le.set(r!=null?r:[])},Pr=I([le,lt],([s,e])=>{const r=e.toLowerCase();return s.bookmarks.filter(t=>t.name.toLowerCase().includes(r))}),xr=I([Le,lt],([s,e])=>{const r=e.toLowerCase();return s.filter(t=>{var a;return t.uid.toLowerCase().includes(r)||((a=t.title)==null?void 0:a.toLowerCase().includes(r))})}),_s=s=>{console.log("FileBrowser DEFAULT_CALLBACK",s)},_t=f(_s),ds=()=>{console.log("[FileBrowser] resetOnClose"),_t.set(_s),it.set(ns),os.set(null)},Tr=(s=null,e=null,r=null)=>{console.log("choosePath"),typeof s=="string"&&Q.set(s),typeof r=="string"&&it.set(r),typeof e=="function"&&_t.set(e),ws()},Ir=()=>{console.log("[FileBrowser] handleSelect"),ys()},Br=s=>s.map(e=>be(he({},e),{formatted_mtime:Ce(new Date(parseInt(e.mtime*1e3)),"EEE, MMM d, yyyy H:mm:ss a"),formatted_size:Qt(e.size)})),Ur=async(s=!1)=>{if(v(Q).length>0&&(s||v(Q)!==v(Be))){at.set(!0);try{const e=performance.now(),r=await Ss.core.getAbsPathIndex(v(Q));console.log("getFiles res",r);const t=performance.now();at.set(!1),typeof r.error!="undefined"?(ot.set(r.error),Be.set(null),rt.set(null),Fe.set(null),Ue.set([])):(ot.set(null),Be.set(v(Q)),rt.set(r.back_path?r.back_path:null),Fe.set(r.type?r.type:null),Ue.set(r.list?Br(r.list):[])),ss.set(new Date().getTime()),rs.set((t-e).toFixed(3))}catch(e){console.error("ERROR file browser",e)}}};var di=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",path:Q,lastPathFetched:Be,backPath:rt,loading:at,error:ot,lastUpdated:ss,fetchTime:rs,showHidden:as,onSurface:$r,onTop:jr,data:Ue,currentType:Fe,filteredData:nt,totalSize:kr,totalFiles:vr,lastSelected:os,dialogTitle:it,pathIsDir:is,showSidebar:ct,toggleSidebar:Sr,userFileBrowserState:le,sidebarSearch:lt,showCreateBookmarkAlert:Oe,createBookmarkDirName:ut,createBookmarkPath:Ne,handleCreateBookmark:Cr,handleDeleteBookmark:cs,handleShowCreateBookmarkAlert:ls,closeCreateBookmarkAlert:Rr,pathIsBookmarked:us,handleBookmarkCurrentPath:Ar,projectData:Le,getProjectData:Er,filteredBookmarks:Pr,filteredProjects:xr,onSelect:_t,resetOnClose:ds,choosePath:Tr,handleSelect:Ir,getFiles:Ur});const dt=f(!1),Z=f(tr),ps=I(Z,s=>s.user!==null),fs=I(Z,s=>s.runningVersion),Fr=I(Z,s=>s.jobTypesAvailable),Or=I(Z,s=>s.lanes),Nr=I(Z,s=>s.targets),ms=I(Z,s=>s.keycloakAuthEnabled),gs=I(fs,s=>s==="develop"),Lr=f(!1),Jr=f(!1),qr=f(!1),Mr=f([]),Gr=f([]),q=wr(),Wr=f(null),Je=f(!1),qe=H(V.quickAccessExpanded,!1),Vr=()=>{v(qe)?qe.set(!1):qe.set(!0)},zr=f(),$e=H(V.sidebarExpanded,!0),Hr=()=>{window.dispatchEvent(new Event("togglesidebar")),v($e)?$e.set(!1):$e.set(!0)},Kr=()=>{$e.set(!0)},Me=H(V.sessionSidebarExpanded,!0),Qr=()=>{v(Me)?Me.set(!1):Me.set(!0)},Zr=f(),pt=H(V.slideOverExpanded,!1),hs=H(V.slideOverType,z.newProject),fe=H(V.jobDetailsExpanded,!1),bs=H(V.jobDetailsJobName,"import_movies"),ue=s=>{hs.set(s),pt.set(!0)},Xr=()=>{ue(z.newProject)},Yr=()=>{ue(z.newWorkspace)},ea=()=>{ue(z.newSession)},ta=()=>{ue(z.attachProject)},sa=()=>{ue(z.importJob)},ft=H(V.queueProjectUid,null),mt=H(V.queueJobUid,null),ra=(s=null,e=null)=>{ft.set(s),mt.set(e),ue(z.queueJob)},aa=()=>{pt.set(!1),fe.set(!1),ft.set(null),mt.set(null)},oa=()=>{v(fe)?fe.set(!1):fe.set(!0)},na=s=>{fe.set(!0),bs.set(s)},je=f(!1),ws=()=>{je.set(!0)},ys=()=>{je.set(!1),setTimeout(()=>ds(),250)},ia=()=>{je.set(!v(je))},me=f(!1),$s=f(0),gt=f(s=>{}),ca=()=>{me.set(!0)},la=()=>{me.set(!1),setTimeout(()=>{gt.set(()=>{})},250)},ua=()=>{me.set(!v(me))},_a=(s,e=r=>{})=>{me.set(!0),gt.set(e),$s.set(s)},ht=Ie(xe.dark,!1),da=()=>{ht.set(!v(ht)),pa()},pa=()=>{var s,e,r,t;localStorage.getItem(xe.dark)==="true"?(e=(s=document.querySelector("html"))==null?void 0:s.classList)==null||e.add("dark"):(t=(r=document.querySelector("html"))==null?void 0:r.classList)==null||t.remove("dark")},js=f(!1),fa=()=>{js.set(!0)},ks=f(!1),ma=()=>{ks.set(!0)},vs=Ie(xe.loginMessageEnabled,!1),ga=()=>{vs.set(!0)},ha=f(ar.currentJobs),ba=f(rr.general),wa=f(Xe.core),ya=f(cr.project),ke=f(!1),$a=()=>{ke.set(!0)},ja=()=>{v(ke)?ke.set(!1):ke.set(!0)},ka=f({}),Ss={core:new mr,rtp:new gr,vis:new hr,interactive:new br},Ds=()=>{var s;if(ie("initApp"),typeof window.__CRYOSPARC__=="object"){Z.set(window.__CRYOSPARC__),dt.set(!0),window.__CRYOSPARC__=void 0;const e=document.getElementById("state");(s=e==null?void 0:e.parentNode)==null||s.removeChild(e)}},Cs={gray:"gray",red:"red",orange:"orange",yellow:"yellow",green:"green",emerald:"emerald",teal:"teal",cyan:"cyan",blue:"blue",indigo:"indigo",pink:"pink"},Rs={gray:"blue",red:"red",orange:"orange",yellow:"yellow",green:"green",emerald:"emerald",teal:"teal",cyan:"cyan",blue:"blue",indigo:"indigo",pink:"pink"},As=Cs.gray,va=Rs[As],bt=Ie(xe.homeSectionToggles,lr),Sa=(s,e)=>{bt.set(be(he({},v(bt)),{[s]:e}))};var pi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",initialized:dt,state:Z,loggedIn:ps,runningVersion:fs,jobTypesAvailable:Fr,lanes:Or,targets:Nr,keycloakAuthEnabled:ms,liveDevEnabled:gs,liveEnabled:Lr,eCLEnabled:Jr,clickWrapDisabled:qr,computeRegistries:Mr,intermediateResultsJobTypes:Gr,notifications:q,pixelRatio:Wr,dimmer:Je,quickAccessExpanded:qe,toggleQuickAccess:Vr,sidebarPanelNode:zr,sidebarExpanded:$e,toggleSidebar:Hr,openSidebar:Kr,sessionSidebarExpanded:Me,toggleSessionSidebar:Qr,slideOverNode:Zr,slideOverExpanded:pt,slideOverType:hs,jobDetailsExpanded:fe,jobDetailsJobName:bs,openSlideOver:ue,openNewProject:Xr,openNewWorkspace:Yr,openNewSession:ea,openAttachProject:ta,openImportJob:sa,queueProjectUid:ft,queueJobUid:mt,openQueueJob:ra,closeSlideOver:aa,toggleJobDetails:oa,showJobDetails:na,fileBrowserEnabled:je,openFileBrowser:ws,closeFileBrowser:ys,toggleFileBrowser:ia,resourceSelectionEnabled:me,resourceSelectionNumGpus:$s,resourceSelectionCallback:gt,openResourceSelection:ca,closeResourceSelection:la,toggleResourceSelection:ua,startResouceSelection:_a,dark:ht,toggleDarkTheme:da,logoutAlertEnabled:js,openLogoutAlert:fa,licenseAlertEnabled:ks,openLicenseAlert:ma,loginMessageEnabled:vs,openLoginMessageAlert:ga,manageDialogSection:ha,settingsDialogSection:ba,shortcutsDialogSection:wa,newDialogSection:ya,spotlightEnabled:ke,openSpotlight:$a,toggleSpotlight:ja,latestVersion:ka,command:Ss,initApp:Ds,THEMES:Cs,ACCENTS:Rs,COLOUR:As,ACCENT_COLOUR:va,homeSectionToggles:bt,setSectionToggle:Sa});const Da=s=>({component:s&1}),Es=s=>({component:s[0]}),Ca=s=>({component:s&1}),Ps=s=>({component:s[0]}),Ra=s=>({component:s&1}),xs=s=>({component:s[0]}),Aa=s=>({component:s&1}),Ts=s=>({component:s[0]}),Ea=s=>({error:s&2,component:s&1}),Is=s=>({error:s[1],component:s[0]});function Pa(s){let e,r,t,a;const o=[Fa,Ua,Ba],n=[];function c(i,l){return i[4]&&i[4].success?0:i[4]&&i[4].default?1:2}return e=c(s),r=n[e]=o[e](s),{c(){r.c(),t=x()},l(i){r.l(i),t=x()},m(i,l){n[e].m(i,l),G(i,t,l),a=!0},p(i,l){r.p(i,l)},i(i){a||(h(r),a=!0)},o(i){b(r),a=!1},d(i){n[e].d(i),i&&W(t)}}}function xa(s){let e;const r=s[11].loading,t=se(r,s,s[10],xs);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&1025)&&re(t,r,a,a[10],e?oe(r,a[10],o,Ra):ae(a[10]),xs)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Ta(s){let e;const r=s[11].timeout,t=se(r,s,s[10],Ts);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&1025)&&re(t,r,a,a[10],e?oe(r,a[10],o,Aa):ae(a[10]),Ts)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Ia(s){let e;const r=s[11].error,t=se(r,s,s[10],Is);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&1027)&&re(t,r,a,a[10],e?oe(r,a[10],o,Ea):ae(a[10]),Is)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Ba(s){let e,r,t;const a=[s[3]];var o=s[0];function n(c){let i={};for(let l=0;l<a.length;l+=1)i=Qe(i,a[l]);return{props:i}}return o&&(e=new o(n())),{c(){e&&R(e.$$.fragment),r=x()},l(c){e&&T(e.$$.fragment,c),r=x()},m(c,i){e&&A(e,c,i),G(c,r,i),t=!0},p(c,i){const l=i&8?qs(a,[Ms(c[3])]):{};if(o!==(o=c[0])){if(e){ee();const _=e;b(_.$$.fragment,1,0,()=>{E(_,1)}),te()}o?(e=new o(n()),R(e.$$.fragment),h(e.$$.fragment,1),A(e,r.parentNode,r)):e=null}else o&&e.$set(l)},i(c){t||(e&&h(e.$$.fragment,c),t=!0)},o(c){e&&b(e.$$.fragment,c),t=!1},d(c){c&&W(r),e&&E(e,c)}}}function Ua(s){let e;const r=s[11].default,t=se(r,s,s[10],Es);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&1025)&&re(t,r,a,a[10],e?oe(r,a[10],o,Da):ae(a[10]),Es)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Fa(s){let e;const r=s[11].success,t=se(r,s,s[10],Ps);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&1025)&&re(t,r,a,a[10],e?oe(r,a[10],o,Ca):ae(a[10]),Ps)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Oa(s){let e,r,t,a;const o=[Ia,Ta,xa,Pa],n=[];function c(i,l){return i[2]===N.ERROR?0:i[2]===N.TIMEOUT?1:i[2]===N.LOADING?2:i[2]===N.SUCCESS?3:-1}return~(e=c(s))&&(r=n[e]=o[e](s)),{c(){r&&r.c(),t=x()},l(i){r&&r.l(i),t=x()},m(i,l){~e&&n[e].m(i,l),G(i,t,l),a=!0},p(i,[l]){let _=e;e=c(i),e===_?~e&&n[e].p(i,l):(r&&(ee(),b(n[_],1,1,()=>{n[_]=null}),te()),~e?(r=n[e],r?r.p(i,l):(r=n[e]=o[e](i),r.c()),h(r,1),r.m(t.parentNode,t)):r=null)},i(i){a||(h(r),a=!0)},o(i){b(r),a=!1},d(i){~e&&n[e].d(i),i&&W(t)}}}const Na=new Map,wt=new Map,N=Object.freeze({INITIALIZED:0,LOADING:1,SUCCESS:2,ERROR:3,TIMEOUT:4});async function La(s,e=!1){const r=await s(),t=r.default||r;return e||wt.set(s,t),t}function Ja(s,e,r){let{$$slots:t={},$$scope:a}=e,{delay:o=200}=e,{timeout:n=null}=e,{loader:c=null}=e,{unloader:i=!1}=e,{component:l=null}=e,{error:_=null}=e,u=null,p=null,m=N.INITIALIZED,g,C=e.$$slots,B=!1;const w=Ls(),k=Js("svelte-loadable-capture");typeof k=="function"&&Na.has(c)&&k(c);function O(){u!==null&&clearTimeout(u),p!==null&&clearTimeout(p)}async function X(){if(O(),typeof c=="function"){r(1,_=null),r(0,l=null),o>0?(r(2,m=N.INITIALIZED),u=window.setTimeout(()=>{r(2,m=N.LOADING)},o)):r(2,m=N.LOADING),n&&(p=window.setTimeout(()=>{r(2,m=N.TIMEOUT)},n));try{r(0,l=await La(c,i)),r(2,m=N.SUCCESS)}catch(j){if(r(2,m=N.ERROR),r(1,_=j),C==null||C.error==null)throw j}O()}}return wt.has(c)?(m=N.SUCCESS,l=wt.get(c)):Ct(()=>(B=!0,X().then(()=>{B&&w("load")}),()=>{B=!1,typeof i=="function"&&i()})),s.$$set=j=>{r(18,e=Qe(Qe({},e),Rt(j))),"delay"in j&&r(5,o=j.delay),"timeout"in j&&r(6,n=j.timeout),"loader"in j&&r(7,c=j.loader),"unloader"in j&&r(8,i=j.unloader),"component"in j&&r(0,l=j.component),"error"in j&&r(1,_=j.error),"$$scope"in j&&r(10,a=j.$$scope)},s.$$.update=()=>{{let j=e,{delay:Ge,timeout:ve,loader:yt,component:$,error:Y}=j,ge=De(j,["delay","timeout","loader","component","error"]);r(3,g=ge)}},e=Rt(e),[l,_,m,g,C,o,n,c,i,X,a,t]}class L extends ze{constructor(e){super();He(this,e,Ja,Oa,Ke,{delay:5,timeout:6,loader:7,unloader:8,component:0,error:1,load:9})}get load(){return this.$$.ctx[9]}}function qa(s){let e,r;return e=new L({props:{loader:Qa,$$slots:{default:[Wa,({component:t})=>({3:t}),({component:t})=>t?8:0]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p(t,a){const o={};a&12&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Ma(s){let e,r;return e=new L({props:{loader:Ka,$$slots:{default:[za,({component:t})=>({3:t}),({component:t})=>t?8:0]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p(t,a){const o={};a&12&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Ga(s){let e;const r=s[1].default,t=se(r,s,s[2],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&4)&&re(t,r,a,a[2],e?oe(r,a[2],o,null):ae(a[2]),null)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function Wa(s){let e,r,t;var a=s[3];function o(n){return{props:{$$slots:{default:[Ga]},$$scope:{ctx:n}}}}return a&&(e=new a(o(s))),{c(){e&&R(e.$$.fragment),r=x()},l(n){e&&T(e.$$.fragment,n),r=x()},m(n,c){e&&A(e,n,c),G(n,r,c),t=!0},p(n,c){const i={};if(c&4&&(i.$$scope={dirty:c,ctx:n}),a!==(a=n[3])){if(e){ee();const l=e;b(l.$$.fragment,1,0,()=>{E(l,1)}),te()}a?(e=new a(o(n)),R(e.$$.fragment),h(e.$$.fragment,1),A(e,r.parentNode,r)):e=null}else a&&e.$set(i)},i(n){t||(e&&h(e.$$.fragment,n),t=!0)},o(n){e&&b(e.$$.fragment,n),t=!1},d(n){n&&W(r),e&&E(e,n)}}}function Va(s){let e;const r=s[1].default,t=se(r,s,s[2],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){t&&t.p&&(!e||o&4)&&re(t,r,a,a[2],e?oe(r,a[2],o,null):ae(a[2]),null)},i(a){e||(h(t,a),e=!0)},o(a){b(t,a),e=!1},d(a){t&&t.d(a)}}}function za(s){let e,r,t;var a=s[3];function o(n){return{props:{$$slots:{default:[Va]},$$scope:{ctx:n}}}}return a&&(e=new a(o(s))),{c(){e&&R(e.$$.fragment),r=x()},l(n){e&&T(e.$$.fragment,n),r=x()},m(n,c){e&&A(e,n,c),G(n,r,c),t=!0},p(n,c){const i={};if(c&4&&(i.$$scope={dirty:c,ctx:n}),a!==(a=n[3])){if(e){ee();const l=e;b(l.$$.fragment,1,0,()=>{E(l,1)}),te()}a?(e=new a(o(n)),R(e.$$.fragment),h(e.$$.fragment,1),A(e,r.parentNode,r)):e=null}else a&&e.$set(i)},i(n){t||(e&&h(e.$$.fragment,n),t=!0)},o(n){e&&b(e.$$.fragment,n),t=!1},d(n){n&&W(r),e&&E(e,n)}}}function Ha(s){let e,r,t,a;const o=[Ma,qa],n=[];function c(i,l){return i[0]===!0?0:1}return e=c(s),r=n[e]=o[e](s),{c(){r.c(),t=x()},l(i){r.l(i),t=x()},m(i,l){n[e].m(i,l),G(i,t,l),a=!0},p(i,[l]){let _=e;e=c(i),e===_?n[e].p(i,l):(ee(),b(n[_],1,1,()=>{n[_]=null}),te(),r=n[e],r?r.p(i,l):(r=n[e]=o[e](i),r.c()),h(r,1),r.m(t.parentNode,t))},i(i){a||(h(r),a=!0)},o(i){b(r),a=!1},d(i){n[e].d(i),i&&W(t)}}}const Ka=()=>U(()=>import("./Authenticated.43a5e742.js").then(function(s){return s.b3}),["assets/Authenticated.43a5e742.js","assets/Authenticated.ee68c6f0.css","assets/vendor.3ae73048.js","assets/router.1b465492.js","assets/auth.ae36c178.js","assets/helpers.7177ca38.js","assets/createNew.a4a688d1.js","assets/jobs.7ab064ef.js","assets/index.c4392b02.js","assets/jobs.d50d1674.js","assets/Logout.c3964a48.js","assets/index.9987ff70.js","assets/index.11580965.js","assets/index.5ca08db9.css","assets/Icon.61279884.js","assets/index.2e3bb17a.js","assets/ChevronUp.0ab7bee0.js","assets/types.8cb6216c.js","assets/types.2b75528f.css","assets/Spinner.012207c4.js","assets/Folder.9bc96b35.js","assets/LockClosed.9ead7228.js","assets/cleanupData.f259a128.js","assets/Exclamation.f44359c6.js","assets/TagCount.d4471cb8.js","assets/Tag.2b4e7c42.js","assets/Workflow.261abe6c.js","assets/Database.55c9be70.js","assets/Search.fa01495d.js","assets/LightningBolt.e8bda490.js","assets/SidebarLeftOpen.3b7701dd.js"]),Qa=()=>U(()=>import("./Public.9933b648.js"),["assets/Public.9933b648.js","assets/vendor.3ae73048.js"]);function Za(s,e,r){let{$$slots:t={},$$scope:a}=e,{authenticated:o=!1}=e;return s.$$set=n=>{"authenticated"in n&&r(0,o=n.authenticated),"$$scope"in n&&r(2,a=n.$$scope)},[o,t,a]}class Xa extends ze{constructor(e){super();He(this,e,Za,Ha,Ke,{authenticated:0})}}function Bs(s){let e,r;return e=new Xa({props:{authenticated:s[1],$$slots:{default:[co]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p(t,a){const o={};a&2&&(o.authenticated=t[1]),a&89&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function Ya(s){let e,r;return e=new L({props:{loader:yo}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function eo(s){let e,r;return e=new L({props:{loader:wo}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function to(s){let e,r;return e=new L({props:{loader:bo}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function so(s){let e,r;return e=new L({props:{loader:ho}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ro(s){let e,r;return e=new L({props:{loader:go}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ao(s){let e,r;return e=new L({props:{loader:mo}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function oo(s){let e,r;return e=new L({props:{loader:fo}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function no(s){let e,r;return e=new L({props:{loader:po}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function io(s){let e,r;return e=new L({props:{loader:_o}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function co(s){let e,r,t,a,o,n,c,i,l,_,u,p,m;const g=[io,no,oo,ao,ro,so,to,eo,Ya],C=[];function B(w,k){return k&9&&(e=null),k&1&&(r=null),k&1&&(t=null),k&1&&(a=null),k&1&&(o=null),k&1&&(n=null),k&1&&(c=null),k&17&&(i=null),k&1&&(l=null),e==null&&(e=!!(w[0](S.login)&&w[3])),e?0:(r==null&&(r=!!w[0](S.login)),r?1:(t==null&&(t=!!w[0](S.resetPassword)),t?2:(a==null&&(a=!!w[0](S.createAccount)),a?3:(o==null&&(o=!!w[0](S.home)),o?4:(n==null&&(n=!!w[0](S.browse)),n?5:(c==null&&(c=!!w[0](S.live)),c?6:(i==null&&(i=!!(w[0](S.liveDev)&&w[4])),i?7:(l==null&&(l=!!w[0](S.extend)),l?8:-1))))))))}return~(_=B(s,-1))&&(u=C[_]=g[_](s)),{c(){u&&u.c(),p=x()},l(w){u&&u.l(w),p=x()},m(w,k){~_&&C[_].m(w,k),G(w,p,k),m=!0},p(w,k){let O=_;_=B(w,k),_!==O&&(u&&(ee(),b(C[O],1,1,()=>{C[O]=null}),te()),~_?(u=C[_],u||(u=C[_]=g[_](w),u.c()),h(u,1),u.m(p.parentNode,p)):u=null)},i(w){m||(h(u),m=!0)},o(w){b(u),m=!1},d(w){~_&&C[_].d(w),w&&W(p)}}}function lo(s){let e,r,t,a,o,n;e=new L({props:{loader:uo}});let c=s[2]&&Bs(s);return{c(){R(e.$$.fragment),r=Gs(),c&&c.c(),t=x()},l(i){T(e.$$.fragment,i),r=Ws(i),c&&c.l(i),t=x()},m(i,l){A(e,i,l),G(i,r,l),c&&c.m(i,l),G(i,t,l),a=!0,o||(n=Vs(window,"click",zs),o=!0)},p(i,[l]){i[2]?c?(c.p(i,l),l&4&&h(c,1)):(c=Bs(i),c.c(),h(c,1),c.m(t.parentNode,t)):c&&(ee(),b(c,1,1,()=>{c=null}),te())},i(i){a||(h(e.$$.fragment,i),h(c),a=!0)},o(i){b(e.$$.fragment,i),b(c),a=!1},d(i){E(e,i),i&&W(r),c&&c.d(i),i&&W(t),o=!1,n()}}}const uo=()=>U(()=>import("./Notifications.60782429.js"),["assets/Notifications.60782429.js","assets/Notifications.2d24279a.css","assets/vendor.3ae73048.js","assets/router.1b465492.js"]),_o=()=>U(()=>import("./LoginKeycloak.4d9e2961.js"),["assets/LoginKeycloak.4d9e2961.js","assets/vendor.3ae73048.js","assets/index.2e3bb17a.js","assets/router.1b465492.js","assets/auth.ae36c178.js"]),po=()=>U(()=>import("./Login.c4b576ba.js"),["assets/Login.c4b576ba.js","assets/vendor.3ae73048.js","assets/auth.ae36c178.js"]),fo=()=>U(()=>import("./ResetPassword.96c9ba35.js"),["assets/ResetPassword.96c9ba35.js","assets/ResetPassword.7950693c.css","assets/vendor.3ae73048.js","assets/auth.ae36c178.js","assets/Icon.61279884.js","assets/Mail.fc400716.js","assets/ResetPasswordForm.27471f69.js","assets/LockClosed.9ead7228.js","assets/Tag.2b4e7c42.js"]),mo=()=>U(()=>import("./CreateAccount.a5765411.js"),["assets/CreateAccount.a5765411.js","assets/vendor.3ae73048.js","assets/auth.ae36c178.js","assets/ResetPasswordForm.27471f69.js","assets/ResetPassword.7950693c.css","assets/Icon.61279884.js","assets/LockClosed.9ead7228.js","assets/Mail.fc400716.js","assets/Tag.2b4e7c42.js"]),go=()=>U(()=>import("./Home.1a77df16.js"),["assets/Home.1a77df16.js","assets/Home.9d8ce454.css","assets/vendor.3ae73048.js","assets/router.1b465492.js","assets/Icon.61279884.js","assets/Speakerphone.7bec186a.js","assets/helpers.7177ca38.js","assets/types.8cb6216c.js","assets/types.2b75528f.css","assets/index.2e3bb17a.js","assets/QuestionMarkCircle.1d0a7a5c.js","assets/Spinner.012207c4.js","assets/ChevronUp.0ab7bee0.js","assets/Loading.92fe8374.js","assets/jobs.7ab064ef.js","assets/index.c4392b02.js","assets/jobs.d50d1674.js","assets/JobCardsMenu.42df5f55.js","assets/apply.0059decc.js","assets/createNew.a4a688d1.js","assets/index.11580965.js","assets/index.5ca08db9.css","assets/Folder.9bc96b35.js","assets/LockClosed.9ead7228.js","assets/MenuInfo.722434b0.js","assets/MenuItemConfirmation.1afa248b.js","assets/Button.d254e004.js","assets/MenuNested.51f47e2f.js","assets/JobTagsEditMenu.a5153cee.js"]),ho=()=>U(()=>import("./Browse.b7908766.js"),["assets/Browse.b7908766.js","assets/vendor.3ae73048.js","assets/router.1b465492.js","assets/index.c4392b02.js","assets/helpers.7177ca38.js"]),bo=()=>U(()=>import("./Live.69d73b3d.js"),["assets/Live.69d73b3d.js","assets/vendor.3ae73048.js","assets/router.1b465492.js"]),wo=()=>U(()=>import("./LiveDev.4c8cdc56.js"),["assets/LiveDev.4c8cdc56.js","assets/Classification.ec2c74f8.css","assets/vendor.3ae73048.js","assets/router.1b465492.js","assets/stringify.15726629.js","assets/Icon.61279884.js","assets/Logout.c3964a48.js","assets/helpers.7177ca38.js","assets/MinusCircle.54d00c03.js","assets/PlusCircle.2b6e052c.js","assets/ChevronUp.0ab7bee0.js","assets/Events.b9086f35.js","assets/Events.eb1acc2a.css","assets/Exclamation.f44359c6.js","assets/Refresh.40401873.js","assets/InfiniteScrollLoader.21052268.js","assets/helpers.cea6b59c.js","assets/plotly.2255cf4f.js","assets/types.8cb6216c.js","assets/types.2b75528f.css","assets/index.2e3bb17a.js","assets/Loading.92fe8374.js","assets/lodash.7e9ccf5d.js","assets/interactive.28807de7.js","assets/SortDescending.fe42c534.js"]),yo=()=>U(()=>import("./Extend.9ec3ab8b.js"),["assets/Extend.9ec3ab8b.js","assets/vendor.3ae73048.js"]);function $o(s,e,r){let t,a,o,n,c,i;return _e(s,Re,l=>r(5,t=l)),_e(s,Hs,l=>r(0,a=l)),_e(s,ps,l=>r(1,o=l)),_e(s,dt,l=>r(2,n=l)),_e(s,ms,l=>r(3,c=l)),_e(s,gs,l=>r(4,i=l)),Ct(()=>(Ys("CryoSPARC"),Ds(),fr(),()=>{ie("App onDestroy")})),s.$$.update=()=>{var l;if(s.$$.dirty&39)if(n&&!o&&!Ut.some(_=>_===t.toString()))Ae("[redirect] un-auth user -> /login"),localStorage.setItem("cryosparc_authRedirect",t.toString()),Ze(Re,t=et(S.login),t);else if(n&&o&&Ut.some(_=>_===t.toString())){const _=(l=localStorage.getItem("cryosparc_authRedirect"))!=null?l:S.home;localStorage.removeItem("cryosparc_authRedirect"),Ae(`[redirect] auth user -> ${_}`),Ze(Re,t=et(_),t)}else n&&o&&!sr.some(_=>a(_))&&(Ae("[redirect] auth user -> /"),Ze(Re,t=et(S.home),t))},[a,o,n,c,i,t]}class jo extends ze{constructor(e){super();He(this,e,$o,lo,Ke,{})}}new jo({target:document.getElementById("app"),hydrate:!0});export{Mr as $,yn as A,jn as B,xn as C,Ro as D,gn as E,As as F,qn as G,st as H,fs as I,y as J,Ht as K,L,ar as M,Jr as N,ce as O,Co as P,Yt as Q,S as R,V as S,Ot as T,Fo as U,js as V,ka as W,Lr as X,qr as Y,Gr as Z,U as _,M as a,$e as a$,Do as a0,Ko as a1,Xo as a2,Yo as a3,Qo as a4,Zo as a5,Bt as a6,It as a7,on as a8,vn as a9,Nt as aA,ur as aB,_i as aC,Po as aD,xe as aE,To as aF,Wn as aG,je as aH,ys as aI,fe as aJ,oa as aK,ja as aL,Hr as aM,Vr as aN,en as aO,tn as aP,D as aQ,fn as aR,ne as aS,pi as aT,di as aU,ms as aV,$n as aW,va as aX,ue as aY,Kr as aZ,ui as a_,li as aa,Vn as ab,Io as ac,ii as ad,pt as ae,hs as af,z as ag,aa as ah,xo as ai,Bo as aj,ti as ak,yr as al,Vt as am,zt as an,wn as ao,zo as ap,es as aq,Ho as ar,Gn as as,ei as at,Xt as au,$r as av,Tr as aw,_a as ax,rn as ay,cn as az,d as b,Ao as b$,ma as b0,fa as b1,Je as b2,ke as b3,ks as b4,vs as b5,me as b6,ye as b7,Zt as b8,tt as b9,lt as bA,Pr as bB,Q as bC,xr as bD,ir as bE,Er as bF,le as bG,nt as bH,as as bI,rt as bJ,_t as bK,jr as bL,it as bM,ct as bN,us as bO,is as bP,at as bQ,ot as bR,rs as bS,vr as bT,kr as bU,Oe as bV,Sr as bW,Ur as bX,cs as bY,ls as bZ,Ar as b_,Mt as ba,Gt as bb,Wt as bc,qt as bd,Wr as be,an as bf,bn as bg,Qt as bh,Ft as bi,Qn as bj,Kn as bk,Me as bl,Qr as bm,gs as bn,kn as bo,dn as bp,Cn as bq,Rn as br,nn as bs,un as bt,ln as bu,Xr as bv,Yr as bw,ea as bx,ta as by,sa as bz,So as c,rr as c0,ba as c1,zr as c2,Zr as c3,Eo as c4,Dn as c5,ha as c6,Xe as c7,wa as c8,pr as c9,Go as cA,Cr as cB,Sn as cC,de as cD,xt as cE,ri as cF,En as cG,Jt as cH,mt as cI,ft as cJ,Kt as cK,Yn as cL,Xs as cM,ci as cN,Mn as cO,sn as cP,Zn as cQ,_n as ca,gt as cb,$s as cc,la as cd,pn as ce,Hn as cf,zn as cg,Pn as ch,ra as ci,si as cj,An as ck,mn as cl,Fn as cm,Un as cn,Tn as co,In as cp,Bn as cq,On as cr,Nn as cs,Oo as ct,No as cu,Lo as cv,hn as cw,Jo as cx,Mo as cy,Wo as cz,Ae as d,Ee as e,Vo as f,Xn as g,qo as h,Tt as i,oi as j,ai as k,ie as l,ni as m,q as n,Jn as o,Te as p,qe as q,ga as r,Z as s,tr as t,Ss as u,Ln as v,H as w,Ie as x,Uo as y,ts as z};
