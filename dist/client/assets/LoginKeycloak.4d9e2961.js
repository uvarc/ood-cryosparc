var S=Object.defineProperty,j=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var p=(a,e,t)=>e in a?S(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,h=(a,e)=>{for(var t in e||(e={}))R.call(e,t)&&p(a,t,e[t]);if(_)for(var t of _(e))$.call(e,t)&&p(a,t,e[t]);return a},b=(a,e)=>j(a,L(e));import{S as P,h as T,s as C,Q as g,R as k,T as y,p as c,U as w,k as f,a2 as Y,a3 as q,a4 as v,u as A,a5 as D,Y as I,a6 as x,a7 as K}from"./vendor.3ae73048.js";import{f as E}from"./index.2e3bb17a.js";import"./router.1b465492.js";import{k as O}from"./auth.ae36c178.js";import{K as u}from"./index.146c2037.js";function U(a){let e;return{c(){e=x("Signing in with Keycloak")},l(t){e=K(t,"Signing in with Keycloak")},m(t,r){f(t,e,r)},d(t){t&&c(e)}}}function M(a){let e;return{c(){e=x("Redirecting to Keycloak Login")},l(t){e=K(t,"Redirecting to Keycloak Login")},m(t,r){f(t,e,r)},d(t){t&&c(e)}}}function N(a){let e,t,r,s;function d(n,l){if(n[0]===u.redirect)return M;if(n[0]===u.login)return U}let o=d(a),i=o&&o(a);return{c(){e=g("div"),t=g("span"),i&&i.c(),this.h()},l(n){e=k(n,"DIV",{class:!0});var l=y(e);t=k(l,"SPAN",{class:!0});var m=y(t);i&&i.l(m),m.forEach(c),l.forEach(c),this.h()},h(){w(t,"class","mx-auto font-medium text-lg text-blue-500"),w(e,"class","flex items-center w-full h-32 mt-8 bg-blue-100 border border-blue-300 rounded-lg")},m(n,l){f(n,e,l),Y(e,t),i&&i.m(t,null),s=!0},p(n,[l]){o!==(o=d(n))&&(i&&i.d(1),i=o&&o(n),i&&(i.c(),i.m(t,null)))},i(n){s||(q(()=>{r||(r=v(e,E,{duration:100},!0)),r.run(1)}),s=!0)},o(n){r||(r=v(e,E,{duration:100},!1)),r.run(0),s=!1},d(n){n&&c(e),i&&i.d(),n&&r&&r.end()}}}function Q(a,e,t){let r=u.redirect;const s=async()=>{const d=new URLSearchParams(window.location.search),{code:o=null,state:i=null}=Object.fromEntries(d.entries());o&&t(0,r=u.login),await O(o,i,`${window.location.origin}${window.location.pathname}`),I.update(n=>b(h({},n),{params:{}}))};return A(async()=>{await D(),s()}),[r]}class J extends P{constructor(e){super();T(this,e,Q,N,C,{})}}export{J as default};
